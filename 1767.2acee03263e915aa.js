"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1767],{36854:(w,_,t)=>{t.d(_,{h:()=>T}),t(77135);var s=t(5e3),h=t(8674),g=t(74042),f=t(69808),m=t(87757),D=t(63043),E=t(50578),I=t(27078),e=t(42437),P=t(24919);const M=["menu"];function S(A,N){if(1&A&&s._UZ(0,"button",8),2&A){const c=s.oxw(),v=s.MAs(6);s.Q6J("label","Select a file ("+c.files.length+")")("fdMenu",!0)("fdMenuTrigger",v)}}function F(A,N){if(1&A){const c=s.EpF();s.TgZ(0,"li",9),s.NdJ("click",function(){const Z=s.CHM(c).$implicit;return s.oxw().getFile(Z)}),s.TgZ(1,"div",10)(2,"span",11),s._uU(3),s.qZA()()()}if(2&A){const c=N.$implicit,v=s.oxw();s.ekj("is-selected",c===v.activeFile),s.xp6(3),s.Oqu(c)}}let T=(()=>{class A{constructor(c,v){this.route=c,this.apiService=v}ngOnInit(){this.route.snapshot.data&&(this.files=this.route.snapshot.data.content),this.files&&this.files.length>0?(this.files.sort(),this.getFile(this.files[0]),this.activeFile=this.files[0]):this.result="<h2>No API files found.</h2>"}getFile(c){this.apiService.getComponentHtml(c).subscribe(v=>{this.result=v,this.activeFile=c,this.menu.close()},v=>{console.warn("Did not find file "+c+".\nError: "+v)})}}return A.\u0275fac=function(c){return new(c||A)(s.Y36(h.gz),s.Y36(g.S))},A.\u0275cmp=s.Xpm({type:A,selectors:[["fd-api"]],viewQuery:function(c,v){if(1&c&&s.Gf(M,5),2&c){let b;s.iGM(b=s.CRH())&&(v.menu=b.first)}},decls:9,vars:5,consts:[[1,"api-main-container"],[1,"api-main-header"],[2,"display","flex","flex-grow","1"],["fd-button","",3,"label","fdMenu","fdMenuTrigger",4,"ngIf"],["placement","bottom-start",3,"fillControlMode"],["menu",""],["fd-menu-item","",3,"is-selected","click",4,"ngFor","ngForOf"],[3,"innerHTML"],["fd-button","",3,"label","fdMenu","fdMenuTrigger"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(c,v){1&c&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2),s.qZA(),s._UZ(3,"span",2),s.YNc(4,S,1,3,"button",3),s.TgZ(5,"fd-menu",4,5),s.YNc(7,F,4,3,"li",6),s.qZA()(),s._UZ(8,"div",7)),2&c&&(s.xp6(2),s.Oqu(v.activeFile),s.xp6(2),s.Q6J("ngIf",v.files.length>1),s.xp6(1),s.Q6J("fillControlMode",null),s.xp6(2),s.Q6J("ngForOf",v.files),s.xp6(1),s.Q6J("innerHTML",v.result,s.oJD))},directives:[f.O5,m.r,D.k,E.M,f.sg,I.qv,e.K,P.h],styles:[".api-main-header[_ngcontent-%COMP%]{margin:0;font-weight:700;text-rendering:optimizeLegibility}.api-main-container[_ngcontent-%COMP%]{margin-top:2em;display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap}fd-popover[_ngcontent-%COMP%]     .fd-button{margin-right:0}"]}),A})()},63710:(w,_,t)=>{t.d(_,{c:()=>I});var r=t(5e3),s=t(17791),h=t(66997),g=t(8674),f=t(1726),m=t(55124),D=t(33089);const E=function(){return{exact:!0}};let I=(()=>{class e{}return e.\u0275fac=function(M){return new(M||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["fd-header-tabs"]],decls:12,vars:4,consts:[["fd-tab-nav",""],["fd-tab-item",""],["fd-tab-link","","routerLink","./","routerLinkActive","",3,"active","routerLinkActiveOptions"],["rla1","routerLinkActive"],["fd-tab-tag",""],["fd-tab-link","","routerLink","./api","routerLinkActive","",3,"active"],["rla2","routerLinkActive"],[2,"margin-top","0"]],template:function(M,S){if(1&M&&(r.TgZ(0,"ul",0)(1,"li",1)(2,"a",2,3)(4,"span",4),r._uU(5,"Examples"),r.qZA()()(),r.TgZ(6,"li",1)(7,"a",5,6)(9,"span",4),r._uU(10,"API"),r.qZA()()()(),r._UZ(11,"separator",7)),2&M){const F=r.MAs(3),T=r.MAs(8);r.xp6(2),r.Q6J("active",F.isActive)("routerLinkActiveOptions",r.DdM(3,E)),r.xp6(5),r.Q6J("active",T.isActive)}},directives:[s.d,h.w,g.yS,f.w,g.Od,m.P6,D.N],styles:["[_nghost-%COMP%]{display:block}.fd-tabs[_ngcontent-%COMP%]{margin-bottom:0;margin-top:24px;box-shadow:none}.fd-tabs__item[_ngcontent-%COMP%]{padding:0;margin-right:24px}.fd-tabs__link[_ngcontent-%COMP%]{min-width:60px;padding-right:12px;padding-left:12px;text-align:center}"]}),e})()},24882:(w,_,t)=>{t.d(_,{G:()=>h});var r=t(5e3);const s=["*"];let h=(()=>{class g{}return g.\u0275fac=function(m){return new(m||g)},g.\u0275cmp=r.Xpm({type:g,selectors:[["header"]],ngContentSelectors:s,decls:2,vars:0,consts:[[1,"header"]],template:function(m,D){1&m&&(r.F$t(),r.TgZ(0,"h1",0),r.Hsn(1),r.qZA())},styles:[".header[_ngcontent-%COMP%]{margin-top:2rem;font-size:2.2rem}"]}),g})()},98791:(w,_,t)=>{t.d(_,{k:()=>s});var r=t(5e3);let s=(()=>{class h{constructor(f){this.currentLib=f}ngOnInit(){const f=["@fundamental-ngx",this.currentLib];this.subPackage&&f.push(this.subPackage),this.library=f.join("/")}}return h.\u0275fac=function(f){return new(f||h)(r.Y36("CURRENT_LIB"))},h.\u0275cmp=r.Xpm({type:h,selectors:[["import"]],inputs:{module:"module",subPackage:"subPackage"},decls:9,vars:2,consts:[[2,"color","rgb(0, 0, 136)"],[2,"color","rgb(0, 136, 0)"]],template:function(f,m){1&f&&(r.TgZ(0,"code")(1,"span",0),r._uU(2,"import"),r.qZA(),r._uU(3),r.TgZ(4,"span",0),r._uU(5,"from "),r.qZA(),r.TgZ(6,"span",1),r._uU(7),r.qZA(),r._uU(8,"; "),r.qZA()),2&f&&(r.xp6(3),r.hij(" { ",m.module," } "),r.xp6(4),r.hij("'",m.library,"'"))},encapsulation:2}),h})()},74042:(w,_,t)=>{t.d(_,{S:()=>h});var r=t(5e3),s=t(40520);let h=(()=>{class g{constructor(m,D){this.httpClient=m,this.currentLib=D,this.BASE_URL="assets/typedoc/"}getComponentHtml(m){m=m.toLocaleLowerCase()+".html";const D=this.buildUrl(this.BASE_URL,this.currentLib||"core","classes",m);return this.httpClient.get(D,{responseType:"text"})}buildUrl(...m){return m.join("/").replace(/\/+/g,"/")}}return g.\u0275fac=function(m){return new(m||g)(r.LFG(s.eN),r.LFG("CURRENT_LIB"))},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac}),g})()},28674:(w,_,t)=>{t.d(_,{g:()=>v});var r=t(69808),s=t(8674),h=t(52382),g=t(62970),f=t(53732),m=t(74042),D=t(32818),E=t(30825),I=t(90523),e=t(80848),P=t(31258),M=t(77135),S=t(89282),F=t(95037),T=t(46394),A=t(75394);const N=[T.P4,M.$9,e.Q,F.o,E.hJ,S.H,I.nY,P.L,A.s];var c=t(5e3);let v=(()=>{class b{}return b.\u0275fac=function(U){return new(U||b)},b.\u0275mod=c.oAB({type:b}),b.\u0275inj=c.cJS({providers:[f.t,m.S],imports:[[h.u5,r.ez,s.Bz,D.f,N,g.JP.forChild()],h.u5,h.UX,D.f,r.ez,T.P4,M.$9,e.Q,F.o,E.hJ,S.H,I.nY,P.L,A.s]}),b})()},21767:(w,_,t)=>{t.r(_),t.d(_,{PlatformApprovalFlowDocsModule:()=>se});var r=t(8674),s=t(41831),h=t(85403),g=t(97045),f=t(35424),m=t(88001),D=t(36854),E=t(45665),I=t(28674),e=t(5e3),P=t(24882),M=t(87960),S=t(44969),F=t(98791),T=t(63710);let A=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["fd-approval-flow-header"]],decls:17,vars:0,consts:[["label","SAP Ariba Component","title","SAP Ariba Component","color","8"],["module","PlatformApprovalFlowModule","subPackage","approval-flow"]],template:function(a,n){1&a&&(e.TgZ(0,"header"),e._uU(1,"Approval Flow"),e.qZA(),e._UZ(2,"fd-info-label",0),e.TgZ(3,"description"),e._uU(4," The Approval Flow component is a complex component which tracks and manages the approval process for a business object. From the Approval Flow component a user is able to: "),e.TgZ(5,"ul")(6,"li"),e._uU(7,"See the progress of the approval process"),e.qZA(),e.TgZ(8,"li"),e._uU(9,"Add, edit, move (drag and drop) and delete approvers"),e.qZA(),e.TgZ(10,"li"),e._uU(11,"Add and remove watchers"),e.qZA(),e.TgZ(12,"li"),e._uU(13,"Send reminder notifications to approvers"),e.qZA()()(),e._UZ(14,"import",1)(15,"fd-header-tabs")(16,"router-outlet"))},directives:[P.G,M.e,S.w,F.k,T.c,r.lC],styles:[""]}),d})();var N=t(28412),c=t(99638),v=t(93943),b=t(28595),Z=t(50727),U=t(39646),j=t(91005),O=t(19803),y=t(46698),Q=t(37701),B=t(69808),x=t(52382),W=t(62828);const G=["reminderTemplate"];function H(d,u){if(1&d&&(e.TgZ(0,"h4",24),e._uU(1,"Contact info"),e.qZA(),e.TgZ(2,"p",25)(3,"span"),e._uU(4,"Mobile"),e.qZA(),e.TgZ(5,"a",26),e._uU(6),e.qZA()(),e.TgZ(7,"p",25)(8,"span"),e._uU(9,"Phone"),e.qZA(),e.TgZ(10,"a",26),e._uU(11),e.qZA()(),e.TgZ(12,"p",25)(13,"span"),e._uU(14,"E-mail"),e.qZA(),e.TgZ(15,"a",26),e._uU(16),e.qZA()(),e.TgZ(17,"h4",27),e._uU(18,"Company"),e.qZA(),e.TgZ(19,"p",25)(20,"span"),e._uU(21,"Name"),e.qZA(),e.TgZ(22,"a",26),e._uU(23),e.qZA()(),e.TgZ(24,"p",25)(25,"span"),e._uU(26,"Address"),e.qZA(),e.TgZ(27,"a",26),e._uU(28,"481 West Street, Anytown OH, 83749, USA"),e.qZA()()),2&d){const a=u.data;e.xp6(6),e.Oqu(null==a?null:a.phone),e.xp6(5),e.Oqu(null==a?null:a.phone),e.xp6(5),e.Oqu(null==a?null:a.email),e.xp6(7),e.hij("Company A",null==a?null:a.email,"")}}function K(d,u){if(1&d&&(e.ynx(0),e._uU(1),e.BQk()),2&d){const a=e.oxw().$implicit;e.xp6(1),e.hij(" Reminder has been sent to ",a.data.targets[0].name," ")}}function $(d,u){if(1&d&&e._uU(0),2&d){const a=e.oxw().$implicit;e.AsE(" Reminder has been sent to ",a.data.targets.length," members of ",a.data.node.description," ")}}function Y(d,u){if(1&d&&(e.YNc(0,K,2,1,"ng-container",28),e.YNc(1,$,1,2,"ng-template",null,29,e.W1O)),2&d){const a=u.$implicit,n=e.MAs(2);e.Q6J("ngIf",1===a.data.targets.length)("ngIfElse",n)}}function z(d,u){if(1&d&&(e.TgZ(0,"option",30),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&d){const a=u.$implicit;e.Q6J("value",a),e.xp6(1),e.Oqu(e.lcZ(2,2,a))}}let X=(()=>{class d{constructor(a){this._messageToastService=a,this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=R[this.selectedExample],this.userDataSource=new O._1(new k),this.watcherDataSource=new O._1(new k),this.teamDataSource=new O.L8(new oe),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected"],this.sendReminderStatuses=["in progress","not started"],this.disableSaveButton=!1,this.disableExitButton=!1,this._subscriptions=new Z.w0,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(a){console.log("valueChanged",a)}sendReminders(a){this._messageToastService.open(this._reminderTemplate,{data:{targets:a.users,node:a.node},duration:5e3})}changeExampleData(){this.approvalProcess=(0,y.Z)(R[this.selectedExample])}toggleNodeActions(a){const i=(0,y.Z)(this._approvalFlow.approvalProcess);i.nodes.forEach(o=>{o.disableActions=a}),this.approvalProcess=i}toggleSpecificNodeAction(a,n){const o=(0,y.Z)(this._approvalFlow.approvalProcess);o.nodes.forEach(C=>{C.actionsConfig=Object.assign(Object.assign({},C.actionsConfig),{[a]:n})}),this.approvalProcess=o}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(n=>{if(this.newNodes.has(n.id)){const i=this._approvalFlow.getNodeMetadataByNodeId(n.id);i.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,i.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,i.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(a){console.log("Node click handler",a)}afterNodeAdd(a){console.log("After node add handler",a),this.newNodes.set(a.id,a),this.newNodeSettingsChange()}afterNodeEdit(a){console.log("After node edit handler",a),this.newNodeSettingsChange()}setNotStarted(){const a=this._approvalFlow.approvalProcess,n=new Map(R[this.selectedExample].nodes.map(o=>[o.id,o])),i=(0,y.Z)(a);i.nodes=i.nodes.map(o=>{const C=this.setNotStartedStatuses||!n.has(o.id)?"not started":n.get(o.id).status;return Object.assign(Object.assign({},o),{status:C})}),this.approvalProcess=i}}return d.\u0275fac=function(a){return new(a||d)(e.Y36(m.H2))},d.\u0275cmp=e.Xpm({type:d,selectors:[["fdp-platform-approval-flow-example"]],viewQuery:function(a,n){if(1&a&&(e.Gf(f.KF,5),e.Gf(G,5)),2&a){let i;e.iGM(i=e.CRH())&&(n._approvalFlow=i.first),e.iGM(i=e.CRH())&&(n._reminderTemplate=i.first)}},decls:68,vars:37,consts:[["title","Basic Approval Flow Demo",3,"value","userDetailsTemplate","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton","nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders"],["userDetailsTemplate",""],["reminderTemplate",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange"],["id","disableAddingNodeBefore","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableRemovingNode"],[2,"display","flex","align-items","center"],[2,"margin-left","0.5rem",3,"compact","dropdownValues","ngModel","ngModelChange"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallelForNewNodes"],[2,"margin-bottom","1rem"],[2,"display","flex","flex-direction","column"],["href","javascript:void(0)"],[2,"margin-top","1.5rem","margin-bottom","1rem"],[4,"ngIf","ngIfElse"],["multipleReceivers",""],[3,"value"]],template:function(a,n){if(1&a&&(e.TgZ(0,"fdp-approval-flow",0),e.NdJ("nodeClick",function(o){return n.nodeClick(o)})("afterNodeAdd",function(o){return n.afterNodeAdd(o)})("afterNodeEdit",function(o){return n.afterNodeEdit(o)})("valueChange",function(o){return n.valueChanged(o)})("sendReminders",function(o){return n.sendReminders(o)}),e.qZA(),e.YNc(1,H,29,4,"ng-template",null,1,e.W1O),e.YNc(3,Y,3,2,"ng-template",null,2,e.W1O),e.TgZ(5,"p"),e._uU(6," Selected example: "),e.TgZ(7,"select",3),e.NdJ("ngModelChange",function(o){return n.selectedExample=o})("ngModelChange",function(){return n.changeExampleData()}),e.YNc(8,z,3,4,"option",4),e.qZA()(),e.TgZ(9,"p"),e._uU(10,'Enable "Edit mode": '),e.TgZ(11,"input",5),e.NdJ("ngModelChange",function(o){return n.editModeEnabled=o}),e.qZA()(),e.TgZ(12,"p"),e._uU(13,"Enable due date warnings: "),e.TgZ(14,"input",5),e.NdJ("ngModelChange",function(o){return n.checkDueDate=o}),e.qZA()(),e.TgZ(15,"p"),e._uU(16,' Set all statuses to "Not Started": '),e.TgZ(17,"input",5),e.NdJ("ngModelChange",function(o){return n.setNotStartedStatuses=o})("ngModelChange",function(){return n.setNotStarted()}),e.qZA()(),e.TgZ(18,"p"),e._uU(19," Disable all node actions: "),e.TgZ(20,"input",5),e.NdJ("ngModelChange",function(o){return n.nodeActionsDisabled=o})("ngModelChange",function(o){return n.toggleNodeActions(o)}),e.qZA()(),e.TgZ(21,"p"),e._uU(22,"Disable certain node actions:"),e.qZA(),e.TgZ(23,"div")(24,"p")(25,"input",6),e.NdJ("ngModelChange",function(o){return n.nodeActionsConfig.disableAddBefore=o})("ngModelChange",function(o){return n.toggleSpecificNodeAction("disableAddBefore",o)}),e.qZA(),e.TgZ(26,"label",7),e._uU(27,"Disable adding before"),e.qZA()(),e.TgZ(28,"p")(29,"input",8),e.NdJ("ngModelChange",function(o){return n.nodeActionsConfig.disableAddAfter=o})("ngModelChange",function(o){return n.toggleSpecificNodeAction("disableAddAfter",o)}),e.qZA(),e.TgZ(30,"label",9),e._uU(31,"Disable adding after"),e.qZA()(),e.TgZ(32,"p")(33,"input",10),e.NdJ("ngModelChange",function(o){return n.nodeActionsConfig.disableAddParallel=o})("ngModelChange",function(o){return n.toggleSpecificNodeAction("disableAddParallel",o)}),e.qZA(),e.TgZ(34,"label",11),e._uU(35,"Disable adding parallel"),e.qZA()(),e.TgZ(36,"p")(37,"input",12),e.NdJ("ngModelChange",function(o){return n.nodeActionsConfig.disableEdit=o})("ngModelChange",function(o){return n.toggleSpecificNodeAction("disableEdit",o)}),e.qZA(),e.TgZ(38,"label",13),e._uU(39,"Disable editing"),e.qZA()(),e.TgZ(40,"p")(41,"input",14),e.NdJ("ngModelChange",function(o){return n.nodeActionsConfig.disableRemove=o})("ngModelChange",function(o){return n.toggleSpecificNodeAction("disableRemove",o)}),e.qZA(),e.TgZ(42,"label",15),e._uU(43,"Disable removing"),e.qZA()()(),e.TgZ(44,"p",16),e._uU(45," Allow sending reminders to approvers with statuses: "),e.TgZ(46,"fd-multi-input",17),e.NdJ("ngModelChange",function(o){return n.sendReminderStatuses=o}),e.qZA()(),e.TgZ(47,"p"),e._uU(48,"Disable certain node actions for newly added nodes:"),e.qZA(),e.TgZ(49,"div")(50,"p")(51,"input",18),e.NdJ("ngModelChange",function(o){return n.nodeActionsConfigForNewNodes.disableAddBefore=o})("ngModelChange",function(){return n.newNodeSettingsChange()}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"Disable adding before"),e.qZA()(),e.TgZ(54,"p")(55,"input",20),e.NdJ("ngModelChange",function(o){return n.nodeActionsConfigForNewNodes.disableAddAfter=o})("ngModelChange",function(){return n.newNodeSettingsChange()}),e.qZA(),e.TgZ(56,"label",21),e._uU(57,"Disable adding after"),e.qZA()(),e.TgZ(58,"p")(59,"input",22),e.NdJ("ngModelChange",function(o){return n.nodeActionsConfigForNewNodes.disableAddParallel=o})("ngModelChange",function(){return n.newNodeSettingsChange()}),e.qZA(),e.TgZ(60,"label",23),e._uU(61,"Disable adding parallel"),e.qZA()()(),e.TgZ(62,"p"),e._uU(63,'Disable "Save" button: '),e.TgZ(64,"input",5),e.NdJ("ngModelChange",function(o){return n.disableSaveButton=o}),e.qZA()(),e.TgZ(65,"p"),e._uU(66,'Disable "Exit" button: '),e.TgZ(67,"input",5),e.NdJ("ngModelChange",function(o){return n.disableExitButton=o}),e.qZA()()),2&a){const i=e.MAs(2);e.Q6J("value",n.approvalProcess)("userDetailsTemplate",i)("userDataSource",n.userDataSource)("watcherDataSource",n.watcherDataSource)("teamDataSource",n.teamDataSource)("checkDueDate",n.checkDueDate)("allowSendRemindersForStatuses",n.sendReminderStatuses)("isEditAvailable",n.editModeEnabled)("disableSaveButton",n.disableSaveButton)("disableExitButton",n.disableExitButton),e.xp6(7),e.Q6J("ngModel",n.selectedExample),e.xp6(1),e.Q6J("ngForOf",n.examples),e.xp6(3),e.Q6J("ngModel",n.editModeEnabled),e.xp6(3),e.Q6J("ngModel",n.checkDueDate),e.xp6(3),e.Q6J("ngModel",n.setNotStartedStatuses),e.xp6(3),e.Q6J("ngModel",n.nodeActionsDisabled),e.xp6(5),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableAddBefore),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableAddAfter),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableAddParallel),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableEdit),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableRemove),e.xp6(5),e.Q6J("compact",!0)("dropdownValues",n.allStatuses)("ngModel",n.sendReminderStatuses),e.xp6(5),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfigForNewNodes.disableAddBefore),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfigForNewNodes.disableAddAfter),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfigForNewNodes.disableAddParallel),e.xp6(5),e.Q6J("ngModel",n.disableSaveButton),e.xp6(3),e.Q6J("ngModel",n.disableExitButton)}},directives:[Q.K,B.O5,x.EJ,x.JJ,x.On,B.sg,x.YN,x.Kr,x.Wl,W.L],pipes:[B.rS],encapsulation:2}),d})();const L=[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}],J={};L.forEach(d=>J[d.id]=d);const V=[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(d=>l(d))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(d=>l(d))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(d=>l(d))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(d=>l(d))}],R={empty:{watchers:[l("uid66161")],nodes:[]},simple:{watchers:[l("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[l("uid81955")],status:"approved",targets:["ID2"],dueDate:p(30),createDate:p(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[l("uid66171")],status:"in progress",targets:["ID3"],dueDate:p(10),createDate:p(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[l("uid81355")],status:"not started",targets:[],dueDate:p(10),createDate:p(-30)}]},medium:{watchers:[l("uid66151"),l("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[l("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:p(30),createDate:p(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[l("uid66171")],status:"in progress",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[l("uid77135")],status:"approved",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[l("uid77111"),l("uid09641"),l("uid09141"),l("uid37866"),l("uid99641"),l("uid38141")],status:"not started",targets:["ID3"],dueDate:p(5),createDate:p(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[l("uid81355")],status:"not started",targets:["ID4"],dueDate:p(30),createDate:p(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[l("uid99651")],status:"not started",targets:[],dueDate:p(30),createDate:p(-30)}]},complex:{watchers:[l("uid66151"),l("uid66141"),l("uid99651"),l("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[l("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:p(30),createDate:p(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[l("uid66171")],status:"in progress",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[l("uid28141")],status:"approved",targets:["ID220"],dueDate:p(30),createDate:p(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[l("uid77111"),l("uid09641")],status:"in progress",targets:["ID2220"],dueDate:p(3),createDate:p(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[l("uid08141")],status:"rejected",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[l("uid81353")],status:"not started",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[l("uid81355")],status:"not started",targets:["ID4"],dueDate:p(30),createDate:p(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[l("uid99651")],status:"not started",targets:[],dueDate:p(30),createDate:p(-30)}]}};function l(d){return J[d]}function p(d){return new Date(Date.now()+864e5*d)}class k extends O.FW{fetch(u){var a;let n=L;const i=null===(a=u.get("query"))||void 0===a?void 0:a.toLowerCase();return i&&(n=n.filter(o=>{var C;return null===(C=o.name)||void 0===C?void 0:C.toLowerCase().startsWith(i)})),(0,U.of)((0,y.Z)(n)).pipe((0,j.g)(500))}getOne(u){const a=u.get("id"),n=L.find(i=>i.id===a);return(0,U.of)(Object.assign(Object.assign({},n),{phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${n.name.toLowerCase().split(" ").join(".")}@company.com`}))}}class oe extends O.FW{fetch(u){var a;let n=V;const i=null===(a=u.get("query"))||void 0===a?void 0:a.toLowerCase();return i&&(n=n.filter(o=>{var C;return null===(C=o.name)||void 0===C?void 0:C.toLowerCase().startsWith(i)})),(0,U.of)((0,y.Z)(n)).pipe((0,j.g)(500))}}var ie=t(29871);const de=[{path:"",component:A,children:[{path:"",component:(()=>{class d{constructor(){this.basic=[{language:"html",code:N,fileName:"platform-approval-flow-example",name:"approval-flow-example.component.html"},{language:"typescript",code:c,fileName:"platform-approval-flow-example",component:"PlatformApprovalFlowExampleComponent",name:"approval-flow-example.component.ts"}]}}return d.\u0275fac=function(a){return new(a||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-approval-flow"]],decls:5,vars:1,consts:[["id","approval-flow","componentName","approval-flow"],[3,"exampleFiles"]],template:function(a,n){1&a&&(e.TgZ(0,"fd-docs-section-title",0),e._uU(1," Approval flow "),e.qZA(),e.TgZ(2,"component-example"),e._UZ(3,"fdp-platform-approval-flow-example"),e.qZA(),e._UZ(4,"code-example",1)),2&a&&(e.xp6(4),e.Q6J("exampleFiles",n.basic))},directives:[v.k,b.O,X,ie.E],encapsulation:2}),d})()},{path:"api",component:D.h,data:{content:E.X.approvalFlow}}]}];let se=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({providers:[g.qF],imports:[[r.Bz.forChild(de),I.g,f.vU,s.Yp,h.Qj,m.GC],r.Bz]}),d})()},28412:w=>{w.exports='<fdp-approval-flow\n    title="Basic Approval Flow Demo"\n    [value]="approvalProcess"\n    [userDetailsTemplate]="userDetailsTemplate"\n    [userDataSource]="userDataSource"\n    [watcherDataSource]="watcherDataSource"\n    [teamDataSource]="teamDataSource"\n    [checkDueDate]="checkDueDate"\n    [allowSendRemindersForStatuses]="sendReminderStatuses"\n    [isEditAvailable]="editModeEnabled"\n    [disableSaveButton]="disableSaveButton"\n    [disableExitButton]="disableExitButton"\n    (nodeClick)="nodeClick($event)"\n    (afterNodeAdd)="afterNodeAdd($event)"\n    (afterNodeEdit)="afterNodeEdit($event)"\n    (valueChange)="valueChanged($event)"\n    (sendReminders)="sendReminders($event)"\n>\n</fdp-approval-flow>\n\n<ng-template #userDetailsTemplate let-data="data">\n    <h4 style="margin-bottom: 1rem">Contact info</h4>\n\n    <p style="display: flex; flex-direction: column">\n        <span>Mobile</span>\n        <a href="javascript:void(0)">{{ data?.phone }}</a>\n    </p>\n\n    <p style="display: flex; flex-direction: column">\n        <span>Phone</span>\n        <a href="javascript:void(0)">{{ data?.phone }}</a>\n    </p>\n\n    <p style="display: flex; flex-direction: column">\n        <span>E-mail</span>\n        <a href="javascript:void(0)">{{ data?.email }}</a>\n    </p>\n\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem">Company</h4>\n\n    <p style="display: flex; flex-direction: column">\n        <span>Name</span>\n        <a href="javascript:void(0)">Company A{{ data?.email }}</a>\n    </p>\n\n    <p style="display: flex; flex-direction: column">\n        <span>Address</span>\n        <a href="javascript:void(0)">481 West Street, Anytown OH, 83749, USA</a>\n    </p>\n</ng-template>\n\n<ng-template let-messageToast #reminderTemplate>\n    <ng-container *ngIf="messageToast.data.targets.length === 1; else multipleReceivers">\n        Reminder has been sent to {{ messageToast.data.targets[0].name }}\n    </ng-container>\n\n    <ng-template #multipleReceivers>\n        Reminder has been sent to {{ messageToast.data.targets.length }} members of\n        {{ messageToast.data.node.description }}\n    </ng-template>\n</ng-template>\n\n\x3c!-- Playground code below, not related to the component itself --\x3e\n\n<p>\n    Selected example:\n    <select [(ngModel)]="selectedExample" (ngModelChange)="changeExampleData()">\n        <option *ngFor="let example of examples" [value]="example">{{ example | titlecase }}</option>\n    </select>\n</p>\n<p>Enable "Edit mode": <input type="checkbox" [(ngModel)]="editModeEnabled" /></p>\n<p>Enable due date warnings: <input type="checkbox" [(ngModel)]="checkDueDate" /></p>\n<p>\n    Set all statuses to "Not Started":\n    <input type="checkbox" [(ngModel)]="setNotStartedStatuses" (ngModelChange)="setNotStarted()" />\n</p>\n<p>\n    Disable all node actions:\n    <input type="checkbox" [(ngModel)]="nodeActionsDisabled" (ngModelChange)="toggleNodeActions($event)" />\n</p>\n<p>Disable certain node actions:</p>\n<div>\n    <p>\n        <input\n            id="disableAddingNodeBefore"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableAddBefore"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableAddBefore\', $event)"\n        />\n        <label for="disableAddingNodeBefore">Disable adding before</label>\n    </p>\n\n    <p>\n        <input\n            id="disableAddingNodeAfter"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableAddAfter"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableAddAfter\', $event)"\n        />\n        <label for="disableAddingNodeAfter">Disable adding after</label>\n    </p>\n\n    <p>\n        <input\n            id="disableAddingNodeParallel"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableAddParallel"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableAddParallel\', $event)"\n        />\n        <label for="disableAddingNodeParallel">Disable adding parallel</label>\n    </p>\n\n    <p>\n        <input\n            id="disableEditingNode"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableEdit"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableEdit\', $event)"\n        />\n        <label for="disableEditingNode">Disable editing</label>\n    </p>\n\n    <p>\n        <input\n            id="disableRemovingNode"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableRemove"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableRemove\', $event)"\n        />\n        <label for="disableRemovingNode">Disable removing</label>\n    </p>\n</div>\n<p style="display: flex; align-items: center">\n    Allow sending reminders to approvers with statuses:\n    <fd-multi-input\n        style="margin-left: 0.5rem"\n        [compact]="true"\n        [dropdownValues]="allStatuses"\n        [(ngModel)]="sendReminderStatuses"\n    ></fd-multi-input>\n</p>\n<p>Disable certain node actions for newly added nodes:</p>\n<div>\n    <p>\n        <input\n            id="disableAddingNodeBeforeForNewNodes"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfigForNewNodes.disableAddBefore"\n            (ngModelChange)="newNodeSettingsChange()"\n        />\n        <label for="disableAddingNodeBeforeForNewNodes">Disable adding before</label>\n    </p>\n\n    <p>\n        <input\n            id="disableAddingNodeAfterForNewNodes"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfigForNewNodes.disableAddAfter"\n            (ngModelChange)="newNodeSettingsChange()"\n        />\n        <label for="disableAddingNodeAfterForNewNodes">Disable adding after</label>\n    </p>\n\n    <p>\n        <input\n            id="disableAddingNodeParallelForNewNodes"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfigForNewNodes.disableAddParallel"\n            (ngModelChange)="newNodeSettingsChange()"\n        />\n        <label for="disableAddingNodeParallelForNewNodes">Disable adding parallel</label>\n    </p>\n</div>\n<p>Disable "Save" button: <input type="checkbox" [(ngModel)]="disableSaveButton" /></p>\n<p>Disable "Exit" button: <input type="checkbox" [(ngModel)]="disableExitButton" /></p>\n'},99638:w=>{w.exports="import { Component, OnDestroy, TemplateRef, ViewChild } from '@angular/core';\nimport { Subscription, of, Observable } from 'rxjs';\nimport { delay } from 'rxjs/operators';\n\nimport {\n    ApprovalFlowComponent,\n    ApprovalNode,\n    ApprovalNodeActionsConfig,\n    ApprovalProcess,\n    ApprovalStatus,\n    ApprovalTeam,\n    ApprovalUser,\n    SendRemindersData\n} from '@fundamental-ngx/platform/approval-flow';\nimport {\n    DataProvider,\n    ProviderParams,\n    ApprovalFlowUserDataSource,\n    ApprovalFlowTeamDataSource\n} from '@fundamental-ngx/platform/shared';\nimport { cloneDeep } from 'lodash-es';\nimport { MessageToastService } from '@fundamental-ngx/core/message-toast';\n\n@Component({\n    selector: 'fdp-platform-approval-flow-example',\n    templateUrl: './platform-approval-flow-example.component.html'\n})\nexport class PlatformApprovalFlowExampleComponent implements OnDestroy {\n    /** @hidden */\n    @ViewChild(ApprovalFlowComponent)\n    _approvalFlow: ApprovalFlowComponent;\n\n    @ViewChild('reminderTemplate') _reminderTemplate: TemplateRef<any>;\n\n    examples: GraphTypes[] = ['empty', 'simple', 'medium', 'complex'];\n    selectedExample: GraphTypes = 'complex';\n    approvalProcess: ApprovalProcess = graphs[this.selectedExample];\n\n    userDataSource = new ApprovalFlowUserDataSource(new UserDataProvider());\n    watcherDataSource = new ApprovalFlowUserDataSource(new UserDataProvider());\n    teamDataSource = new ApprovalFlowTeamDataSource(new TeamDataProvider());\n\n    checkDueDate = false;\n    setNotStartedStatuses = false;\n    editModeEnabled = true;\n    nodeActionsDisabled = false;\n    nodeActionsConfig: ApprovalNodeActionsConfig = {\n        disableAddBefore: false,\n        disableAddAfter: false,\n        disableAddParallel: false,\n        disableEdit: false,\n        disableRemove: false\n    };\n    nodeActionsConfigForNewNodes: ApprovalNodeActionsConfig = {\n        disableAddBefore: false,\n        disableAddAfter: false,\n        disableAddParallel: false\n    };\n    allStatuses = ['in progress', 'not started', 'approved', 'rejected'];\n    sendReminderStatuses: ApprovalStatus[] = ['in progress', 'not started'];\n\n    /** @hidden */\n    disableSaveButton = false;\n\n    /** @hidden */\n    disableExitButton = false;\n\n    private _subscriptions = new Subscription();\n\n    /** @hidden */\n    private newNodes = new Map<ApprovalNode['id'], ApprovalNode>();\n\n    constructor(private readonly _messageToastService: MessageToastService) {}\n\n    ngOnDestroy(): void {\n        this._subscriptions.unsubscribe();\n    }\n\n    valueChanged(updatedApprovalProcess: ApprovalProcess): void {\n        console.log('valueChanged', updatedApprovalProcess);\n    }\n\n    sendReminders(data: SendRemindersData): void {\n        this._messageToastService.open(this._reminderTemplate, {\n            data: {\n                targets: data.users,\n                node: data.node\n            },\n            duration: 5000\n        });\n    }\n\n    changeExampleData(): void {\n        this.approvalProcess = cloneDeep(graphs[this.selectedExample]);\n    }\n\n    toggleNodeActions(state: boolean): void {\n        const approvalProcess = this._approvalFlow.approvalProcess;\n        const updatedState = cloneDeep(approvalProcess);\n        updatedState.nodes.forEach((node) => {\n            node.disableActions = state;\n        });\n        this.approvalProcess = updatedState;\n    }\n\n    toggleSpecificNodeAction(field: keyof ApprovalNodeActionsConfig, state: boolean): void {\n        const approvalProcess = this._approvalFlow.approvalProcess;\n        const updatedState = cloneDeep(approvalProcess);\n        updatedState.nodes.forEach((node) => {\n            node.actionsConfig = {\n                ...node.actionsConfig,\n                [field]: state\n            };\n        });\n        this.approvalProcess = updatedState;\n    }\n\n    newNodeSettingsChange(): void {\n        const approvalProcess = this._approvalFlow.approvalProcess;\n\n        approvalProcess.nodes.forEach((node) => {\n            if (this.newNodes.has(node.id)) {\n                const meta = this._approvalFlow.getNodeMetadataByNodeId(node.id);\n\n                meta.canAddNodeAfter = !this.nodeActionsConfigForNewNodes.disableAddAfter;\n                meta.canAddNodeBefore = !this.nodeActionsConfigForNewNodes.disableAddBefore;\n                meta.canAddParallel = !this.nodeActionsConfigForNewNodes.disableAddParallel;\n            }\n        });\n    }\n\n    nodeClick(node: ApprovalNode): void {\n        console.log('Node click handler', node);\n    }\n\n    /** Event listener for afterNodeAdd event */\n    afterNodeAdd(node: ApprovalNode): void {\n        console.log('After node add handler', node);\n        this.newNodes.set(node.id, node);\n\n        this.newNodeSettingsChange();\n    }\n\n    /** Event listener for afterNodeEdit event */\n    afterNodeEdit(node: ApprovalNode): void {\n        console.log('After node edit handler', node);\n        this.newNodeSettingsChange();\n    }\n\n    setNotStarted(): void {\n        const approvalProcess = this._approvalFlow.approvalProcess;\n        const initialNodeMap = new Map((graphs[this.selectedExample] as ApprovalProcess).nodes.map((n) => [n.id, n]));\n        const updatedState = cloneDeep(approvalProcess);\n        updatedState.nodes = updatedState.nodes.map((n) => {\n            const status =\n                this.setNotStartedStatuses || !initialNodeMap.has(n.id)\n                    ? 'not started'\n                    : initialNodeMap.get(n.id).status;\n            return {\n                ...n,\n                status\n            };\n        });\n\n        this.approvalProcess = updatedState;\n    }\n}\n\n/** For all code below\n * TODO #5351: Split into separate file after \"pure\" files will be allowed by the StackBlitz service\n */\n\nconst DAY_IN_MILLISECONDS = 1000 * 60 * 60 * 24;\n\nconst users: ApprovalUser[] = [\n    {\n        id: 'uid28141',\n        teamId: 'teamId3',\n        name: 'Luis Franklin',\n        description: 'Legal team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/91.jpg'\n    },\n    {\n        id: 'uid08141',\n        teamId: 'teamId3',\n        name: 'Renee Miles',\n        description: 'Legal team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/11.jpg'\n    },\n    {\n        id: 'uid99641',\n        teamId: 'teamId3',\n        name: 'Elaine Myers',\n        description: 'Legal team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/75.jpg'\n    },\n    {\n        id: 'uid38141',\n        teamId: 'teamId4',\n        name: 'Emma Cole',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/91.jpg'\n    },\n    {\n        id: 'uid37866',\n        teamId: 'teamId4',\n        name: 'Daniel Sullivan',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/9.jpg'\n    },\n    {\n        id: 'uid09141',\n        teamId: 'teamId4',\n        name: 'Salvador Duncan',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/14.jpg'\n    },\n    {\n        id: 'uid09641',\n        teamId: 'teamId4',\n        name: 'Caleb Taylor',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/17.jpg'\n    },\n    {\n        id: 'uid99651',\n        teamId: 'teamId4',\n        name: 'Julie Peters',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/77.jpg'\n    },\n    {\n        id: 'uid99655',\n        teamId: 'teamId4',\n        name: 'Fred Gibson',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/45.jpg'\n    },\n    {\n        id: 'uid81355',\n        teamId: 'teamId4',\n        name: 'George Carter',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/85.jpg'\n    },\n    {\n        id: 'uid81353',\n        teamId: 'teamId4',\n        name: 'Lillian Walker',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/25.jpg'\n    },\n    {\n        id: 'uid81955',\n        teamId: 'teamId2',\n        name: 'Josephine Carlson',\n        description: 'Sales team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/88.jpg'\n    },\n    {\n        id: 'uid77135',\n        teamId: 'teamId2',\n        name: 'Tristan Sutton',\n        description: 'Sales team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/5.jpg'\n    },\n    {\n        id: 'uid77115',\n        teamId: 'teamId2',\n        name: 'Alvin Stephens',\n        description: 'Sales team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/78.jpg'\n    },\n    {\n        id: 'uid77111',\n        teamId: 'teamId2',\n        name: 'Logan Herrera',\n        description: 'Sales team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/53.jpg'\n    },\n    {\n        id: 'uid66141',\n        teamId: 'teamId1',\n        name: 'Melissa Martin',\n        description: 'Accounting team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/87.jpg'\n    },\n    {\n        id: 'uid66151',\n        teamId: 'teamId1',\n        name: 'Sofia Hanson',\n        description: 'Accounting team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/24.jpg'\n    },\n    {\n        id: 'uid66161',\n        teamId: 'teamId1',\n        name: 'Jill Fuller',\n        description: 'Accounting team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/64.jpg'\n    },\n    {\n        id: 'uid66171',\n        teamId: 'teamId1',\n        name: 'Ella Franklin',\n        description: 'Accounting team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/55.jpg'\n    }\n];\n\nconst usersMap = {};\nusers.forEach((u) => (usersMap[u.id] = u));\n\nconst teams: ApprovalTeam[] = [\n    {\n        id: 'teamId1',\n        name: 'Accounting team',\n        description: '',\n        members: ['uid66171', 'uid66161', 'uid66151', 'uid66141'].map((id) => getUser(id))\n    },\n    {\n        id: 'teamId2',\n        name: 'Sales team',\n        description: '',\n        members: ['uid77111', 'uid77115', 'uid77135', 'uid81955'].map((id) => getUser(id))\n    },\n    {\n        id: 'teamId3',\n        name: 'Legal team',\n        description: '',\n        members: ['uid28141', 'uid08141', 'uid99641'].map((id) => getUser(id))\n    },\n    {\n        id: 'teamId4',\n        name: 'Marketing team',\n        description: '',\n        members: ['uid38141', 'uid37866', 'uid09141', 'uid81353', 'uid81355', 'uid99655', 'uid09641', 'uid99651'].map(\n            (id) => getUser(id)\n        )\n    }\n];\n\nconst emptyGraph: ApprovalProcess = {\n    watchers: [getUser('uid66161')],\n    nodes: []\n};\n\nconst simpleGraph: ApprovalProcess = {\n    watchers: [getUser('uid66161')],\n    nodes: [\n        {\n            id: 'ID1',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81955')],\n            status: 'approved',\n            targets: ['ID2'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID2',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid66171')],\n            status: 'in progress',\n            targets: ['ID3'],\n            dueDate: daysFromNow(10),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID3',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81355')],\n            status: 'not started',\n            targets: [],\n            dueDate: daysFromNow(10),\n            createDate: daysFromNow(-30)\n        }\n    ]\n};\n\nconst mediumGraph: ApprovalProcess = {\n    watchers: [getUser('uid66151'), getUser('uid77115')],\n    nodes: [\n        {\n            id: 'ID1',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81955')],\n            status: 'approved',\n            targets: ['ID2', 'ID22', 'ID222'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID2',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid66171')],\n            status: 'in progress',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID22',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid77135')],\n            status: 'approved',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID222',\n            name: 'node name',\n            description: 'Marketing team',\n            approvers: [\n                getUser('uid77111'),\n                getUser('uid09641'),\n                getUser('uid09141'),\n                getUser('uid37866'),\n                getUser('uid99641'),\n                getUser('uid38141')\n            ],\n            status: 'not started',\n            targets: ['ID3'],\n            dueDate: daysFromNow(5),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID3',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81355')],\n            status: 'not started',\n            targets: ['ID4'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID4',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid99651')],\n            status: 'not started',\n            targets: [],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        }\n    ]\n};\n\nconst complexGraph: ApprovalProcess = {\n    watchers: [getUser('uid66151'), getUser('uid66141'), getUser('uid99651'), getUser('uid99655')],\n    nodes: [\n        {\n            id: 'ID1',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81955')],\n            status: 'approved',\n            targets: ['ID2', 'ID22', 'ID222'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID2',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid66171')],\n            status: 'in progress',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID22',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid28141')],\n            status: 'approved',\n            targets: ['ID220'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID222',\n            name: 'node name',\n            description: 'Marketing team',\n            approvers: [getUser('uid77111'), getUser('uid09641')],\n            status: 'in progress',\n            targets: ['ID2220'],\n            dueDate: daysFromNow(3),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID220',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid08141')],\n            status: 'rejected',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID2220',\n            name: 'node name',\n            description: 'Marketing',\n            approvers: [getUser('uid81353')],\n            status: 'not started',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID3',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81355')],\n            status: 'not started',\n            targets: ['ID4'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID4',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid99651')],\n            status: 'not started',\n            targets: [],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        }\n    ]\n};\n\nconst graphs: Record<GraphTypes, ApprovalProcess> = {\n    empty: emptyGraph,\n    simple: simpleGraph,\n    medium: mediumGraph,\n    complex: complexGraph\n};\n\nfunction getUser(id: string): ApprovalUser {\n    return usersMap[id];\n}\n\nfunction daysFromNow(days: number): Date {\n    return new Date(Date.now() + DAY_IN_MILLISECONDS * days);\n}\n\ntype GraphTypes = 'empty' | 'simple' | 'medium' | 'complex';\n\nclass UserDataProvider extends DataProvider<ApprovalUser> {\n    fetch(params: ProviderParams): Observable<ApprovalUser[]> {\n        let result = users;\n        const query = params.get('query')?.toLowerCase();\n        if (query) {\n            result = result.filter((u) => u.name?.toLowerCase().startsWith(query));\n        }\n        return of(cloneDeep(result)).pipe(delay(500));\n    }\n\n    getOne(params: ProviderParams): Observable<ApprovalUser & { phone: string; email: string }> {\n        const id = params.get('id');\n        const found = users.find((user) => user.id === id);\n        return of({\n            ...found,\n            phone: Math.random().toFixed(13).toString().replace('0.', ''),\n            email: `${found.name.toLowerCase().split(' ').join('.')}@company.com`\n        });\n    }\n}\n\nclass TeamDataProvider extends DataProvider<ApprovalTeam> {\n    fetch(params: ProviderParams): Observable<ApprovalTeam[]> {\n        let result = teams;\n        const query = params.get('query')?.toLowerCase();\n        if (query) {\n            result = result.filter((u) => u.name?.toLowerCase().startsWith(query));\n        }\n        return of(cloneDeep(result)).pipe(delay(500));\n    }\n}\n"}}]);