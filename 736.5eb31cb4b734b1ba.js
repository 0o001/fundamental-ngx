"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[736],{90736:(F,v,l)=>{l.d(v,{Qj:()=>k});var T=l(96814),f=l(33741),t=l(60095),m=l(33957),o=l(1013),x=l(27017),C=l(61535),I=l(96370),D=l(31380),B=l(58567),P=l(44837),y=l(65879);let k=(()=>{class E{}return E.\u0275fac=function(d){return new(d||E)},E.\u0275mod=y.oAB({type:E}),E.\u0275inj=y.cJS({imports:[T.ez,f.Wh,t.u5,t.UX,D.pV,m.UU,o.drE,x.ne,C.ej,I.nD,B.LO,o.WNj,P.jO,P.jO]}),E})();l(42700),l(73714),l(17480),l(22538)},17480:(F,v,l)=>{l.d(v,{b:()=>Z});var T=l(27498),f=l(59773),t=l(22538),m=l(20993),o=l(65879),x=l(12209),C=l(51683),I=l(93688),D=l(89003),B=l(1144),P=l(74164),y=l(15243),k=l(24389),R=l(44321),w=l(17054),U=l(66972),K=l(96814);const E=["dialogTemplate"];function L(r,h){if(1&r&&(o.TgZ(0,"h1",8),o._uU(1),o.qZA()),2&r){const c=o.oxw(2);o.xp6(1),o.Oqu(c.mobileConfig.title)}}function d(r,h){if(1&r){const c=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(c);const u=o.oxw(2);return o.KtG(u.handleDismiss())}),o.qZA()}2&r&&o.Q6J("mobile",!0)}function H(r,h){1&r&&o.GkF(0)}function J(r,h){if(1&r){const c=o.EpF();o.TgZ(0,"div",10)(1,"fd-bar-element",11),o.YNc(2,H,1,0,"ng-container",5),o.qZA(),o.TgZ(3,"fd-bar-element",12)(4,"button",13),o.NdJ("click",function(){o.CHM(c);const u=o.oxw(2);return o.KtG(u.selectAll(u.allItemsSelected))}),o.qZA()()()}if(2&r){const c=o.oxw(2);o.xp6(2),o.Q6J("ngTemplateOutlet",(null==c.childContent?null:c.childContent.controlTemplate)||null),o.xp6(2),o.Q6J("fdType",c.allItemsSelected?"emphasized":"transparent")}}function N(r,h){1&r&&o.GkF(0)}function W(r,h){if(1&r){const c=o.EpF();o.TgZ(0,"fd-button-bar",14),o.NdJ("click",function(){o.CHM(c);const u=o.oxw(2);return o.KtG(u.handleApprove())}),o.qZA()}if(2&r){const c=o.oxw(2);o.Q6J("label",c.mobileConfig.approveButtonText)}}function S(r,h){if(1&r){const c=o.EpF();o.TgZ(0,"fd-button-bar",15),o.NdJ("click",function(){o.CHM(c);const u=o.oxw(2);return o.KtG(u.handleDismiss())}),o.qZA()}if(2&r){const c=o.oxw(2);o.Q6J("label",c.mobileConfig.cancelButtonText)}}function A(r,h){if(1&r&&(o.TgZ(0,"fd-dialog",1)(1,"fd-dialog-header"),o.YNc(2,L,2,1,"h1",2),o.YNc(3,d,1,1,"button",3),o.YNc(4,J,5,2,"ng-template",4),o.qZA(),o.TgZ(5,"fd-dialog-body"),o.YNc(6,N,1,0,"ng-container",5),o.qZA(),o.TgZ(7,"fd-dialog-footer"),o.YNc(8,W,1,1,"fd-button-bar",6),o.YNc(9,S,1,1,"fd-button-bar",7),o.qZA()()),2&r){const c=h.$implicit,M=h.dialogConfig,u=o.oxw();o.Q6J("dialogConfig",M)("dialogRef",c),o.xp6(2),o.Q6J("ngIf",null==u.mobileConfig?null:u.mobileConfig.title),o.xp6(1),o.Q6J("ngIf",null==u.mobileConfig?null:u.mobileConfig.hasCloseButton),o.xp6(3),o.Q6J("ngTemplateOutlet",(null==u.childContent?null:u.childContent.listTemplate)||null),o.xp6(2),o.Q6J("ngIf",null==u.mobileConfig?null:u.mobileConfig.approveButtonText),o.xp6(1),o.Q6J("ngIf",null==u.mobileConfig?null:u.mobileConfig.cancelButtonText)}}let Z=(()=>{class r extends m.aj{constructor(c,M,u,G){super(c,M,u,m.oS.MULTI_INPUT,G),this.childContent=null}ngOnInit(){this._listenOnMultiInputOpenChange()}ngOnDestroy(){super.onDestroy()}selectAll(c){this._component.selectAllItems(!c)}handleDismiss(){this.dialogRef.dismiss(),this._component.dialogDismiss(this._selectedBackup)}handleApprove(){this.dialogRef.close(),this._component.dialogApprove()}_toggleDialog(c){c&&(this._selectedBackup=this._component.selected?.length?[...this._component.selected]:[],this._dialogService.hasOpenDialogs()||this._open())}_listenOnMultiInputOpenChange(){this._component.openChange.pipe((0,f.R)(this._onDestroy$)).subscribe(c=>this._toggleDialog(c)),this._component.allItemsSelectedChange.pipe((0,f.R)(this._onDestroy$)).subscribe(c=>this.allItemsSelected=c)}_open(){this.dialogRef=this._dialogService.open(this.dialogTemplate,{mobile:!0,disablePaddings:!0,...this.dialogConfig,backdropClickCloseable:!1,escKeyCloseable:!1,container:this._elementRef.nativeElement})}}return r.\u0275fac=function(c){return new(c||r)(o.Y36(o.SBq),o.Y36(T.xA),o.Y36(t.v),o.Y36(m.jq,8))},r.\u0275cmp=o.Xpm({type:r,selectors:[["fd-multi-input-mobile"]],viewQuery:function(c,M){if(1&c&&o.Gf(E,5),2&c){let u;o.iGM(u=o.CRH())&&(M.dialogTemplate=u.first)}},features:[o.qOj],decls:2,vars:0,consts:[["dialogTemplate",""],[3,"dialogConfig","dialogRef"],["fd-title","",4,"ngIf"],["fd-dialog-close-button","",3,"mobile","click",4,"ngIf"],["fdkTemplate","subheader"],[4,"ngTemplateOutlet"],["fdType","emphasized",3,"label","click",4,"ngIf"],[3,"label","click",4,"ngIf"],["fd-title",""],["fd-dialog-close-button","",3,"mobile","click"],["fd-bar-middle",""],[1,"custom-multi-input-mobile-control-element"],[1,"custom-multi-input-select-all-bar-element"],["fd-button","","glyph","multiselect-all",3,"fdType","click"],["fdType","emphasized",3,"label","click"],[3,"label","click"]],template:function(c,M){1&c&&o.YNc(0,A,10,7,"ng-template",null,0,o.W1O)},dependencies:[x.s,C.J,I.N,D.a,B.H,P.g,y.A,k.D,R.r,w.S,U.r,K.O5,K.tP],styles:[".custom-multi-input-select-all-bar-element{min-width:2.25rem}.custom-multi-input-mobile-control-element{width:calc(100% - 2.25rem)}.custom-multi-input-mobile-control-element .fd-multi-input-input-group-custom{width:100%}\n"],encapsulation:2,changeDetection:0}),r})()},73714:(F,v,l)=>{l.d(v,{U:()=>x});var T=l(93793),f=l(43535),t=l(27498),m=l(96814),o=l(65879);let x=(()=>{class C{}return C.\u0275fac=function(D){return new(D||C)},C.\u0275mod=o.oAB({type:C}),C.\u0275inj=o.cJS({imports:[T.Fh,t.Su,f.hJ,m.ez]}),C})()},42700:(F,v,l)=>{l.d(v,{L:()=>O});var T=l(49671),f=l(97582),t=l(65879),m=l(60095),o=l(36028),x=l(78337),C=l(65619),I=l(47394),D=l(52572),B=l(24036),P=l(93997),y=l(37398),k=l(81374),R=l(27921),w=l(33957),U=l(36436),K=l(33741),E=l(61535),L=l(31380),d=l(1013),H=l(17480),J=l(73714),N=l(22538),W=l(44837),S=l(27411),A=l(96814),Z=l(62742),r=l(14656),h=l(74107),c=l(31706),M=l(46686),u=l(32786),G=l(42837),Y=l(36728),z=l(16937),V=l(13991),$=l(1658),j=l(23402),X=l(35929),q=l(76801),tt=l(19446),et=l(98190);const nt=["control"],ot=["list"],it=["searchInputElement"];function lt(a,e){if(1&a&&t.GkF(0,8),2&a){t.oxw();const n=t.MAs(6);t.Q6J("ngTemplateOutlet",n)}}function st(a,e){1&a&&t.GkF(0)}function _t(a,e){1&a&&t.GkF(0)}const at=function(){return[]};function ct(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"fd-popover",9),t.NdJ("isOpenChange",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_.openChangeHandle(s))})("input",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(!s.open&&s.openChangeHandle(!0))}),t.TgZ(1,"fd-popover-control")(2,"form",10),t.NdJ("submit",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s._onSubmit())}),t.YNc(3,st,1,0,"ng-container",11),t.qZA()(),t.TgZ(4,"fd-popover-body"),t.YNc(5,_t,1,0,"ng-container",11),t.Hsn(6),t.qZA()()}if(2&a){const n=t.oxw().ngIf,i=t.MAs(6),s=t.MAs(8),_=t.oxw();t.Q6J("isOpen",_.open)("triggers",t.DdM(10,at))("maxWidth",_._popoverMaxWidth)("disabled",_.disabled)("fillControlMode",_.fillControlMode),t.xp6(3),t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.ekj("fd-popover__body--hidden",!n.displayedOptions.length),t.uIk("aria-hidden",!_.open),t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function rt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"fd-token",18),t.NdJ("onCloseClick",function(s){const p=t.CHM(n).$implicit,g=t.oxw(3);return t.KtG(g._onTokenClick(p.value,!1,s))})("onRemove",function(){const _=t.CHM(n).$implicit,p=t.oxw(3);return t.KtG(p._onTokenClick(_.value,!1))}),t._UZ(1,"span",19),t.qZA()}if(2&a){const n=e.$implicit,i=t.oxw(3);t.Q6J("disabled",i.disabled),t.xp6(1),t.Q6J("innerHtml",n.label,t.oJD)}}function pt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"fd-input-group",12),t.NdJ("addOnButtonClicked",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_._addOnButtonClicked(s))}),t.TgZ(1,"fd-tokenizer",13,14),t.NdJ("moreClickedEvent",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s._moreClicked())}),t.YNc(3,rt,2,2,"fd-token",15),t.TgZ(4,"input",16,17),t.NdJ("onComplete",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_._handleComplete(s))})("keydown",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_._handleInputKeydown(s))})("focus",function(){t.CHM(n);const s=t.MAs(2);return t.KtG(s._showAllTokens())})("blur",function(){t.CHM(n);const s=t.MAs(2);return t.KtG(s._hideTokens())}),t.qZA()()()}if(2&a){const n=t.oxw().ngIf,i=t.oxw();t.Q6J("state",i.state)("buttonFocusable",i.buttonFocusable)("button",i.displayAddonButton)("disabled",i.disabled)("isExpanded",i.open&&!i.mobile&&n.displayedOptions.length>0)("isControl",!0)("glyph",i.displayAddonButton?i.glyph:"")("iconTitle",i.title),t.xp6(1),t.Q6J("compactCollapse",i.compactCollapse)("open",i.open)("tokenizerFocusable",!1),t.xp6(2),t.Q6J("ngForOf",n.selectedOptions)("ngForTrackBy",i.valueFn),t.xp6(1),t.Q6J("displayFn",i.displayFn)("inputText",i._searchTermCtrl.value||"")("options",i.dropdownValues)("enable",i.autoComplete&&!i.mobile)("placeholder",i.placeholder)("formControl",i._searchTermCtrl),t.uIk("aria-required",i.required)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("id",i.inputId)}}const ut=function(a){return{option:a}};function dt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"li",24),t.NdJ("click",function(s){const _=t.CHM(n),p=_.$implicit,g=_.index,b=t.oxw(4);return t.KtG(b._onCheckboxClick(p.value,s,g,!0))})("keyup",function(s){const _=t.CHM(n),p=_.$implicit,g=_.index,b=t.oxw(4);return t.KtG(b._onCheckboxKeyup(p.value,s,g))}),t.TgZ(1,"fd-checkbox",25),t.NdJ("click",function(s){const _=t.CHM(n),p=_.$implicit,g=_.index,b=t.oxw(4);return t.KtG(b._onCheckboxClick(p.value,s,g))}),t.qZA(),t.GkF(2,26),t.qZA()}if(2&a){const n=e.$implicit;t.oxw(3);const i=t.MAs(10);t.Q6J("selected",n.isSelected),t.uIk("aria-label",n.label),t.xp6(1),t.Q6J("value",n.isSelected),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(5,ut,n))}}function mt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"li",27),t.NdJ("keyDown",function(s){t.CHM(n);const _=t.oxw(4);return t.KtG(_._showAllKeyDown(s))})("click",function(s){t.CHM(n);const _=t.oxw(4);return t.KtG(_._showAllClicked(s))}),t.TgZ(1,"a",28),t._uU(2),t.qZA()()}if(2&a){const n=t.oxw(4);t.xp6(2),t.hij("Show All (",n.dropdownValues.length,")")}}function ht(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"ul",21),t.NdJ("focusEscapeList",function(s){t.CHM(n);const _=t.oxw(3);return t.KtG(_.handleListFocusEscape(s))}),t.YNc(1,dt,3,7,"li",22),t.YNc(2,mt,3,1,"li",23),t.qZA()}if(2&a){const n=t.oxw(2).ngIf,i=t.oxw();t.Udp("max-height",i.mobile?"auto":i.maxHeight)("min-width","100%"),t.Q6J("selection",!0)("mobileMode",i.mobile)("byline",i.byline),t.xp6(1),t.Q6J("ngForOf",n.displayedOptions)("ngForTrackBy",i.valueFn),t.xp6(1),t.Q6J("ngIf",i.showAllButton&&n.displayedOptions.length<i.dropdownValues.length)}}function ft(a,e){if(1&a&&t.YNc(0,ht,3,10,"ul",20),2&a){const n=t.oxw().ngIf;t.Q6J("ngIf",n.displayedOptions.length)}}function gt(a,e){if(1&a&&(t._UZ(0,"span",30),t.ALo(1,"highlight")),2&a){const n=t.oxw().option,i=t.oxw(2);t.Q6J("innerHtml",t.Dn7(1,1,n.label,i._searchTermCtrl.value||"",i.highlight),t.oJD)}}const Ct=function(a){return{$implicit:a}};function Mt(a,e){if(1&a&&(t.ynx(0),t.GkF(1,26),t.BQk()),2&a){const n=t.oxw().option,i=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",t.VKq(2,Ct,n.item))}}function Tt(a,e){if(1&a&&(t.YNc(0,gt,2,5,"span",29),t.YNc(1,Mt,2,4,"ng-container",0)),2&a){const n=t.oxw(2);t.Q6J("ngIf",!n.itemTemplate),t.xp6(1),t.Q6J("ngIf",n.itemTemplate)}}function Et(a,e){if(1&a&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,lt,1,1,"ng-container",3),t.YNc(4,ct,7,11,"fd-popover",4),t.qZA()(),t.YNc(5,pt,6,23,"ng-template",null,5,t.W1O),t.YNc(7,ft,1,1,"ng-template",null,6,t.W1O),t.YNc(9,Tt,2,2,"ng-template",null,7,t.W1O),t.BQk()),2&a){const n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.mobile),t.xp6(1),t.Q6J("ngIf",!n.mobile)}}class O{set searchTerm(e){this._searchTermCtrl.setValue(e)}get searchTerm(){return this._searchTermCtrl.value??""}set selected(e){this._selectionModel.clear(),e?.forEach(n=>this._selectionModel.select(n))}get selected(){return this._selectionModel.selected}get _popoverMaxWidth(){return"none"===this.bodyMaxWidth?null:"number"==typeof this.bodyMaxWidth?this.bodyMaxWidth:this.elementRef.nativeElement.getBoundingClientRect().width}constructor(e,n,i,s,_,p,g,b,Q){this._contentDensityObserver=e,this.elementRef=n,this._changeDetRef=i,this._dynamicComponentService=s,this._injector=_,this._viewContainerRef=p,this._language=g,this._rtlService=b,this._focusTrapService=Q,this.placeholder="",this.disabled=!1,this.required=!1,this.compactCollapse=!0,this.maxHeight="300px",this.glyph="value-help",this.dropdownValues=[],this.openDropdownOnAddOnClicked=!0,this.inputId="",this.highlight=!0,this.filterFn=this._defaultFilter,this.valueFn=this._defaultValueFn,this.displayFn=this._defaultDisplay,this.newTokenParseFn=this._defaultParse,this.newTokenValidateFn=this._defaultTokenValidate,this.fillControlMode="at-least",this.buttonFocusable=!0,this.allowNewTokens=!1,this.mobile=!1,this.showAllButton=!0,this.bodyMaxWidth="none",this.mobileConfig={hasCloseButton:!0,approveButtonText:"Select"},this.includes=!1,this.byline=!1,this.autoComplete=!0,this.searchTermChange=new t.vpe,this.selectedChange=new t.vpe,this.open=!1,this.displayAddonButton=!0,this.openChange=new t.vpe,this.addOnButtonClicked=new t.vpe,this.allItemsSelectedChange=new t.vpe,this.optionItems$=new C.X([]),this._searchTermCtrl=new m.NI(""),this._selectionModel=new x.Ov(!0),this._viewModel$=this._getViewModel(),this._subscriptions=new I.w0,this._rangeSelector=new d.Wh8,this._translationResolver=new S.en,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this.buildComponentCssClass(),this._subscriptions.add(this._rtlService?.rtl.subscribe(e=>{this._dir=e?"rtl":"ltr",this.buildComponentCssClass()})),this.inputId||(this.inputId=(0,d.k$y)()),this._subscriptions.add(this._searchTermCtrl.valueChanges.pipe((0,P.x)()).subscribe(e=>{this.searchTermChange.emit(e??""),this._rangeSelector.reset()})),this._subscriptions.add(this._getViewModel().pipe((0,y.U)(e=>!e.displayedOptions.some(n=>!n.isSelected))).subscribe(e=>this.allItemsSelectedChange.emit(e))),this.ariaLabel||this._subscriptions.add(this._language.subscribe(()=>{this._getAriaLabel()}))}ngOnChanges(e){if(this.buildComponentCssClass(),e.dropdownValues||e.searchTerm||e.valueFn||e.displayFn){const n=(this.dropdownValues??[]).map(i=>this._getOptionItem(i));this.optionItems$.next(n),this._changeDetRef.markForCheck()}e.disabled&&(this.disabled?this._searchTermCtrl.disable():this._searchTermCtrl.enable())}ngAfterViewInit(){this.mobile&&this._setUpMobileMode(),this.tokenizer._showOverflowPopover=!1}ngOnDestroy(){this._subscriptions.unsubscribe()}buildComponentCssClass(){if("value-help"===this.glyph&&"rtl"===this._dir){const e=this.elementRef.nativeElement.querySelector(".sap-icon--value-help");e&&(e.style.transform="scaleX(-1)")}return["fd-multi-input","fd-multi-input-custom",this.class]}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this.elementRef.nativeElement.style.pointerEvents=e?"none":"auto",this._changeDetRef.detectChanges()}writeValue(e){this.selected=e,this._changeDetRef.markForCheck()}handleListFocusEscape(e){"up"===e&&!this.mobile&&this.searchInputElement.nativeElement.focus()}openChangeHandle(e){this.disabled||(!e&&this.open&&!this.mobile&&this.searchInputElement.nativeElement.focus(),this.open!==e&&this.openChange.emit(e),this.open=e,this.mobile||this._popoverOpenHandle(e),this.open?(this.disableParentFocusTrap(),this.searchInputElement?.nativeElement.focus()):(this._resetSearchTerm(),this.enableParentFocusTrap()),this.tokenizer.tokenizerInnerEl.nativeElement.scrollLeft=this.tokenizer.tokenizerInnerEl.nativeElement.scrollWidth,this._changeDetRef.detectChanges())}selectAllItems(e){this.selected=e?this.optionItems$.getValue().map(n=>n.value):[],this._propagateChange()}_onCheckboxKeyup(e,n,i){d.yS$.isKeyCode(n,[o.L_,o.K5])&&this._onCheckboxClick(e,n,i)}_onCheckboxClick(e,n,i,s=!1){var _=this;return(0,T.Z)(function*(){const p=!_._selectionModel.isSelected(e);_._rangeSelector.onRangeElementToggled(i,n);const g=_._viewModel$.pipe((0,k.P)()).subscribe(b=>{_._rangeSelector.applyValueToEachInRange(Q=>_._handleSelect(p,b.displayedOptions[Q].value,!1)),_._changeDetRef.detectChanges()});_._subscriptions.add(g),s?_.openChangeHandle(!1):n.stopPropagation()})()}_onTokenClick(e,n,i){i?.preventDefault(),this._handleSelect(!1,e,n,!0)}_handleSelect(e,n,i=!0,s=!1){const _=this._selectionModel.selected.length;e?this._selectionModel.select(n):this._selectionModel.deselect(n),this._shouldPopoverBeUpdated(_,this._selectionModel.selected.length)&&this.popoverRef.refreshPosition(),i&&(this._resetSearchTerm(),this.searchInputElement.nativeElement.focus()),0===this._selectionModel.selected.length&&(this.searchInputElement.nativeElement.focus(),this._changeDetRef.detectChanges()),this._propagateChange(s)}_handleInputKeydown(e){d.yS$.isKeyCode(e,o.JH)&&!this.mobile?(e.altKey&&this.openChangeHandle(!0),this.listComponent&&(this.listComponent.setItemActive(0),e.preventDefault())):d.yS$.isKeyCode(e,[o.JH,o.LH,o.K5])?this.openChangeHandle(!0):d.yS$.isKeyCode(e,o.hY)?this.openChangeHandle(!1):d.yS$.isKeyCode(e,o.Mf)&&this.open?this.listComponent&&(this.listComponent.setItemActive(0),e.preventDefault()):(d.yS$.isKeyType(e,"alphabetical")||d.yS$.isKeyType(e,"numeric"))&&(this.open||(this.openChangeHandle(!0),this.searchInputElement.nativeElement.focus()))}_showAllClicked(e){e.preventDefault(),e.stopPropagation(),this._searchTermCtrl.setValue(""),this.searchInputElement.nativeElement.focus()}_showAllKeyDown(e){d.yS$.isKeyCode(e,[o.L_,o.K5])&&this._showAllClicked(e)}_onSubmit(){const e=this.searchTerm;if(""!==e&&!this._selectFirstFiltered(e)&&this.allowNewTokens&&this.newTokenValidateFn(this._searchTermCtrl.value??"")){const i=this.newTokenParseFn(this._searchTermCtrl.value??"");this._addNewTokenToDropDownValues(i),this._handleSelect(!0,i),this._searchTermCtrl.setValue(""),this.open=!1}}_handleComplete({term:e}){this.searchTerm=e}dialogDismiss(e){this.openChangeHandle(!1),this._resetSearchTerm(),this.selected=e}dialogApprove(){this._propagateChange(!0),this.openChangeHandle(!1),this._resetSearchTerm()}_moreClicked(){this.openChangeHandle(!0)}_addOnButtonClicked(e){this.addOnButtonClicked.emit(e),this.openDropdownOnAddOnClicked?this.openChangeHandle(!this.open):this.open&&this.openChangeHandle(!1)}disableParentFocusTrap(){this._focusTrapService?.pauseCurrentFocusTrap()}enableParentFocusTrap(){this._focusTrapService?.unpauseCurrentFocusTrap()}_addNewTokenToDropDownValues(e){this.dropdownValues.push(e);const n=this._getOptionItem(e);this.optionItems$.next([...this.optionItems$.value,n])}_selectFirstFiltered(e){const n=this.filterFn(this.dropdownValues,e);if(Array.isArray(n)&&n.length>0&&this.autoComplete){const i=this._getOptionItem(n[0]);return this._handleSelect(!0,i.value),this._searchTermCtrl.setValue(""),this.open=!1,!0}return!1}_defaultFilter(e,n=""){const i=n.toLocaleLowerCase();return e.filter(s=>{if(s){const _=this.displayFn(s),p="string"==typeof _?_.toLocaleLowerCase():"";return this.includes?p.includes(i):p.startsWith(i)}})}_defaultValueFn(e){return e}_defaultDisplay(e){return e}_defaultParse(e){return e}_defaultTokenValidate(e){return!!e}_popoverOpenHandle(e){this.open=e}_propagateChange(e){if(!this.mobile||e){const n=[...this._selectionModel.selected];this.onChange(n),this.selectedChange.emit(n)}}_shouldPopoverBeUpdated(e,n){return!!this.popoverRef&&(0===e&&1===n||1===e&&0===n)}_setUpMobileMode(){var e=this;return(0,T.Z)(function*(){const n=t.zs3.create({providers:[{provide:N.v,useValue:e}],parent:e._injector});yield e._dynamicComponentService.createDynamicModule({listTemplate:e.listTemplate,controlTemplate:e.controlTemplate},J.U,H.b,e._viewContainerRef,n)})()}_resetSearchTerm(){this._searchTermCtrl.setValue(""),this._changeDetRef.detectChanges()}_getOptionItem(e){const{label:n,value:i}=this._getValueAndLabel(e);return{item:e,label:n,value:i,isSelected:!1}}_getValueAndLabel(e,n=[]){n.length>0&&(e=n.find(p=>p.value===e)?.item??e);const i="object"==typeof e?e[Object.keys(e)[0]]:e,s=this.valueFn(e)??i;return{label:this.displayFn(e)??i,value:s}}_getViewModel(){return(0,D.a)([this._searchTermCtrl.valueChanges.pipe((0,R.O)(this._searchTermCtrl.value)),this._selectionModel.changed.pipe((0,R.O)(null)),this.optionItems$]).pipe((0,y.U)(([,,e])=>{const n=this.selected.map(p=>this._getValueAndLabel(p,e)),i=this._searchTermCtrl.value??"",s=this.filterFn(e.map(p=>p.item),i),_=(Array.isArray(s)?s:[]).map(p=>this._getOptionItem(p));return _.forEach(p=>p.isSelected=n.findIndex(g=>g.value===p.value)>-1),{selectedOptions:n,displayedOptions:_}}))}_focusOut(e){this.elementRef.nativeElement.contains(e.relatedTarget)||this.onTouched()}_getAriaLabel(){var e=this;return(0,T.Z)(function*(){const n=yield(0,B.z)(e._language);e.ariaLabel=e._translationResolver.resolve(n,"coreMultiInput.multiInputAriaLabel")})()}}O.\u0275fac=function(e){return new(e||O)(t.Y36(W.c7),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(d.avN),t.Y36(t.zs3),t.Y36(t.s_b),t.Y36(S.iC),t.Y36(d.qFd,8),t.Y36(d.X$v,8))},O.\u0275cmp=t.Xpm({type:O,selectors:[["fd-multi-input"]],viewQuery:function(e,n){if(1&e&&(t.Gf(w.U$,5),t.Gf(nt,5,t.Rgc),t.Gf(ot,5,t.Rgc),t.Gf(L.ns,5),t.Gf(it,5,t.SBq),t.Gf(K.OZ,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.popoverRef=i.first),t.iGM(i=t.CRH())&&(n.controlTemplate=i.first),t.iGM(i=t.CRH())&&(n.listTemplate=i.first),t.iGM(i=t.CRH())&&(n.listComponent=i.first),t.iGM(i=t.CRH())&&(n.searchInputElement=i.first),t.iGM(i=t.CRH())&&(n.tokenizer=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("focusout",function(s){return n._focusOut(s)})},inputs:{placeholder:"placeholder",disabled:"disabled",required:"required",compactCollapse:"compactCollapse",maxHeight:"maxHeight",glyph:"glyph",dropdownValues:"dropdownValues",openDropdownOnAddOnClicked:"openDropdownOnAddOnClicked",searchTerm:"searchTerm",inputId:"inputId",highlight:"highlight",selected:"selected",class:"class",filterFn:"filterFn",valueFn:"valueFn",displayFn:"displayFn",newTokenParseFn:"newTokenParseFn",newTokenValidateFn:"newTokenValidateFn",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",fillControlMode:"fillControlMode",state:"state",buttonFocusable:"buttonFocusable",allowNewTokens:"allowNewTokens",mobile:"mobile",showAllButton:"showAllButton",bodyMaxWidth:"bodyMaxWidth",mobileConfig:"mobileConfig",includes:"includes",itemTemplate:"itemTemplate",title:"title",byline:"byline",autoComplete:"autoComplete",open:"open",displayAddonButton:"displayAddonButton"},outputs:{searchTermChange:"searchTermChange",selectedChange:"selectedChange",openChange:"openChange",addOnButtonClicked:"addOnButtonClicked",allItemsSelectedChange:"allItemsSelectedChange"},features:[t._Bn([{provide:m.JU,useExisting:(0,t.Gpc)(()=>O),multi:!0},U.ub,(0,E.YO)(O),(0,W.EQ)()]),t.TTD],ngContentSelectors:["*"],decls:2,vars:3,consts:[[4,"ngIf"],[1,"fd-multi-input","fd-multi-input-custom"],[1,"fd-multi-input-field"],[3,"ngTemplateOutlet",4,"ngIf"],["additionalBodyClass","fd-popover-custom-list","class","fd-multi-input-popover-custom",3,"isOpen","triggers","maxWidth","disabled","fillControlMode","isOpenChange","input",4,"ngIf"],["control",""],["list",""],["itemSource",""],[3,"ngTemplateOutlet"],["additionalBodyClass","fd-popover-custom-list",1,"fd-multi-input-popover-custom",3,"isOpen","triggers","maxWidth","disabled","fillControlMode","isOpenChange","input"],[3,"submit"],[4,"ngTemplateOutlet"],[1,"fd-multi-input-input-group-custom",3,"state","buttonFocusable","button","disabled","isExpanded","isControl","glyph","iconTitle","addOnButtonClicked"],["tabindex","-1",1,"fd-multi-input-tokenizer-custom",3,"compactCollapse","open","tokenizerFocusable","moreClickedEvent"],["tokenizer",""],[3,"disabled","onCloseClick","onRemove",4,"ngFor","ngForOf","ngForTrackBy"],["type","text","autocomplete","off","fd-form-control","","fd-input-group-input","","fdkAutoComplete","",1,"fd-input","fd-tokenizer__input","fd-multi-input-tokenizer-input",3,"displayFn","inputText","options","enable","placeholder","formControl","onComplete","keydown","focus","blur"],["searchInputElement",""],[3,"disabled","onCloseClick","onRemove"],[3,"innerHtml"],["fd-list","","class","fd-multi-input-menu-overflow",3,"selection","mobileMode","maxHeight","byline","minWidth","focusEscapeList",4,"ngIf"],["fd-list","",1,"fd-multi-input-menu-overflow",3,"selection","mobileMode","byline","focusEscapeList"],["fd-list-item","",3,"selected","click","keyup",4,"ngFor","ngForOf","ngForTrackBy"],["fd-list-item","","class","fd-multi-input-show-all",3,"keyDown","click",4,"ngIf"],["fd-list-item","",3,"selected","click","keyup"],[3,"value","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-list-item","",1,"fd-multi-input-show-all",3,"keyDown","click"],["fd-link","","tabindex","0"],["fd-list-title","",3,"innerHtml",4,"ngIf"],["fd-list-title","",3,"innerHtml"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,Et,11,2,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n._viewModel$))},dependencies:[A.sg,A.O5,A.tP,Z.q,r.O,m._Y,m.Fj,m.JJ,m.JL,m.F,m.oH,h.n,c.G,M.X,u.f,G.x,Y.U,z.g,V.cS,$.A,j.T,X.b,q.N,tt.E,A.Ov,et.W],styles:['.fd-multi-input-tokenizer-custom{width:calc(100% - 2.25rem)}[class*=--compact] .fd-multi-input-tokenizer-custom:not([class*="--cozy"]):not([class*="--condensed"]),.is-compact .fd-multi-input-tokenizer-custom:not(.is-cozy):not(.is-condensed),.fd-multi-input-tokenizer-custom[class*=--compact],.fd-multi-input-tokenizer-custom.is-compact{width:calc(100% - 2rem)}.fd-multi-input-input-group-custom{max-width:100%}.fd-multi-input-custom{display:block}.fd-multi-input-item{cursor:pointer;padding:0}.fd-multi-input-popover-size{overflow:auto;display:block}.fd-multi-input-popover-custom.fd-popover-custom{max-width:100%;display:block}.fd-multi-input-show-all{width:100%;display:flex;justify-content:flex-end;background-color:transparent}.fd-multi-input-show-all .fd-link:active{color:inherit}.fd-multi-input-checkbox{width:100%;cursor:pointer}.fd-multi-input-checkbox .fd-checkbox__label{color:inherit}.fd-multi-input-menu-overflow{max-width:37.5rem}.fd-input.fd-multi-input-tokenizer-input{min-width:4rem;margin-top:0;margin-bottom:0;padding-left:0;background-color:transparent}.fd-list--multi-input{max-width:100%}.fd-popover__body--hidden{display:none}\n'],encapsulation:2,changeDetection:0}),(0,f.gn)([d.Mkd,(0,f.w6)("design:type",Function),(0,f.w6)("design:paramtypes",[]),(0,f.w6)("design:returntype",Array)],O.prototype,"buildComponentCssClass",null)},22538:(F,v,l)=>{l.d(v,{v:()=>f});const f=new(l(65879).OlP)("MultiInputComponent")}}]);