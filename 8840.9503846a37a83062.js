"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8840],{49175:(F,y,o)=>{o.d(y,{T:()=>P});var h=o(36028),m=o(65879),t=o(97219),T=o(82275),n=o(1013),d=o(44837),O=o(19818),S=o.n(O),B=o(65619),L=o(47394),b=o(27921),C=o(836),M=o(74825),D=o(14665);class Q{constructor(w,a){this.source=w,this.selectedItems=a}}var J=o(63518),R=o(35606),H=o(71993);let P=(()=>{class K{constructor(){this.cvaControl=(0,m.f3M)(T.ju),this.dataSourceDirective=(0,m.f3M)(t.gH),this._cva=(0,m.f3M)(T.D2,{self:!0}),this._multiComboboxConfig=(0,m.f3M)(J.a,{optional:!0}),this.contentDensityObserver=(0,m.f3M)(d.c7),this._selectedSuggestions=[],this._flatSuggestions=[],this._fullFlatSuggestions=[],this.selectedShown$=new B.X(!1),this._elmRef=(0,m.f3M)(m.SBq),this._cd=(0,m.f3M)(m.sBO),this._mapLimit=(0,m.f3M)(R.g),this._destroyRef=(0,m.f3M)(m.ktI),this._matchingStrategy=this._multiComboboxConfig?.matchingStrategy??t.Qj.CONTAINS,this._dsSubscription=null,this._element=this._elmRef.nativeElement,this._nonOpeningKeys=[h.ZH,h.hY,h.K5,h.jx,h.Mf,h.JU,h.LH,h.SV,h.JH,h.oh,h.zL],this._rangeSelector=new n.Wh8,this._dataSourceChanged=!1,this._displayFn=a=>(0,D.AI)(a,this.displayKey),this._secondaryFn=a=>{if((0,T.I5)(a))return a.secondaryText??"";if((0,n.wVd)(a)&&this.secondaryKey){const u=(0,D._M)(a,this.secondaryKey);return(0,n.mf2)(u)?u():u}return a}}writeValue(a){this.selectedItems=(0,n.Ybm)(a),this._cva.writeValue(this.selectedItems),this._setSelectedSuggestions(),this._emitChangeEvent()}setValue(a,u=!0){this.selectedItems=(0,n.Ybm)(a),this._cva.setValue(this.selectedItems,u),this._setSelectedSuggestions(),this._emitChangeEvent()}_emitChangeEvent(){const a=new Q(this,this.selectedItems);this.selectionChange.emit(a)}_setSelectedSuggestions(){if(this._selectedSuggestions=[],this.selectedItems?.length){for(let a=0;a<=this.selectedItems.length;a++){const u=this.selectedItems[a],_=this._fullFlatSuggestions.findIndex(p=>p.label===u||p.value===u);-1!==_&&(this._selectedSuggestions.push(this._fullFlatSuggestions[_]),this._fullFlatSuggestions[_].selected=!0)}this._cd.detectChanges()}}_convertToOptionItems(a){const u=a[0];return(0,T.cN)(u)?a:(0,n.wVd)(u)?this._convertObjectsToOptionItems(a):(0,n.HD0)(u)?this._convertPrimitiveToOptionItems(a):[]}_convertObjectsToOptionItems(a){return this.isGroup?this._convertObjectsToGroupOptionItems(a):this.showSecondaryText&&this.secondaryKey?this._convertObjectsToSecondaryOptionItems(a):this._convertObjectsToDefaultOptionItems(a)}_convertObjectsToGroupOptionItems(a){const u={};for(let _=0;_<a.length;_++){const p=a[_],E=p[this.groupKey];E&&(u[E]||(u[E]=[]),u[E].push(p))}return Object.keys(u).map(_=>{const p={label:_,value:null,isGroup:!0},E=u[_];return p.children=this.showSecondaryText&&this.secondaryKey?this._convertObjectsToSecondaryOptionItems(E):this._convertObjectsToDefaultOptionItems(E),p})}_convertObjectsToSecondaryOptionItems(a){const u=[];for(let _=0;_<a.length;_++){const p=a[_];u.push({label:(0,D.AI)(p,this.displayKey),id:(0,D.w9)(p,this.lookupKey),secondaryText:(0,D._M)(p,this.secondaryKey),value:p,selected:this.selectedItems?.includes(p)||!1})}return u}_convertPrimitiveToOptionItems(a){const u=[];for(let _=0;_<a.length;_++){const p=a[_];u.push({label:p,id:(0,D.w9)(p,this.lookupKey),value:p,selected:this.selectedItems?.includes(p)||!1})}return u}_convertObjectsToDefaultOptionItems(a){const u=[];for(let _=0;_<a.length;_++){const p=a[_];u.push({label:(0,D.AI)(p,this.displayKey),id:(0,D.w9)(p,this.lookupKey),value:p,selected:this.selectedItems?.includes(p)||!1})}return u}_setInvalidEntry(){this._previousState||this._previousStateMessage||(this._previousState=this._cva.state,this._cva.state="error",this._previousStateMessage=this._cva.stateMessage,this._cva.stateMessage=this.invalidEntryMessage,this._cd.markForCheck())}_unsetInvalidEntry(){this._cva.state=this._previousState,this._previousState=void 0,this._cva.stateMessage=this._previousStateMessage,this._previousStateMessage=void 0,this._cd.markForCheck()}_focusToSearchField(){this.searchInputElement?.nativeElement.focus()}_mapAndUpdateModel(){const a=this._selectedSuggestions.map(({value:_})=>_);S()(this.selectedItems,a)||(this.writeValue(a),this._cva.onChange(a),this._emitChangeEvent())}_openDataStream(){const a=this.dataSourceDirective.dataSourceProvider;if(!a)throw new Error("[dataSource] source did not match an array, Observable, or DataSource");a.limitless=this.limitless,a.dataProvider.setLookupKey(this.lookupKey);const u={firstBy:this._displayFn};this.secondaryKey&&(u.secondaryBy=this._secondaryFn),a.dataProvider.setMatchingBy(u),a.dataProvider.setMatchingStrategy(this._matchingStrategy);const _=new Map;_.set("query","*"),this.limitless||_.set("limit",this._mapLimit),a.match(_),this._dsSubscription=new L.w0,this._dsSubscription.add(this.dataSourceDirective.dataSourceProvider?.dataRequested.subscribe(this.dataRequested)),this._dsSubscription.add(this.dataSourceDirective.dataSourceProvider?.dataReceived.subscribe(this.dataReceived)),this.dataSourceDirective.dataSourceChanged.pipe((0,b.O)(!0),(0,H.sL)(this._destroyRef)).subscribe(()=>{this._dataSourceChanged=!0}),this.dataSourceDirective.dataChanged$.pipe((0,C.T)(0),(0,H.sL)(this._destroyRef)).subscribe(p=>{0!==p.length?(this._previousInputText=this.inputText,this._parseDataSourceValue(p),this._cva.stateChanges.next("initDataSource.open()."),this._cd.markForCheck()):this._processingEmptyData()})}_parseDataSourceValue(a){this._convertDataSourceSuggestions(a);const u=this._selectedSuggestions.length;if(u>0)for(let _=0;_<u;_++){const p=this._selectedSuggestions[_],E=this._suggestions.findIndex(G=>S()(G.value,p.value));-1!==E&&(this._suggestions[E].selected=!0)}this._dataSourceChanged&&(this._flatSuggestions=this.isGroup?(0,D.yQ)(this._suggestions):this._suggestions,this._fullFlatSuggestions=this._flatSuggestions,this._setSelectedSuggestions(),this._mapAndUpdateModel(),this._dataSourceChanged=!1)}_convertDataSourceSuggestions(a){this._suggestions=this._convertToOptionItems(a).map(u=>{const _=this._selectedSuggestions.find(p=>p.id===u.id);return _&&(u.selected=_.selected),u})}_processingEmptyData(){this.inputText=this._previousInputText,this._setInvalidEntry(),this._timerSub$&&this._timerSub$.unsubscribe(),this._timerSub$=(0,M.H)(this.invalidEntryDisplayTime).subscribe(()=>this._unsetInvalidEntry()),this._cd.detectChanges()}}return K.\u0275fac=function(a){return new(a||K)},K.\u0275dir=m.lG2({type:K}),K})()},17783:(F,y,o)=>{o.d(y,{n:()=>T});var h=o(97219),m=o(2664),t=o(92269);class T{parse(d){return(0,h.Z9)(d)?d:Array.isArray(d)?new t.mF(d):(0,m.b)(d)?new t.nb(d):void 0}}},92269:(F,y,o)=>{o.d(y,{c:()=>m,mF:()=>t,nb:()=>T});var h=o(97219);class m extends h.yE{constructor(d){super(d),this.dataProvider=d,this.limitless=!1}}class t extends m{constructor(d){super(new h.FW(d))}}class T extends m{constructor(d){super(new h.FW(d))}}},14665:(F,y,o)=>{o.d(y,{AI:()=>d,Ro:()=>L,_M:()=>O,ir:()=>S,w9:()=>n,yQ:()=>B});var h=o(82275),m=o(1013),t=o(19818),T=o.n(t);function n(b,C){return(0,h.UL)(b)?C&&b?b.value[C]:b.value:C&&b?b[C]:b}function d(b,C){if((0,h.UL)(b))return b.label;if((0,m.wVd)(b)&&C){const M=O(b,C);return(0,m.mf2)(M)?M():M}return b}function O(b,C){return(0,m.wVd)(b)?(0,m.HD0)(C)?O(b,C.split(".")):C?.length?O(b[C[0]],C.slice(1)):b:b}function S(b,C){return b.find(M=>M.label===C)}function B(b){return b.reduce((C,M)=>C.concat(M.children??[]),[])}function L(b,C){return C.findIndex(M=>M.id===b.id||T()(M.value,b.value))}},68840:(F,y,o)=>{o.d(y,{mF:()=>J.mF,c:()=>J.c,J7:()=>D});var h=o(96814),m=o(60095),t=o(44837),T=o(61535),n=o(31380),d=o(33741),O=o(1013),S=o(27411),B=o(33957),L=o(96370),b=o(27017),C=o(52863),M=o(65879);let D=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=M.oAB({type:_}),_.\u0275inj=M.cJS({providers:[O.avN],imports:[h.ez,S.LU,B.UU,L.nD,b.ne,d.Wh,T.ej,n.pV,m.u5,O.drE,O.WNj,t.jO,C.V_]}),_})();o(35606);var J=o(92269);o(17783),o(81822),o(42014),o(63518),o(49175),o(14665),o(56541)},42014:(F,y,o)=>{o.d(y,{$:()=>z});var h=o(27498),m=o(20993),t=o(59773),T=o(56541),n=o(65879),d=o(96814),O=o(12209),S=o(51683),B=o(93688),L=o(89003),b=o(1144),C=o(74164),M=o(15243),D=o(24389),Q=o(25603),J=o(44321),R=o(17054),H=o(66972),P=o(57850);const K=["dialogTemplate"];function w(f,A){if(1&f&&(n.TgZ(0,"h1",8),n._uU(1),n.qZA()),2&f){const g=n.oxw(2);n.xp6(1),n.Oqu(g.mobileConfig.title)}}function a(f,A){if(1&f){const g=n.EpF();n.TgZ(0,"button",9),n.NdJ("click",function(){n.CHM(g);const v=n.oxw(2);return n.KtG(v.handleDismiss())}),n.qZA()}2&f&&n.Q6J("mobile",!0)}function u(f,A){1&f&&n.GkF(0)}function _(f,A){if(1&f){const g=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){n.CHM(g);const v=n.oxw(3);return n.KtG(v.showSelected())}),n.ALo(1,"fdTranslate"),n.ALo(2,"fdTranslate"),n.qZA()}2&f&&(n.Q6J("title",n.lcZ(1,2,"platformMultiCombobox.mobileShowAllItemsButton")),n.uIk("aria-label",n.lcZ(2,4,"platformMultiCombobox.mobileShowAllItemsButton")))}function p(f,A){if(1&f){const g=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){n.CHM(g);const v=n.oxw(3);return n.KtG(v.showSelected())}),n.ALo(1,"fdTranslate"),n.ALo(2,"fdTranslate"),n.qZA()}2&f&&(n.Q6J("title",n.lcZ(1,2,"platformMultiCombobox.mobileShowSelectedItemsButton")),n.uIk("aria-label",n.lcZ(2,4,"platformMultiCombobox.mobileShowSelectedItemsButton")))}function E(f,A){if(1&f&&(n.TgZ(0,"div",10)(1,"fd-bar-element",11),n.YNc(2,u,1,0,"ng-container",5),n.YNc(3,_,3,6,"button",12),n.ALo(4,"async"),n.YNc(5,p,3,6,"button",13),n.ALo(6,"async"),n.qZA()()),2&f){const g=n.oxw(2);n.xp6(1),n.Q6J("fullWidth",!0),n.xp6(1),n.Q6J("ngTemplateOutlet",(null==g.childContent?null:g.childContent.controlTemplate)||null),n.xp6(1),n.Q6J("ngIf",n.lcZ(4,4,g.selectedShown$)),n.xp6(2),n.Q6J("ngIf",!1===n.lcZ(6,6,g.selectedShown$))}}function G(f,A){1&f&&n.GkF(0)}function Z(f,A){if(1&f){const g=n.EpF();n.TgZ(0,"fd-button-bar",16),n.NdJ("click",function(){n.CHM(g);const v=n.oxw(2);return n.KtG(v.handleApprove())}),n.qZA()}if(2&f){const g=n.oxw(2);n.Q6J("label",g.mobileConfig.approveButtonText)}}function N(f,A){if(1&f){const g=n.EpF();n.TgZ(0,"fd-button-bar",17),n.NdJ("click",function(){n.CHM(g);const v=n.oxw(2);return n.KtG(v.handleDismiss())}),n.qZA()}if(2&f){const g=n.oxw(2);n.Q6J("label",g.mobileConfig.cancelButtonText)}}function U(f,A){if(1&f&&(n.TgZ(0,"fd-dialog",1)(1,"fd-dialog-header"),n.YNc(2,w,2,1,"h1",2),n.YNc(3,a,1,1,"button",3),n.YNc(4,E,7,8,"ng-template",4),n.qZA(),n.TgZ(5,"fd-dialog-body"),n.YNc(6,G,1,0,"ng-container",5),n.qZA(),n.TgZ(7,"fd-dialog-footer"),n.YNc(8,Z,1,1,"fd-button-bar",6),n.YNc(9,N,1,1,"fd-button-bar",7),n.qZA()()),2&f){const g=A.$implicit,k=A.dialogConfig,v=n.oxw();n.Q6J("dialogConfig",k)("dialogRef",g),n.xp6(2),n.Q6J("ngIf",null==v.mobileConfig?null:v.mobileConfig.title),n.xp6(1),n.Q6J("ngIf",null==v.mobileConfig?null:v.mobileConfig.hasCloseButton),n.xp6(3),n.Q6J("ngTemplateOutlet",(null==v.childContent?null:v.childContent.listTemplate)||null),n.xp6(2),n.Q6J("ngIf",null==v.mobileConfig?null:v.mobileConfig.approveButtonText),n.xp6(1),n.Q6J("ngIf",null==v.mobileConfig?null:v.mobileConfig.cancelButtonText)}}let z=(()=>{class f extends m.aj{constructor(g,k,v,Y){super(g,k,v,m.oS.MULTI_COMBOBOX,Y),this.childContent=null,this.selectedShown$=this._component.selectedShown$}ngOnInit(){this._listenOnMultiComboboxOpenChange()}ngOnDestroy(){super.onDestroy()}showSelected(){if(this.selectedShown$.getValue())return this._component._searchTermChanged(),void this.selectedShown$.next(!1);this._component._moreClicked()}handleDismiss(){this.dialogRef.dismiss(),this._component._dialogDismiss(this._selectedBackup)}handleApprove(){this.dialogRef.close(),this._component._dialogApprove()}_toggleDialog(g){g&&(this._selectedBackup=this._component._selectedSuggestions?.length?[...this._component._selectedSuggestions]:[],this._dialogService.hasOpenDialogs()||this._open())}_listenOnMultiComboboxOpenChange(){this._component.openChange.pipe((0,t.R)(this._onDestroy$)).subscribe(g=>this._toggleDialog(g))}_open(){this.dialogRef=this._dialogService.open(this.dialogTemplate,{mobile:!0,...this.dialogConfig,backdropClickCloseable:!1,escKeyCloseable:!1,container:this._elementRef.nativeElement,disablePaddings:!0})}}return f.\u0275fac=function(g){return new(g||f)(n.Y36(n.SBq),n.Y36(h.xA),n.Y36(T.K),n.Y36(m.jq,8))},f.\u0275cmp=n.Xpm({type:f,selectors:[["fd-mobile-multi-combobox"]],viewQuery:function(g,k){if(1&g&&n.Gf(K,5),2&g){let v;n.iGM(v=n.CRH())&&(k.dialogTemplate=v.first)}},features:[n.qOj],decls:2,vars:0,consts:[["dialogTemplate",""],[3,"dialogConfig","dialogRef"],["fd-title","","fd-dialog-title","",4,"ngIf"],["fd-dialog-close-button","",3,"mobile","click",4,"ngIf"],["fdkTemplate","subheader"],[4,"ngTemplateOutlet"],["fdType","emphasized",3,"label","click",4,"ngIf"],[3,"label","click",4,"ngIf"],["fd-title","","fd-dialog-title",""],["fd-dialog-close-button","",3,"mobile","click"],["fd-bar-middle",""],[3,"fullWidth"],["fd-button","","glyph","multiselect-all","fdType","emphasized","class","fd-margin-begin--tiny",3,"title","click",4,"ngIf"],["fd-button","","glyph","multiselect-all","fdType","transparent","class","fd-margin-begin--tiny",3,"title","click",4,"ngIf"],["fd-button","","glyph","multiselect-all","fdType","emphasized",1,"fd-margin-begin--tiny",3,"title","click"],["fd-button","","glyph","multiselect-all","fdType","transparent",1,"fd-margin-begin--tiny",3,"title","click"],["fdType","emphasized",3,"label","click"],[3,"label","click"]],template:function(g,k){1&g&&n.YNc(0,U,10,7,"ng-template",null,0,n.W1O)},dependencies:[d.O5,d.tP,O.s,S.J,B.N,L.a,b.H,C.g,M.A,D.D,Q.q,J.r,R.S,H.r,d.Ov,P.n]}),f})()},81822:(F,y,o)=>{o.d(y,{V:()=>O});var h=o(96814),m=o(93793),t=o(43535),T=o(27498),n=o(27411),d=o(65879);let O=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({imports:[h.ez,m.Fh,T.Su,t.hJ,h.ez,n.LU]}),S})()},63518:(F,y,o)=>{o.d(y,{a:()=>t});var h=o(97219),m=o(65879);let t=(()=>{class T{constructor(){this.matchingStrategy=h.Qj.STARTS_WITH_PER_TERM,this.providers=new Map}}return T.\u0275fac=function(d){return new(d||T)},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},35606:(F,y,o)=>{o.d(y,{g:()=>Zt,m:()=>Nt});var h=o(49671),m=o(36028),t=o(65879),T=o(97219),n=o(82275),d=o(1013),O=o(31380),S=o(19818),B=o.n(S),L=o(78645),b=o(83620),C=o(44837),M=o(33741),D=o(49175),Q=o(42014),J=o(81822),R=o(56541),H=o(17783),P=o(14665),K=o(71993),w=o(96814),a=o(32786),u=o(42837),_=o(36728),p=o(35929),E=o(16937),G=o(13991),Z=o(62742),N=o(14656),U=o(1658),z=o(23402),f=o(91401),A=o(76094),g=o(74107),k=o(31706),v=o(46686),Y=o(57904),et=o(78548),W=o(60095),ot=o(19446),nt=o(91212),it=o(46306),j=o(57850);const lt=function(l,c){return{selectedItems:l,totalItems:c}};let st=(()=>{class l extends O.GS{constructor(){super(...arguments),this.selectedItems=[],this.flatItems=[],this._destroyRef=(0,t.f3M)(t.ktI),this.changeDetector=(0,t.f3M)(t.sBO)}get allAreSelected(){return this.selectedItems.length===this.flatItems.length}get someAreSelected(){return this.selectedItems.length>0&&!this.allAreSelected}get checkboxValue(){return!!this.allAreSelected||!!this.someAreSelected&&null}onKeyDown(e){e.preventDefault(),this.change(!this.checkboxValue)}onClick(){this.elementRef.nativeElement.focus(),this.change(!this.checkboxValue)}ngOnInit(){this.tabindex=0,this.valueChanges.pipe((0,K.sL)(this._destroyRef)).subscribe(()=>{this.changeDetector.detectChanges()})}change(e){this.selectAllHandler(e)}}return l.\u0275fac=function(){let c;return function(i){return(c||(c=t.n5z(l)))(i||l)}}(),l.\u0275cmp=t.Xpm({type:l,selectors:[["fd-multi-combobox-select-all-toggler"]],hostBindings:function(e,i){1&e&&t.NdJ("keydown.enter",function(r){return i.onKeyDown(r)})("keydown.space",function(r){return i.onKeyDown(r)})("click",function(){return i.onClick()})},inputs:{selectAllHandler:"selectAllHandler",valueChanges:"valueChanges",selectedItems:"selectedItems",flatItems:"flatItems"},features:[t._Bn([{provide:O.GS,useExisting:l}]),t.qOj],decls:5,vars:9,consts:[["fd-form-item","",1,"fd-multi-combobox-select-all__form-item"],["tabIndexValue","-1",3,"ngModel","tristate"]],template:function(e,i){1&e&&(t.TgZ(0,"fd-toolbar")(1,"div",0)(2,"fd-checkbox",1),t._uU(3),t.ALo(4,"fdTranslate"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngModel",i.checkboxValue)("tristate",!0),t.xp6(1),t.hij(" ",t.xi3(4,3,"coreMultiComboBox.selectAllLabel",t.WLB(6,lt,i.selectedItems.length,i.flatItems.length))," "))},dependencies:[p.b,nt.J,W.JJ,W.On,it.n,j.n],styles:["fd-multi-combobox-select-all-toggler{display:block;background-color:var(--sapBackgroundColor);cursor:pointer;position:sticky;top:0;z-index:1}fd-multi-combobox-select-all-toggler:focus,fd-multi-combobox-select-all-toggler.is-focus{outline-offset:-.1875rem;outline-width:var(--sapContent_FocusWidth);outline-style:var(--sapContent_FocusStyle);outline-color:var(--sapContent_FocusColor)}fd-multi-combobox-select-all-toggler .fd-toolbar{padding-left:1rem;padding-right:0}fd-multi-combobox-select-all-toggler .fd-multi-combobox-select-all__form-item{display:flex;flex-direction:row;align-items:center;font-weight:700}fd-multi-combobox-select-all-toggler .fd-multi-combobox-select-all__form-item fd-checkbox{pointer-events:none}fd-multi-combobox-select-all-toggler .fd-multi-combobox-select-all__form-item fd-checkbox .fd-checkbox__checkmark{margin-right:.5rem}[dir=rtl] fd-multi-combobox-select-all-toggler .fd-multi-combobox-select-all__form-item fd-checkbox .fd-checkbox__checkmark,fd-multi-combobox-select-all-toggler .fd-multi-combobox-select-all__form-item fd-checkbox .fd-checkbox__checkmark[dir=rtl]{margin-right:0;margin-left:.5rem}fd-multi-combobox-select-all-toggler .fd-multi-combobox-select-all__form-item fd-checkbox .fd-checkbox__text{font-weight:700!important}\n"],encapsulation:2,changeDetection:0}),l})();var at=o(98190);const rt=["searchInputElement"],ct=["mobileControlTemplate"],mt=["listTemplate"],dt=["inputGroup"];function _t(l,c){if(1&l&&t.GkF(0,9),2&l){t.oxw();const e=t.MAs(4);t.Q6J("ngTemplateOutlet",e)}}function ut(l,c){1&l&&t.GkF(0)}function pt(l,c){1&l&&t.GkF(0)}const gt=function(){return[]};function ft(l,c){if(1&l){const e=t.EpF();t.TgZ(0,"fd-popover",10),t.NdJ("isOpenChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r._popoverOpenChangeHandle(s))}),t.TgZ(1,"fd-popover-control"),t.ynx(2),t.YNc(3,ut,1,0,"ng-container",11),t.BQk(),t.qZA(),t.TgZ(4,"fd-popover-body"),t.YNc(5,pt,1,0,"ng-container",11),t.Hsn(6),t.qZA()()}if(2&l){const e=t.oxw(),i=t.MAs(4),s=t.MAs(8);t.Q6J("isOpen",e.isOpen)("triggers",t.DdM(8,gt))("disabled",e._cva.disabled)("fillControlMode",e.fillControlMode),t.xp6(3),t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Udp("width",!e.autoResize&&100,"%"),t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function ht(l,c){if(1&l){const e=t.EpF();t.TgZ(0,"fd-token",21),t.NdJ("onCloseClick",function(s){const x=t.CHM(e).$implicit,I=t.oxw(3);return t.KtG(I._removeToken(x,s))}),t._uU(1),t.qZA()}if(2&l){const e=c.$implicit,i=t.oxw(3);t.Q6J("readOnly",i._cva.disabled),t.xp6(1),t.hij(" ",e.label," ")}}function bt(l,c){if(1&l){const e=t.EpF();t.TgZ(0,"fd-tokenizer",16,17),t.NdJ("moreClickedEvent",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s._moreClicked())}),t.YNc(2,ht,2,2,"fd-token",18),t.TgZ(3,"input",19,20),t.NdJ("onComplete",function(s){t.CHM(e);const r=t.oxw(2);return t.KtG(r._onCompleteTerm(s))})("keydown",function(s){t.CHM(e);const r=t.oxw(2);return t.KtG(r._onInputKeydownHandler(s))})("ngModelChange",function(s){t.CHM(e);const r=t.oxw(2);return t.KtG(r.inputText=s)})("ngModelChange",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s._searchTermChanged())})("focus",function(){t.CHM(e);const s=t.MAs(1);return t.oxw(2)._cva.onTouched(),t.KtG(s._showAllTokens())})("blur",function(s){t.CHM(e);const r=t.MAs(1),x=t.oxw(2);return!x.mobile&&x._onBlur(s),t.KtG(r._hideTokens())}),t.qZA()()}if(2&l){const e=t.oxw(2);t.Q6J("tokenizerFocusable",!1)("compactCollapse",!0),t.xp6(2),t.Q6J("ngForOf",e._selectedSuggestions),t.xp6(1),t.Q6J("options",e._suggestions)("inputText",e.inputText)("id",e._cva.id)("name",e._cva.name)("disabled",e._cva.disabled)("ngModel",e.inputText)("placeholder",e._cva.placeholder)("readonly",e._cva.readonly)("displayFn",e._displayFn),t.uIk("aria-label",e._cva.ariaLabel)("aria-labelledby",e._cva.ariaLabelledBy)("aria-autocomplete",e.autoComplete&&!e.mobile?"list":null)("aria-owns",e.autoComplete&&!e.mobile?e._cva.id+"-result":null)("aria-haspopup",e.autoComplete&&!e.mobile)("aria-expanded",e.isOpen)("aria-readonly",e._cva.readonly)("aria-required",e._cva.required)}}function xt(l,c){if(1&l&&t._UZ(0,"fd-form-message",22),2&l){const e=t.oxw(2);t.Q6J("type",e._cva.state)("innerHtml",e._cva.stateMessage,t.oJD)}}function Ct(l,c){if(1&l){const e=t.EpF();t.TgZ(0,"fd-form-input-message-group")(1,"fd-input-group",12,13),t.NdJ("addOnButtonClicked",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r._addOnClicked(s))})("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.mobile&&!s.isOpen&&s._onPrimaryButtonClick(!1))})("keydown",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r._navigateByTokens(s))}),t.ALo(3,"fdTranslate"),t.ALo(4,"fdTranslate"),t.YNc(5,bt,5,20,"fd-tokenizer",14),t.qZA(),t.YNc(6,xt,1,2,"fd-form-message",15),t.qZA()}if(2&l){const e=t.oxw();t.xp6(1),t.Q6J("id",e._cva.id+"-input-group-container")("state",e._cva.state)("buttonFocusable",e.buttonFocusable)("button",!e._cva.readonly)("glyph",e._cva.readonly?" ":"navigation-down-arrow")("isControl",!0)("disabled",e._cva.disabled||e._cva.readonly)("isExpanded",!e.mobile&&e.isOpen&&e._suggestions.length>0)("glyphAriaLabel",e._cva.ariaLabel||t.lcZ(3,14,"platformMultiCombobox.inputGlyphAriaLabel"))("iconTitle",e.addonIconTitle||t.lcZ(4,16,"platformMultiCombobox.inputGlyphAriaLabel")),t.uIk("aria-disabled",e._cva.disabled||e._cva.readonly)("aria-readonly",e._cva.readonly),t.xp6(4),t.Q6J("ngIf",e._selectedSuggestions),t.xp6(1),t.Q6J("ngIf",!(e.mobile&&e.isOpen||!e._cva.stateMessage))}}function vt(l,c){if(1&l){const e=t.EpF();t.TgZ(0,"fd-input-group",23)(1,"input",24),t.NdJ("onComplete",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r._onCompleteTerm(s))})("keydown",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r._onInputKeydownHandler(s))})("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.inputText=s)})("ngModelChange",function(){t.CHM(e);const s=t.oxw();return t.KtG(s._searchTermChanged())})("focus",function(){t.CHM(e);const s=t.oxw();return t.KtG(s._cva.onTouched())})("blur",function(s){t.CHM(e);const r=t.oxw();return t.KtG(!r.mobile&&r._onBlur(s))}),t.qZA()()}if(2&l){const e=t.oxw();t.Q6J("id",e._cva.id+"-input-group-container")("state",e._cva.state)("buttonFocusable",!1)("isControl",!0)("disabled",e._cva.disabled||e._cva.readonly)("isExpanded",!e.mobile&&e.isOpen&&e._suggestions.length>0)("glyphAriaLabel",e._cva.ariaLabel),t.uIk("aria-disabled",e._cva.disabled||e._cva.readonly)("aria-readonly",e._cva.readonly),t.xp6(1),t.Q6J("options",e._suggestions)("inputText",e.inputText)("id",e._cva.id)("name",e._cva.name)("disabled",e._cva.disabled)("ngModel",e.inputText)("placeholder",e._cva.placeholder)("readonly",e._cva.readonly)("displayFn",e._displayFn),t.uIk("aria-label",e._cva.ariaLabel)("aria-labelledby",e._cva.ariaLabelledBy)("aria-autocomplete",e.autoComplete&&!e.mobile?"list":null)("aria-owns",e.autoComplete&&!e.mobile?e._cva.id+"-result":null)("aria-haspopup",e.autoComplete&&!e.mobile)("aria-expanded",e.isOpen)("aria-readonly",e._cva.readonly)}}function Tt(l,c){if(1&l&&t._UZ(0,"fd-form-message",22),2&l){const e=t.oxw(2);t.Q6J("type",e._cva.state)("innerHtml",e._cva.stateMessage,t.oJD)}}function yt(l,c){if(1&l&&t._UZ(0,"fd-multi-combobox-select-all-toggler",28),2&l){const e=t.oxw(2);t.Q6J("selectAllHandler",e._handleSelectAllItems)("valueChanges",e.selectionChange)("selectedItems",e._selectedSuggestions)("flatItems",e._flatSuggestions)}}function Mt(l,c){if(1&l&&(t.ynx(0),t.TgZ(1,"label",31)(2,"span",32),t._uU(3),t.qZA()(),t.BQk()),2&l){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.label)}}const It=function(l){return{label:l}},X=function(l){return{$implicit:l}};function Ot(l,c){if(1&l&&(t.ynx(0),t.GkF(1,33),t.BQk()),2&l){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngTemplateOutlet",i.groupItemTemplate)("ngTemplateOutletContext",t.VKq(4,X,t.VKq(2,It,e.label)))}}const $=function(l,c){return{optionItem:l,index:c}};function St(l,c){if(1&l){const e=t.EpF();t.TgZ(0,"li",34),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(4);return t.KtG(!s.mobile&&s.close())})("keyDown",function(s){const x=t.CHM(e).index,I=t.oxw(4);return t.KtG(I._onItemKeyDownHandler(s,x))}),t.TgZ(1,"fd-checkbox",35),t.NdJ("click",function(s){const x=t.CHM(e).index,I=t.oxw(4);return t.KtG(I._onOptionCheckboxClicked(s,x))})("ngModelChange",function(){const r=t.CHM(e).$implicit,x=t.oxw(4);return t.KtG(x._toggleSelection(r))}),t.qZA(),t.GkF(2,33),t.qZA()}if(2&l){const e=c.$implicit,i=c.index;t.oxw(4);const s=t.MAs(10);t.Q6J("tabindex",0)("selected",!!e.selected),t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.WLB(5,$,e,i))}}function Et(l,c){if(1&l&&(t.ynx(0),t.YNc(1,Mt,4,1,"ng-container",27),t.YNc(2,Ot,2,6,"ng-container",27),t.YNc(3,St,3,8,"li",30),t.BQk()),2&l){const e=c.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!i.groupItemTemplate),t.xp6(1),t.Q6J("ngIf",i.groupItemTemplate),t.xp6(1),t.Q6J("ngForOf",e.children)}}function At(l,c){if(1&l&&(t.ynx(0),t.YNc(1,Et,4,3,"ng-container",29),t.BQk()),2&l){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e._suggestions)}}function Dt(l,c){if(1&l){const e=t.EpF();t.TgZ(0,"li",34),t.NdJ("click",function(s){const x=t.CHM(e).index,I=t.oxw(3);return t.KtG(!I.mobile&&I._onOptionClicked(s,x))})("keyDown",function(s){const x=t.CHM(e).index,I=t.oxw(3);return t.KtG(I._onItemKeyDownHandler(s,x))}),t.TgZ(1,"fd-checkbox",35),t.NdJ("click",function(s){const x=t.CHM(e).index,I=t.oxw(3);return t.KtG(I._onOptionCheckboxClicked(s,x))})("ngModelChange",function(){const r=t.CHM(e).$implicit,x=t.oxw(3);return t.KtG(x._toggleSelection(r))}),t.qZA(),t.GkF(2,33),t.qZA()}if(2&l){const e=c.$implicit,i=c.index;t.oxw(3);const s=t.MAs(10);t.Q6J("tabindex",0)("selected",!!e.selected),t.xp6(1),t.Q6J("ngModel",e.selected),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.WLB(5,$,e,i))}}function kt(l,c){if(1&l&&(t.ynx(0),t.YNc(1,Dt,3,8,"li",30),t.BQk()),2&l){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e._suggestions)}}function Kt(l,c){if(1&l){const e=t.EpF();t.TgZ(0,"ul",25),t.NdJ("focusEscapeList",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r._handleListFocusEscape(s))}),t.YNc(1,Tt,1,2,"fd-form-message",15),t.YNc(2,yt,1,4,"fd-multi-combobox-select-all-toggler",26),t.Hsn(3,1),t.YNc(4,At,2,1,"ng-container",27),t.YNc(5,kt,2,1,"ng-container",27),t.qZA()}if(2&l){const e=t.oxw();t.Udp("max-height",!e.mobile&&e.maxHeight)("min-width",!e.mobile&&e.minWidth+"px")("max-width",e.autoResize&&e.maxWidth+"px"),t.Q6J("dropdownMode",!0)("id",e._cva.id+"-result"),t.uIk("aria-labelledby",e._cva.id+"-search"),t.xp6(1),t.Q6J("ngIf",!!e._cva.stateMessage),t.xp6(1),t.Q6J("ngIf",e.showSelectAll),t.xp6(2),t.Q6J("ngIf",e.isGroup),t.xp6(1),t.Q6J("ngIf",!e.isGroup)}}const q=function(l,c){return{$implicit:l,index:c}};function Bt(l,c){if(1&l&&t.GkF(0,33),2&l){const e=t.oxw(),i=e.optionItem,s=e.index,r=t.oxw();t.Q6J("ngTemplateOutlet",r.selectedItemTemplate)("ngTemplateOutletContext",t.WLB(2,q,i.value,s))}}const Lt=function(l){return{optionItem:l}};function wt(l,c){if(1&l&&(t.ynx(0),t.GkF(1,33)(2,33),t.BQk()),2&l){const e=t.oxw(),i=e.optionItem,s=e.index;t.oxw();const r=t.MAs(12),x=t.MAs(14);t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.WLB(4,$,i,s)),t.xp6(1),t.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",t.VKq(7,Lt,i))}}function Ft(l,c){if(1&l&&(t.YNc(0,Bt,1,5,"ng-container",36),t.YNc(1,wt,3,9,"ng-container",27)),2&l){const e=c.optionItem,i=t.oxw();t.Q6J("ngIf",e.selected&&!!i.selectedItemTemplate),t.xp6(1),t.Q6J("ngIf",!(e.selected&&i.selectedItemTemplate))}}function Jt(l,c){if(1&l&&(t.ynx(0),t._UZ(1,"span",37),t.ALo(2,"highlight"),t.BQk()),2&l){const e=t.oxw().optionItem,i=t.oxw();t.xp6(1),t.Q6J("innerHTML",t.xi3(2,2,e.label,i.inputText),t.oJD),t.uIk("title",e.label)}}function Pt(l,c){if(1&l&&(t.ynx(0),t.GkF(1,33),t.BQk()),2&l){const e=t.oxw(),i=e.optionItem,s=e.index,r=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",r.optionItemTemplate)("ngTemplateOutletContext",t.WLB(2,q,i.value,s))}}function Rt(l,c){if(1&l&&(t.YNc(0,Jt,3,5,"ng-container",27),t.YNc(1,Pt,2,5,"ng-container",27)),2&l){const e=t.oxw();t.Q6J("ngIf",!e.optionItemTemplate),t.xp6(1),t.Q6J("ngIf",e.optionItemTemplate)}}function Ht(l,c){if(1&l&&(t.ynx(0),t._UZ(1,"span",38),t.ALo(2,"highlight"),t.BQk()),2&l){const e=t.oxw(2).optionItem,i=t.oxw();t.xp6(1),t.Udp("text-align",i.secondaryTextAlignment),t.Q6J("innerHTML",t.xi3(2,4,e.secondaryText,i.inputText),t.oJD),t.uIk("title",e.secondaryText)}}function Qt(l,c){if(1&l&&(t.ynx(0),t.GkF(1,33),t.BQk()),2&l){const e=t.oxw(2).optionItem,i=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",i.secondaryItemTemplate)("ngTemplateOutletContext",t.VKq(2,X,e.value))}}function Gt(l,c){if(1&l&&(t.ynx(0),t.YNc(1,Ht,3,7,"ng-container",27),t.YNc(2,Qt,2,4,"ng-container",27),t.BQk()),2&l){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.secondaryItemTemplate),t.xp6(1),t.Q6J("ngIf",e.secondaryItemTemplate)}}function Wt(l,c){if(1&l&&t.YNc(0,Gt,3,2,"ng-container",27),2&l){const e=t.oxw();t.Q6J("ngIf",e.showSecondaryText)}}const tt=["*","*"],Zt=new t.OlP("Map limit\u2265",{factory:()=>12});let Nt=(()=>{class l extends D.T{set selectedItems(e){this._selectedItems=(0,d.Ybm)(e)}get selectedItems(){return this._selectedItems}set value(e){this.setValue(e,!0)}get value(){return this._cva.value}set inputText(e){this._inputTextValue=e,this._cva.onTouched()}get inputText(){return this._inputTextValue||""}get isEmptyValue(){return 0===this.inputText.trim().length}get isGroup(){return!(!this.group||!this.groupKey)}constructor(e,i,s){super(),this._injector=e,this._viewContainerRef=i,this._dynamicComponentService=s,this.showSelectAll=!1,this.maxHeight="250px",this.buttonFocusable=!1,this.autoComplete=!0,this.mobile=!1,this.group=!1,this.showSecondaryText=!1,this.secondaryTextAlignment="right",this.autoResize=!0,this.openDropdownOnAddOnClicked=!0,this.fillControlMode="at-least",this.invalidEntryMessage="Invalid entry",this.invalidEntryDisplayTime=3e3,this.selectionChange=new t.vpe,this.isOpenChange=new t.vpe,this.addOnButtonClicked=new t.vpe,this.dataRequested=new t.vpe,this.dataReceived=new t.vpe,this._contentDensity=this._multiComboboxConfig?.contentDensity??"cozy",this.isOpen=!1,this.openChange=new L.x,this._selectedItems=[],this._handleSelectAllItems=r=>{this._flatSuggestions.forEach(x=>x.selected=r),this._onEveryItem(this._suggestions,x=>x.selected=r),this._selectedSuggestions=r?[...this._flatSuggestions]:[],this._rangeSelector.reset(),this._propagateChange()},this.contentDensityObserver.subscribe()}ngOnInit(){this.cvaControl.listenToChanges(),this._openDataStream()}ngAfterViewInit(){var e=this;return(0,h.Z)(function*(){e.mobile&&(yield e._setUpMobileMode()),e._assignCustomTemplates(),e._initWindowResize(),e._tokenizer._showOverflowPopover=!1})()}_toggleSelection(e,i=!1){const s=(0,P.Ro)(e,this._selectedSuggestions);-1===s?this._selectedSuggestions.push(e):this._selectedSuggestions.splice(s,1),e.selected=!e.selected,this._propagateChange(i),this._selectedSuggestions.length||this._focusToSearchField(),this._cd.detectChanges()}_onOptionCheckboxClicked(e,i){e.stopPropagation(),this._onListElementClicked(e,i)}_onCompleteTerm(e){e.forceClose&&(this._toggleSelectionByInputText(e.term),this.close())}_navigateByTokens(e){d.yS$.isKeyCode(e,[m.JH,m.LH])&&this.isOpen&&this.listComponent.items?.first.focus()}_removeToken(e,i){i&&i.preventDefault();const s=this._suggestions.find(r=>r.value===e.value);s&&(this._toggleSelection(s,!0),this._rangeSelector.reset())}_moreClicked(){this._suggestions=this.isGroup?this._convertObjectsToGroupOptionItems(this._selectedSuggestions.map(({value:e})=>e)):this._suggestions.filter(e=>this._selectedSuggestions.some(i=>B()(i.value,e.value))),this._showList(!0),this.selectedShown$.next(!0),this._cd.markForCheck()}_onBlur(e){const i=e.relatedTarget;if(i){if(i.closest(".fd-multi-combobox__list-container"))return;this._showList(!1),this.inputText=""}}_onItemKeyDownHandler(e,i){d.yS$.isKeyCode(e,m.hY)?(this._focusToSearchField(),this.close()):e.shiftKey&&d.yS$.isKeyCode(e,m.Mf)?(e.preventDefault(),this.listComponent?.setItemActive(i-1)):d.yS$.isKeyCode(e,m.Mf)?(e.preventDefault(),this.listComponent?.setItemActive(i+1)):(e.ctrlKey||e.metaKey)&&e.shiftKey&&d.yS$.isKeyCode(e,m.A)?(e.preventDefault(),this._handleSelectAllItems(!1)):(e.ctrlKey||e.metaKey)&&d.yS$.isKeyCode(e,m.A)?(e.preventDefault(),this._handleSelectAllItems(!0)):d.yS$.isKeyCode(e,m.K5)?(this.mobile||this.close(),this._rangeSelector.reset()):d.yS$.isKeyCode(e,m.L_)&&this._rangeSelector.reset()}_onOptionClicked(e,i){this._onListElementClicked(e,i),this.close()}_dialogDismiss(e){this._selectedSuggestions=[...e],this.inputText="",this._showList(!1),this.selectedShown$.next(!1)}_dialogApprove(){this.inputText="",this._showList(!1),this._propagateChange(!0)}_popoverOpenChangeHandle(e){this.isOpen=e,this._rangeSelector.reset()}open(){this.isOpen=!0,this.isOpenChange.emit(this.isOpen),this._cd.markForCheck()}close(){this._rangeSelector.reset(),this.selectedShown$.next(!1),this.inputText="",this._focusToSearchField(),this.isOpen=!1,this.isOpenChange.emit(this.isOpen),this._cd.markForCheck()}_showList(e){this.isOpen!==e&&(this.isOpen=e,this._cva.onTouched(),this.openChange.next(e)),this.isOpen||this._searchTermChanged(""),this._cd.markForCheck()}_searchTermChanged(e=this.inputText){const i=new Map;i.set("query",e),this.limitless||i.set("limit",this._mapLimit),this.dataSourceDirective.dataSourceProvider?.match(i),e&&this.open(),this._cd.markForCheck()}_onPrimaryButtonClick(e){e||this._searchTermChanged(""),this.openDropdownOnAddOnClicked?this._showList(!e):this.isOpen&&this._showList(!1),this.isOpen&&this.searchInputElement?.nativeElement.focus()}_onInputKeydownHandler(e){this._cva.readonly||(d.yS$.isKeyCode(e,m.JH)?(e.preventDefault(),e.altKey&&this._showList(!0),this.isOpen&&this.listComponent?this.listComponent.setItemActive(0):this.isOpen||this._chooseOtherItem(1)):d.yS$.isKeyCode(e,m.LH)?(e.preventDefault(),this._chooseOtherItem(-1)):d.yS$.isKeyCode(e,m.K5)?this._toggleSelectionByInputText():d.yS$.isKeyCode(e,m.hY)?(e.stopPropagation(),this._showList(!1)):d.yS$.isKeyCode(e,[...this._nonOpeningKeys,m.jx])||(this._showList(!0),!d.yS$.isKeyType(e,"alphabetical")&&!d.yS$.isKeyType(e,"numeric")&&setTimeout(()=>{this.isEmptyValue&&this.listComponent?.setItemActive(0)})))}_handleListFocusEscape(e){"up"===e&&this._focusToSearchField()}_addOnClicked(e){this.addOnButtonClicked.emit(e),this.mobile||this._onPrimaryButtonClick(this.isOpen)}_onEveryItem(e,i){e.forEach(s=>{i(s),s.children&&s.children.length>0&&this._onEveryItem(s.children,i)})}_toggleSelectionByInputText(e=this.inputText){const i=(0,P.ir)(this._fullFlatSuggestions,e);i&&(this._toggleSelection(i),this.inputText="")}_setInputTextFromOptionItem(e){this.inputText=e.label,!this.mobile&&this._showList(!1)}_onListElementClicked(e,i){const s=this._suggestions[i].selected;this._rangeSelector.onRangeElementToggled(i,e);const r=new Set;this._rangeSelector.applyValueToEachInRange(x=>{const I=this._suggestions[x];I.selected!==s&&(I.selected?r.add(I.value):this._selectedSuggestions.push(I),I.selected=s)}),this._selectedSuggestions=this._selectedSuggestions.filter(x=>!r.has(x.value)),this._propagateChange(),this._tokenizer.onResize(),this._tokenizer.tokenizerInnerEl.nativeElement.scrollLeft=this._tokenizer.tokenizerInnerEl.nativeElement.scrollWidth}_propagateChange(e){(!this.mobile||e)&&this._mapAndUpdateModel()}_setUpMobileMode(){var e=this;return(0,h.Z)(function*(){const i=t.zs3.create({providers:[{provide:R.K,useValue:e}],parent:e._injector});yield e._dynamicComponentService.createDynamicModule({listTemplate:e.listTemplate,controlTemplate:e.mobileControlTemplate},J.V,Q.$,e._viewContainerRef,i)})()}_chooseOtherItem(e){if(this._selectedSuggestions?.length===this._flatSuggestions.length)return void(this.inputText="");const i=(0,P.ir)(this._fullFlatSuggestions,this.inputText),s=this._flatSuggestions.findIndex(V=>V===i),x=this._flatSuggestions[this.inputText||-1!==e?s+e:this._flatSuggestions.length-1];x&&this._setInputTextFromOptionItem(x),-1!==this._selectedSuggestions.findIndex(V=>V.label===x?.label)&&this._chooseOtherItem(e)}_initWindowResize(){this._getOptionsListWidth(),this.autoResize&&(0,d.qYq)(this._inputGroup.nativeElement).pipe((0,b.b)(30),(0,K.sL)(this._destroyRef)).subscribe(()=>this._getOptionsListWidth())}_getOptionsListWidth(){const e=document.body,i=this._inputGroup.nativeElement.getBoundingClientRect();this.maxWidth=this.autoResize?window.innerWidth-(e.offsetWidth-e.clientWidth)-i.left:this.minWidth,this.minWidth=i.width-2,this._cd.detectChanges()}_assignCustomTemplates(){this.customTemplates.forEach(e=>{switch(e.getName()){case"optionItemTemplate":this.optionItemTemplate=e.templateRef;break;case"groupItemTemplate":this.groupItemTemplate=e.templateRef;break;case"secondaryItemTemplate":this.secondaryItemTemplate=e.templateRef;break;case"selectedItemTemplate":this.selectedItemTemplate=e.templateRef}})}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(t.zs3),t.Y36(t.s_b),t.Y36(d.avN))},l.\u0275cmp=t.Xpm({type:l,selectors:[["fd-multi-combobox"]],contentQueries:function(e,i,s){if(1&e&&t.Suo(s,d.S3k,4),2&e){let r;t.iGM(r=t.CRH())&&(i.customTemplates=r)}},viewQuery:function(e,i){if(1&e&&(t.Gf(rt,5,t.SBq),t.Gf(O.DX,5),t.Gf(ct,5),t.Gf(mt,5),t.Gf(M.OZ,5),t.Gf(dt,5,t.SBq)),2&e){let s;t.iGM(s=t.CRH())&&(i.searchInputElement=s.first),t.iGM(s=t.CRH())&&(i.listComponent=s.first),t.iGM(s=t.CRH())&&(i.mobileControlTemplate=s.first),t.iGM(s=t.CRH())&&(i.listTemplate=s.first),t.iGM(s=t.CRH())&&(i._tokenizer=s.first),t.iGM(s=t.CRH())&&(i._inputGroup=s.first)}},inputs:{showSelectAll:"showSelectAll",selectedItems:"selectedItems",maxHeight:"maxHeight",buttonFocusable:"buttonFocusable",autoComplete:"autoComplete",entityClass:"entityClass",mobile:"mobile",mobileConfig:"mobileConfig",group:"group",groupKey:"groupKey",secondaryKey:"secondaryKey",showSecondaryText:"showSecondaryText",secondaryTextAlignment:"secondaryTextAlignment",autoResize:"autoResize",openDropdownOnAddOnClicked:"openDropdownOnAddOnClicked",value:"value",fillControlMode:"fillControlMode",addonIconTitle:"addonIconTitle",invalidEntryMessage:"invalidEntryMessage",limitless:"limitless",lookupKey:"lookupKey",displayKey:"displayKey",list:"list",invalidEntryDisplayTime:"invalidEntryDisplayTime"},outputs:{selectionChange:"selectionChange",isOpenChange:"isOpenChange",addOnButtonClicked:"addOnButtonClicked",dataRequested:"dataRequested",dataReceived:"dataReceived"},features:[t._Bn([n.ju,(0,C.EQ)(),{provide:T.R9,useClass:H.n},{provide:R.K,useExisting:l}]),t.qOj,t.zW0([{directive:n.D2,inputs:["id","inputId","placeholder","placeholder","state","state","stateMessage","stateMessage","disabled","disabled","readonly","readonly","name","name"]},{directive:T.gH,inputs:["dataSource","dataSource"],outputs:["dataChanged","dataChanged"]}])],ngContentSelectors:tt,decls:15,vars:2,consts:[[1,"fd-multi-combobox"],[3,"ngTemplateOutlet",4,"ngIf"],["additionalBodyClass","fd-popover-custom-list fd-multi-combobox__list-container",3,"isOpen","triggers","disabled","fillControlMode","isOpenChange",4,"ngIf"],["controlTemplate",""],["mobileControlTemplate",""],["listTemplate",""],["listItem",""],["optionItemSource",""],["secondaryTextSource",""],[3,"ngTemplateOutlet"],["additionalBodyClass","fd-popover-custom-list fd-multi-combobox__list-container",3,"isOpen","triggers","disabled","fillControlMode","isOpenChange"],[4,"ngTemplateOutlet"],[3,"id","state","buttonFocusable","button","glyph","isControl","disabled","isExpanded","glyphAriaLabel","iconTitle","addOnButtonClicked","click","keydown"],["inputGroup",""],["class","fd-multi-combobox-tokenizer-custom",3,"tokenizerFocusable","compactCollapse","moreClickedEvent",4,"ngIf"],[3,"type","innerHtml",4,"ngIf"],[1,"fd-multi-combobox-tokenizer-custom",3,"tokenizerFocusable","compactCollapse","moreClickedEvent"],["tokenizer",""],[3,"readOnly","onCloseClick",4,"ngFor","ngForOf"],["fdkAutoComplete","","type","text","role","combobox","autocomplete","off","fd-form-control","","fd-input-group-input","","tabindex","0",1,"fd-tokenizer__input",3,"options","inputText","id","name","disabled","ngModel","placeholder","readonly","displayFn","onComplete","keydown","ngModelChange","focus","blur"],["searchInputElement",""],[3,"readOnly","onCloseClick"],[3,"type","innerHtml"],[1,"fd-multi-combobox-input-group-custom",3,"id","state","buttonFocusable","isControl","disabled","isExpanded","glyphAriaLabel"],["fdkAutoComplete","","type","text","role","combobox","autocomplete","off","fd-form-control","","fd-input-group-input","","tabindex","0",3,"options","inputText","id","name","disabled","ngModel","placeholder","readonly","displayFn","onComplete","keydown","ngModelChange","focus","blur"],["fd-list","","role","listbox","aria-multiselectable","true",1,"fd-multi-combobox__list","fd-list--multi-input",3,"dropdownMode","id","focusEscapeList"],[3,"selectAllHandler","valueChanges","selectedItems","flatItems",4,"ngIf"],[4,"ngIf"],[3,"selectAllHandler","valueChanges","selectedItems","flatItems"],[4,"ngFor","ngForOf"],["fd-list-item","","role","option",3,"tabindex","selected","click","keyDown",4,"ngFor","ngForOf"],["fd-list-group-header","","role","group"],["fd-list-title",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-list-item","","role","option",3,"tabindex","selected","click","keyDown"],[3,"ngModel","click","ngModelChange"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["fd-list-title","",3,"innerHTML"],["fd-list-secondary","",3,"innerHTML"]],template:function(e,i){1&e&&(t.F$t(tt),t.TgZ(0,"div",0),t.YNc(1,_t,1,1,"ng-container",1),t.YNc(2,ft,7,9,"fd-popover",2),t.qZA(),t.YNc(3,Ct,7,18,"ng-template",null,3,t.W1O),t.YNc(5,vt,2,25,"ng-template",null,4,t.W1O),t.YNc(7,Kt,6,13,"ng-template",null,5,t.W1O),t.YNc(9,Ft,2,2,"ng-template",null,6,t.W1O),t.YNc(11,Rt,2,2,"ng-template",null,7,t.W1O),t.YNc(13,Wt,1,1,"ng-template",null,8,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngIf",i.mobile),t.xp6(1),t.Q6J("ngIf",!i.mobile))},dependencies:[w.sg,w.O5,w.tP,a.f,u.x,_.U,p.b,E.g,G.cS,Z.q,N.O,U.A,z.T,f.K,A.K,g.n,k.G,v.X,Y.K,et._,W.Fj,W.JJ,W.On,ot.E,st,j.n,at.W],styles:['/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-margin--tiny{margin:.5rem!important}.fd-margin--sm{margin:1rem!important}.fd-margin--md{margin:2rem!important}.fd-margin--lg{margin:3rem!important}.fd-margin--none{margin:0!important}.fd-margin-top--tiny{margin-top:.5rem!important}.fd-margin-top--sm{margin-top:1rem!important}.fd-margin-top--md{margin-top:2rem!important}.fd-margin-top--lg{margin-top:3rem!important}.fd-margin-top--none{margin-top:0!important}.fd-margin-end--tiny{margin-right:.5rem!important}.fd-margin-end--tiny[dir=rtl],[dir=rtl] .fd-margin-end--tiny{margin-left:.5rem!important;margin-right:0!important}.fd-margin-end--sm{margin-right:1rem!important}.fd-margin-end--sm[dir=rtl],[dir=rtl] .fd-margin-end--sm{margin-left:1rem!important;margin-right:0!important}.fd-margin-end--md{margin-right:2rem!important}.fd-margin-end--md[dir=rtl],[dir=rtl] .fd-margin-end--md{margin-left:2rem!important;margin-right:0!important}.fd-margin-end--lg{margin-right:3rem!important}.fd-margin-end--lg[dir=rtl],[dir=rtl] .fd-margin-end--lg{margin-left:3rem!important;margin-right:0!important}.fd-margin-end--none{margin-right:0}.fd-margin-end--none[dir=rtl],[dir=rtl] .fd-margin-end--none{margin-left:0!important}.fd-margin-bottom--tiny{margin-bottom:.5rem!important}.fd-margin-bottom--sm{margin-bottom:1rem!important}.fd-margin-bottom--md{margin-bottom:2rem!important}.fd-margin-bottom--lg{margin-bottom:3rem!important}.fd-margin-bottom--none{margin-bottom:0!important}.fd-margin-begin--tiny{margin-left:.5rem!important}.fd-margin-begin--tiny[dir=rtl],[dir=rtl] .fd-margin-begin--tiny{margin-left:0!important;margin-right:.5rem!important}.fd-margin-begin--sm{margin-left:1rem!important}.fd-margin-begin--sm[dir=rtl],[dir=rtl] .fd-margin-begin--sm{margin-left:0!important;margin-right:1rem!important}.fd-margin-begin--md{margin-left:2rem!important}.fd-margin-begin--md[dir=rtl],[dir=rtl] .fd-margin-begin--md{margin-left:0!important;margin-right:2rem!important}.fd-margin-begin--lg{margin-left:3rem!important}.fd-margin-begin--lg[dir=rtl],[dir=rtl] .fd-margin-begin--lg{margin-left:0!important;margin-right:3rem!important}.fd-margin-begin--none{margin-left:0}.fd-margin-begin--none[dir=rtl],[dir=rtl] .fd-margin-begin--none{margin-right:0!important}.fd-margin-top-bottom--tiny{margin-bottom:.5rem!important;margin-top:.5rem!important}.fd-margin-top-bottom--sm{margin-bottom:1rem!important;margin-top:1rem!important}.fd-margin-top-bottom--md{margin-bottom:2rem!important;margin-top:2rem!important}.fd-margin-top-bottom--lg{margin-bottom:3rem!important;margin-top:3rem!important}.fd-margin-begin-end--tiny{margin-left:.5rem!important;margin-right:.5rem!important}.fd-margin-begin-end--sm{margin-left:1rem!important;margin-right:1rem!important}.fd-margin-begin-end--md{margin-left:2rem!important;margin-right:2rem!important}.fd-margin-begin-end--lg{margin-left:3rem!important;margin-right:3rem!important}.fd-margin-responsive--sm{margin:0 0 1rem!important}.fd-margin-responsive--md{margin:1rem!important}.fd-margin-responsive--lg{margin:1rem 2rem!important}.fd-margin-responsive--xl{margin:1rem 3rem!important}.fd-margin-negative-begin-end--tiny{margin:0 -.5rem!important}.fd-margin-negative-begin-end--sm{margin:0 -1rem!important}.fd-margin-negative-begin-end--md{margin:0 -2rem!important}.fd-margin-negative-begin-end--lg{margin:0 -3rem!important}.fd-multi-combobox-tokenizer-custom{width:calc(100% - 2.25rem)}[class*=--compact] .fd-multi-combobox-tokenizer-custom:not([class*="--cozy"]):not([class*="--condensed"]),.is-compact .fd-multi-combobox-tokenizer-custom:not(.is-cozy):not(.is-condensed),.fd-multi-combobox-tokenizer-custom[class*=--compact],.fd-multi-combobox-tokenizer-custom.is-compact{width:calc(100% - 2rem)}.fd-multi-combobox-input-group-custom{display:inline-block}.fd-multi-combobox .fd-popover-custom{display:block}.fd-multi-combobox__list-container .fd-list .fd-list__item.fd-list__group-header{padding:0 1rem}.fd-multi-combobox__list-container .fd-list .fd-list__item .fd-list__title{max-width:inherit}.fd-multi-combobox__list-container .fd-list.fd-list--compact .fd-list__item.fd-list__group-header{padding:0 .5rem}.fd-multi-combobox__list-container fd-form-message{max-width:100%;border-radius:0!important}.fd-dialog__body fd-form-message{display:block;max-width:100%}\n'],encapsulation:2,changeDetection:0}),l})()},56541:(F,y,o)=>{o.d(y,{K:()=>m});const m=new(o(65879).OlP)("FdMultiComboboxInterface")}}]);