"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1766],{73133:(W,x,l)=>{l.d(x,{aS:()=>u,QG:()=>s,jW:()=>r.j});var e=l(36895),g=l(14257),t=l(93957),_=l(94650);class s{}s.\u0275fac=function(h){return new(h||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[e.ez,g.hJ,t.jO,t.jO]}),l(32317);var r=l(61154);l(68812);class u extends t.TU{constructor(){super("fd-panel")}}u.\u0275fac=function(h){return new(h||u)},u.\u0275dir=_.lG2({type:u,selectors:[["fd-panel","compact",""]],features:[_._Bn([{provide:t.SM,useExisting:(0,_.Gpc)(()=>u)}]),_.qOj]})},32317:(W,x,l)=>{l.d(x,{a:()=>t});var e=l(94650);let g=0;class t{constructor(){this.fdPanelContentClass=!0,this.role="region",this._defaultId="fd-panel-content-"+g++,this._id=this._defaultId}set id(s){this._id=s||this._defaultId}get id(){return this._id}}t.\u0275fac=function(s){return new(s||t)},t.\u0275dir=e.lG2({type:t,selectors:[["","fd-panel-content",""]],hostVars:12,hostBindings:function(s,i){2&s&&(e.uIk("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("role",i.role)("id",i.id),e.Udp("height",i.height)("min-height",i.minHeight)("max-height",i.maxHeight),e.ekj("fd-panel__content",i.fdPanelContentClass))},inputs:{height:"height",minHeight:"minHeight",maxHeight:"maxHeight",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",role:"role",id:"id"}})},61154:(W,x,l)=>{l.d(x,{j:()=>t});var e=l(94650);let g=0;class t{constructor(){this.fdPanelTitleClass=!0,this.id="fd-panel-title-"+g++}}t.\u0275fac=function(s){return new(s||t)},t.\u0275dir=e.lG2({type:t,selectors:[["","fd-panel-title",""]],hostVars:3,hostBindings:function(s,i){2&s&&(e.uIk("id",i.id),e.ekj("fd-panel__title",i.fdPanelTitleClass))},inputs:{id:"id"}})},68812:(W,x,l)=>{l.d(x,{y:()=>T});var e=l(94650),g=l(50727),t=l(32317),_=l(60505),s=l(93957),i=l(36895),r=l(34531);function f(v,E){if(1&v){const R=e.EpF();e.TgZ(0,"div",4)(1,"button",5),e.NdJ("click",function(){e.CHM(R);const Z=e.oxw();return e.KtG(Z.toggleExpand())}),e.qZA()()}if(2&v){const R=e.oxw();e.xp6(1),e.ekj("is-expanded",R.expanded),e.Q6J("glyph",R._getButtonIcon())("id",R.expandId)("ariaLabel",R.expandAriaLabel)("title",R.expandAriaLabel),e.uIk("aria-expanded",R.expanded)("aria-controls",null==R.panelContent?null:R.panelContent.id)("aria-labelledby",R.expandAriaLabelledBy+" "+R.expandId)}}function u(v,E){1&v&&(e.ynx(0),e.Hsn(1,2),e.BQk())}const p=[[["","fd-panel-title",""]],"*",[["","fd-panel-content",""]]];let b=0,c=0;class T{constructor(E,R,F,Z){this._cdRef=E,this._elementRef=R,this._contentDensityObserver=F,this._rtlService=Z,this.id="fd-panel-"+b++,this.expandId="fd-panel-expand-"+c++,this.expanded=!1,this.expandedChange=new e.vpe,this._rtl=!1,this._subscription=new g.w0}ngOnInit(){this._listenRtl()}ngOnDestroy(){this._subscription.unsubscribe()}elementRef(){return this._elementRef}toggleExpand(){this.expanded=!this.expanded,this.expandedChange.emit(this.expanded)}_getButtonIcon(){return this.expanded?"slim-arrow-down":this._rtl?"slim-arrow-left":"slim-arrow-right"}_listenRtl(){this._rtlService&&this._subscription.add(this._rtlService.rtl.subscribe(E=>{this._rtl=E,this._cdRef.markForCheck()}))}}T.\u0275fac=function(E){return new(E||T)(e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(s.c7),e.Y36(_.qFd,8))},T.\u0275cmp=e.Xpm({type:T,selectors:[["fd-panel"]],contentQueries:function(E,R,F){if(1&E&&e.Suo(F,t.a,5),2&E){let Z;e.iGM(Z=e.CRH())&&(R.panelContent=Z.first)}},hostVars:1,hostBindings:function(E,R){2&E&&e.uIk("id",R.id)},inputs:{class:"class",fixed:"fixed",id:"id",expandId:"expandId",expandAriaLabel:"expandAriaLabel",expandAriaLabelledBy:"expandAriaLabelledBy",expanded:"expanded"},outputs:{expandedChange:"expandedChange"},features:[e._Bn([(0,s.EQ)()])],ngContentSelectors:["[fd-panel-title]","*","[fd-panel-content]"],decls:6,vars:6,consts:[[1,"fd-panel"],[1,"fd-panel__header"],["class","fd-panel__expand",4,"ngIf"],[4,"ngIf"],[1,"fd-panel__expand"],["fd-button","","fdType","transparent",1,"fd-panel__button",3,"glyph","id","ariaLabel","title","click"]],template:function(E,R){1&E&&(e.F$t(p),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,f,2,9,"div",2),e.Hsn(3),e.Hsn(4,1),e.qZA(),e.YNc(5,u,2,0,"ng-container",3),e.qZA()),2&E&&(e.Tol(R.class),e.ekj("fd-panel--fixed",R.fixed),e.xp6(2),e.Q6J("ngIf",!R.fixed),e.xp6(3),e.Q6J("ngIf",R.expanded||R.fixed))},dependencies:[i.O5,r.r],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-panel{--fdPanel_Header_Height:2.75rem;border-radius:var(--fdPanel_Border_Radius);overflow:hidden}.fd-panel,.fd-panel__content,.fd-panel__expand,.fd-panel__header,.fd-panel__title{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;padding:0}.fd-panel:after,.fd-panel:before,.fd-panel__content:after,.fd-panel__content:before,.fd-panel__expand:after,.fd-panel__expand:before,.fd-panel__header:after,.fd-panel__header:before,.fd-panel__title:after,.fd-panel__title:before{box-sizing:inherit;font-size:inherit}.fd-panel:not(:last-child){margin-bottom:var(--fdPanel_Margin_Bottom)}.fd-panel__header{align-items:center;background-color:var(--sapGroup_TitleBackground);border-bottom:.0625rem solid var(--sapGroup_TitleBorderColor);display:flex;height:var(--fdPanel_Header_Height);min-height:var(--fdPanel_Header_Height);padding-right:.5rem}.fd-panel__title{-webkit-box-flex:1;-ms-flex:1;color:var(--sapGroup_TitleTextColor);flex:1;font-family:var(--sapFontHeaderFamily);font-size:var(--sapFontHeader4Size);font-size:var(--fdPanel_Title_Font_Size)}.fd-panel__content{background-color:var(--fdPanel_Content_Background_Color);border-bottom:.0625rem solid var(--fdPanel_Content_Border_Bottom_Color);overflow:auto;padding:.625rem 1rem 1.375rem;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-panel__content.is-focus,.fd-panel__content:focus{outline:none;z-index:5}.fd-panel__content::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-panel__content::-webkit-scrollbar-corner,.fd-panel__content::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-panel__content::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-panel__content::-webkit-scrollbar-thumb:active,.fd-panel__content::-webkit-scrollbar-thumb:hover{box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-panel__content::-webkit-scrollbar-corner,.fd-panel__content::-webkit-scrollbar-track{border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-panel__content[dir=rtl]::-webkit-scrollbar-corner,.fd-panel__content[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-panel__content::-webkit-scrollbar-corner,[dir=rtl] .fd-panel__content::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.fd-panel__content[aria-hidden=true]{display:none}.fd-panel__expand{-webkit-box-pack:center;-ms-flex-pack:center;align-items:center;display:flex;height:var(--fdPanel_Header_Height);justify-content:center;min-height:var(--fdPanel_Header_Height);width:2.75rem}.fd-panel__button{font-size:1rem}.fd-panel__button[dir=rtl] .sap-icon--slim-arrow-right,[dir=rtl] .fd-panel__button .sap-icon--slim-arrow-right{transform:rotate(180deg)}.fd-panel[dir=rtl] .fd-panel__header,[dir=rtl] .fd-panel .fd-panel__header{padding-left:.5rem;padding-right:0}.fd-panel--fixed .fd-panel__header{padding-left:1rem}.fd-panel--fixed .fd-panel__header[dir=rtl],[dir=rtl] .fd-panel--fixed .fd-panel__header{padding-left:.5rem;padding-right:1rem}.fd-panel[class*=-compact],.fd-panel[class*=-condensed],[class*=-compact] .fd-panel:not([class*=-cozy]),[class*=-condensed] .fd-panel:not([class*=-cozy]){--fdPanel_Header_Height:2.5rem}\n"],encapsulation:2,changeDetection:0})},85554:(W,x,l)=>{l.d(x,{Z:()=>t});var e=l(94650);class t{}t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["fdp-table-no-data-wrapper"]],ngContentSelectors:["*"],decls:1,vars:0,template:function(s,i){1&s&&(e.F$t(),e.Hsn(0))},encapsulation:2})},9966:(W,x,l)=>{l.d(x,{u:()=>s,x:()=>i});var e=l(94650),g=l(34531),t=l(36895),_=l(27946);const s=new e.OlP("Resettable");class i{constructor(f){this.resettable=f}}i.\u0275fac=function(f){return new(f||i)(e.Y36(s))},i.\u0275cmp=e.Xpm({type:i,selectors:[["fdp-table-reset-button"]],decls:3,vars:6,consts:[["fd-button","","fdType","transparent",3,"label","disabled","click"]],template:function(f,u){1&f&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return u.resettable.reset()}),e.ALo(1,"fdTranslate"),e.ALo(2,"async"),e.qZA()),2&f&&e.Q6J("label",e.lcZ(1,2,"platformTable.resetChangesButtonLabel"))("disabled",!1===e.lcZ(2,4,u.resettable.isResetAvailable$))},dependencies:[g.r,t.Ov,_.n],encapsulation:2,changeDetection:0})},34858:(W,x,l)=>{l.d(x,{g:()=>u});var e=l(36895),g=l(77579),t=l(54968),_=l(82722),s=l(95698),i=l(60505),r=l(10665),f=l(94650);class u{get _resizerDisplay(){return this._resizerPosition>0?"block":"none"}get _resizerPositionLeft(){return this._rtl||!this._resizerPosition?"auto":this._resizerPosition+"px"}get _resizerPositionRight(){return this._rtl&&this._resizerPosition?this._resizerPosition+"px":"auto"}get _isActive(){return this._tableColumnResizeService.resizeInProgress}get _resizerPosition(){return this._tableColumnResizeService.resizerPosition}get _rtl(){return this._rtlService?.rtl.getValue()}constructor(h,b,c,T,v){this._cd=h,this._ngZone=b,this._tableColumnResizeService=c,this._document=T,this._rtlService=v,this._destroyed=new g.x}ngOnInit(){this._tableColumnResizeService.markForCheck.pipe((0,_.R)(this._destroyed)).subscribe(()=>this._cd.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_onMouseDown(h){this._tableColumnResizeService.startResize(h),this._listenForMouseUp()}_listenForMouseUp(){this._pointerMoveListener?.unsubscribe(),this._document&&(this._pointerMoveListener=(0,t.R)(this._document,"mouseup").pipe((0,s.q)(1),(0,_.R)(this._destroyed)).subscribe(h=>{this._tableColumnResizeService.finishResize(h),this._cd.markForCheck()}))}}u.\u0275fac=function(h){return new(h||u)(f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(r.o),f.Y36(e.K0),f.Y36(i.qFd,8))},u.\u0275cmp=f.Xpm({type:u,selectors:[["fdp-table-column-resizer"]],hostAttrs:[1,"fdp-table-column-resizer"],hostVars:8,hostBindings:function(h,b){1&h&&f.NdJ("mousedown",function(T){return b._onMouseDown(T)}),2&h&&(f.Udp("display",b._resizerDisplay)("left",b._resizerPositionLeft)("right",b._resizerPositionRight),f.ekj("fdp-table-column-resizer--active",b._isActive))},decls:1,vars:0,consts:[[1,"fdp-table__resizer-inner"]],template:function(h,b){1&h&&f._UZ(0,"div",0)},styles:[".fdp-table-column-resizer{cursor:col-resize;position:absolute;width:0;top:0;left:-10000px;opacity:.5;z-index:999;border-left-style:solid;border-right-style:solid;border-left:3px solid var(--sapContent_DragAndDropActiveColor, #0854a0);border-right:3px solid var(--sapContent_DragAndDropActiveColor, #0854a0);-webkit-user-select:none;user-select:none}.fdp-table-column-resizer--active{opacity:1}\n"],encapsulation:2,changeDetection:0})},30766:(W,x,l)=>{l.d(x,{Z:()=>f});var e=l(87291),g=l(74092),t=l(60796),_=l(21370),s=l(6739),i=l(10665),r=l(94650);class f extends _.D{set width(p){this._width=p,this._tableColumnResizeService.setCustomWidth(this.name,p)}get width(){return this._width}set fdpCellDef(p){this.columnCellTemplate=p?.templateRef}set fdpEditableCellDef(p){this.editableColumnCellTemplate=p?.templateRef}set fdpHeaderCellDef(p){this.headerCellTemplate=p?.templateRef}constructor(p,h){super(),this._tableColumnResizeService=p,this._tableService=h,this.align="start",this.sortable=!1,this.filterable=!1,this.visible=!0,this.dataType=e.g.STRING,this.groupable=!1,this.freezable=!1,this.endFreezable=!1,this.noWrap=!1,this.applyText=!0,this.responsiveState="visible"}ngOnInit(){this._validateNameOption()}ngOnChanges(p){this._tableService&&(p.sortable||p.filterable||p.groupable||p.freezable)&&this._tableService.markForCheck()}_validateNameOption(){if("string"!=typeof this.name)throw Error('fdp-column: "name" option is required.')}}f.\u0275fac=function(p){return new(p||f)(r.Y36(i.o),r.Y36(s.w,9))},f.\u0275cmp=r.Xpm({type:f,selectors:[["fdp-column"]],contentQueries:function(p,h,b){if(1&p&&(r.Suo(b,g.y_,5),r.Suo(b,g.W4,5),r.Suo(b,t.C,5)),2&p){let c;r.iGM(c=r.CRH())&&(h.fdpCellDef=c.first),r.iGM(c=r.CRH())&&(h.fdpEditableCellDef=c.first),r.iGM(c=r.CRH())&&(h.fdpHeaderCellDef=c.first)}},inputs:{name:"name",key:"key",label:"label",align:"align",sortable:"sortable",filterable:"filterable",visible:"visible",dataType:"dataType",groupable:"groupable",freezable:"freezable",endFreezable:"endFreezable",width:"width",noWrap:"noWrap",applyText:"applyText"},features:[r._Bn([{provide:_.D,useExisting:f}]),r.qOj,r.TTD],decls:0,vars:0,template:function(p,h){},encapsulation:2,changeDetection:0})},21370:(W,x,l)=>{l.d(x,{D:()=>e});class e{}},5492:(W,x,l)=>{l.d(x,{o:()=>v});var e=l(90433),g=l(19175),t=l(25144),_=l(94650),s=l(36895),i=l(14178),r=l(26900),f=l(47483),u=l(27946);function p(E,R){if(1&E){const F=_.EpF();_.TgZ(0,"fdp-input",6),_.NdJ("ngModelChange",function(Q){_.CHM(F);const H=_.oxw();return _.KtG(H.columnValue=Q)}),_.ALo(1,"fdTranslate"),_.qZA()}if(2&E){const F=_.oxw();_.Q6J("placeholder",_.lcZ(1,3,"platformTable.editableCellNumberPlaceholder"))("ngModel",F.columnValue)("name",F._controlUniqName)}}function h(E,R){if(1&E){const F=_.EpF();_.TgZ(0,"fdp-date-picker",7),_.NdJ("ngModelChange",function(Q){_.CHM(F);const H=_.oxw();return _.KtG(H.columnValue=Q)}),_.ALo(1,"fdTranslate"),_.qZA()}if(2&E){const F=_.oxw();_.Q6J("placeholder",_.lcZ(1,4,"platformTable.editableCellDatePlaceholder"))("name",F._controlUniqName)("allowNull",!1)("ngModel",F.columnValue)}}function b(E,R){if(1&E){const F=_.EpF();_.TgZ(0,"fdp-switch",8),_.NdJ("ngModelChange",function(Q){_.CHM(F);const H=_.oxw();return _.KtG(H.columnValue=Q)}),_.qZA()}if(2&E){const F=_.oxw();_.Q6J("ngModel",F.columnValue)("name",F._controlUniqName)}}function c(E,R){if(1&E){const F=_.EpF();_.TgZ(0,"fdp-input",9),_.NdJ("ngModelChange",function(Q){_.CHM(F);const H=_.oxw();return _.KtG(H.columnValue=Q)}),_.ALo(1,"fdTranslate"),_.qZA()}if(2&E){const F=_.oxw();_.Q6J("placeholder",_.lcZ(1,3,"platformTable.editableCellStringPlaceholder"))("ngModel",F.columnValue)("name",F._controlUniqName)}}let T=0;class v{constructor(){this._controlUniqName="input-"+T++}set columnValue(R){this._columnValue=R,(0,g.Z)(this.row.value,this.column.key,R)}get columnValue(){return this._columnValue}}v.\u0275fac=function(R){return new(R||v)},v.\u0275cmp=_.Xpm({type:v,selectors:[["fdp-table-editable-cell"]],viewQuery:function(R,F){if(1&R&&_.Gf(e.F,5),2&R){let Z;_.iGM(Z=_.CRH())&&(F.form=Z.first)}},inputs:{row:"row",column:"column",columnValue:"columnValue"},features:[_._Bn([{provide:t.b,useExisting:v}])],decls:7,vars:4,consts:[["ngForm",""],[3,"ngSwitch"],["type","number",3,"placeholder","ngModel","name","ngModelChange",4,"ngSwitchCase"],["type","single",3,"placeholder","name","allowNull","ngModel","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","name","ngModelChange",4,"ngSwitchCase"],["type","text",3,"placeholder","ngModel","name","ngModelChange",4,"ngSwitchDefault"],["type","number",3,"placeholder","ngModel","name","ngModelChange"],["type","single",3,"placeholder","name","allowNull","ngModel","ngModelChange"],[3,"ngModel","name","ngModelChange"],["type","text",3,"placeholder","ngModel","name","ngModelChange"]],template:function(R,F){1&R&&(_.TgZ(0,"form",null,0),_.ynx(2,1),_.YNc(3,p,2,5,"fdp-input",2),_.YNc(4,h,2,6,"fdp-date-picker",3),_.YNc(5,b,1,2,"fdp-switch",4),_.YNc(6,c,2,5,"fdp-input",5),_.BQk(),_.qZA()),2&R&&(_.xp6(2),_.Q6J("ngSwitch",F.column.dataType),_.xp6(1),_.Q6J("ngSwitchCase","number"),_.xp6(1),_.Q6J("ngSwitchCase","date"),_.xp6(1),_.Q6J("ngSwitchCase","boolean"))},dependencies:[s.RF,s.n9,s.ED,e._Y,e.JJ,e.JL,e.On,e.F,i.a,r.I,f.q,u.n],encapsulation:2,changeDetection:0})},41330:(W,x,l)=>{l.d(x,{I:()=>V});var e=l(61135),g=l(50727),t=l(39841),_=l(78372),s=l(91551),i=l(9966),r=l(94650),f=l(36895),u=l(90433),p=l(69859),h=l(18050),b=l(57289),c=l(67909),T=l(22062),v=l(87792),E=l(3568),R=l(34531),F=l(93839),Z=l(71497),Q=l(85677),H=l(45277),j=l(21382),Y=l(81353),q=l(5474),k=l(47551),ee=l(33201),le=l(95002),ne=l(97039),J=l(56569),te=l(26069),G=l(27946);function w(O,L){1&O&&(r.TgZ(0,"div",17)(1,"fd-bar-element")(2,"h4",18),r._uU(3),r.ALo(4,"fdTranslate"),r.qZA()()(),r.TgZ(5,"div",19)(6,"fd-bar-element"),r._UZ(7,"fdp-table-reset-button"),r.qZA()()),2&O&&(r.xp6(2),r.Q6J("headerSize",4),r.xp6(1),r.hij(" ",r.lcZ(4,2,"platformTable.P13ColumnsDialogHeader")," "))}function S(O,L){1&O&&(r.ynx(0),r._uU(1),r.ALo(2,"fdTranslate"),r.BQk()),2&O&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"platformTable.P13ColumnsDialogsShowSelected")," "))}function A(O,L){1&O&&(r._uU(0),r.ALo(1,"fdTranslate")),2&O&&r.hij(" ",r.lcZ(1,1,"platformTable.P13ColumnsDialogShowAll")," ")}function y(O,L){if(1&O){const M=r.EpF();r.TgZ(0,"li",20),r.NdJ("click",function(){const ae=r.CHM(M).$implicit,ie=r.oxw();return r.KtG(ie._setActiveColumn(ae))}),r.TgZ(1,"fd-checkbox",21),r.NdJ("ngModelChange",function(X){const ie=r.CHM(M).$implicit;return r.KtG(ie.selected=X)})("ngModelChange",function(){r.CHM(M);const X=r.oxw();return r.KtG(X._onToggleColumn())}),r.qZA(),r.TgZ(2,"span",13),r._uU(3),r.qZA()()}if(2&O){const M=L.$implicit;r.ekj("fd-select-item--selected",M.selected)("fd-select-item--active",M.active),r.xp6(1),r.Q6J("ngModel",M.selected),r.xp6(2),r.hij(" ",M.column.label," ")}}const P=function(){return[]},B=function(O,L){return{selectedColumnsCount:O,selectableColumnsCount:L}};class V{get _isShownAllItems(){return this._showAllItemsSubject.getValue()}get _selectAllDisabled(){return!this._isShownAllItems||0===this._filteredColumns.length}constructor(L,M){this.dialogRef=L,this.cdr=M,this._isResetAvailableSubject$=new e.X(!1),this.isResetAvailable$=this._isResetAvailableSubject$.asObservable(),this.availableColumns=[],this._selectableColumns=[],this._filteredColumns=[],this._searchQuerySubject=new e.X(""),this._showAllItemsSubject=new e.X(!0),this._selectedColumnsCount=0,this._moveUpDisabled=!0,this._moveDownDisabled=!0,this._subscriptions=new g.w0;const{availableColumns:N,visibleColumns:X}=this.dialogRef.data;this.availableColumns=N?.map(({label:ae,key:ie})=>({label:ae,key:ie}))||[],this._initiateColumns(X)}ngOnInit(){this._listenToFilterOptions()}ngOnDestroy(){this._subscriptions.unsubscribe()}reset(){this._initiateColumns(this.availableColumns.map(L=>L.key)),this._isResetAvailableSubject$.next(!1)}cancel(){this.dialogRef.close(null)}confirm(){const M={visibleColumns:this._getVisibleColumnsFromSelectedColumns(this._selectableColumns)};this.dialogRef.close(M)}_toggleSelectAll(L){this._selectableColumns.forEach(M=>M.selected=L),this._onToggleColumn()}_onToggleColumn(){this._countSelectedColumns(),this._recalculateResetAvailability()}_recalculateResetAvailability(){let L=!1;if(this._selectedColumnsCount!==this.availableColumns.length)L=!0;else for(let M=0;M<this.availableColumns.length;M++)if(this._selectableColumns[M].column.key!==this.availableColumns[M].key){L=!0;break}this._isResetAvailableSubject$.next(L)}_searchInputChange({text:L}){this._searchQuerySubject.next(L||"")}_toggleShowAll(){const L=this._showAllItemsSubject.getValue();this._showAllItemsSubject.next(!L)}_setActiveColumn(L){this._selectableColumns.map(M=>{M.active=M===L}),this._calculateMovementButtonsState()}_moveActiveToTop(){this._moveColumnInFilteredListByIndex(this._getActiveColumnIndexInFilteredList(),0)}_moveActiveToBottom(){this._moveColumnInFilteredListByIndex(this._getActiveColumnIndexInFilteredList(),this._filteredColumns.length-1)}_moveActiveUp(){const L=this._getActiveColumnIndexInFilteredList();this._moveColumnInFilteredListByIndex(L,L-1)}_moveActiveDown(){const L=this._getActiveColumnIndexInFilteredList();this._moveColumnInFilteredListByIndex(L,L+1)}_filterByColumnKy(L,M){return M?.column.key}_initiateColumns(L){const M=new Map(L.map((N,X)=>[N,X]));this._selectableColumns=this.availableColumns.slice().sort((N,X)=>{const ae=M.get(N.key),ie=M.get(X.key);return void 0===ae||void 0===ie?0:ae-ie}).map((N,X)=>({column:N,selected:L.includes(N.key),active:0===X})),this._countSelectedColumns(),this._recalculateResetAvailability(),this._searchQuerySubject.next(""),this._showAllItemsSubject.next(!0)}_listenToFilterOptions(){this._subscriptions.add((0,t.a)([this._showAllItemsSubject,this._searchQuerySubject]).pipe((0,_.b)(20)).subscribe(([L,M])=>{this._filteredColumns=this._selectableColumns.filter(N=>N.column.label.toLocaleLowerCase().includes(M.toLocaleLowerCase())).filter(N=>L||N.selected),this._onChangeFilteredColumnsList(),this.cdr.markForCheck()}))}_onChangeFilteredColumnsList(){this._calculateMovementButtonsState()}_getVisibleColumnsFromSelectedColumns(L=this._selectableColumns){return L.filter(({selected:M})=>M).map(({column:M})=>M.key)}_getActiveColumnIndexInFilteredList(){return this._filteredColumns.findIndex(({active:L})=>L)}_moveColumnInFilteredListByIndex(L,M){const{movedItem:N,replacedItem:X}=this._moveElementInTheListByIndex(this._filteredColumns,L,M);this._moveColumnInSelectableList(N,X),this._calculateMovementButtonsState(),this._recalculateResetAvailability()}_moveColumnInSelectableList(L,M){const N=this._selectableColumns;this._moveElementInTheListByIndex(N,N.indexOf(L),N.indexOf(M))}_moveElementInTheListByIndex(L,M,N){const X=L.length;M=Math.min(Math.max(M,0),X-1);const ae=L[N=Math.min(Math.max(N,0),X-1)],ie=L.splice(M,1)[0];return L.splice(N,0,ie),{movedItem:ie,replacedItem:ae}}_countSelectedColumns(){this._selectedColumnsCount=this._selectableColumns.filter(({selected:L})=>L).length}_calculateMovementButtonsState(){const L=this._getActiveColumnIndexInFilteredList();this._moveUpDisabled=L<1,this._moveDownDisabled=L<0||L>=this._filteredColumns.length-1}}V.\u0275fac=function(L){return new(L||V)(r.Y36(s.zj),r.Y36(r.sBO))},V.\u0275cmp=r.Xpm({type:V,selectors:[["ng-component"]],features:[r._Bn([{provide:i.u,useExisting:V}])],decls:40,vars:57,consts:[[1,"fdp-table-p13-columns-dialog"],["fdkTemplate","header"],[3,"placeholder","inputText","suggestions","inputChange"],["fd-toolbar-item","","fd-button","","fdType","transparent",3,"click"],[4,"ngIf","ngIfElse"],["showAll",""],["fd-toolbar-item","","fd-button","","fdType","transparent","glyph","collapse-group",3,"disabled","title","click"],["fd-toolbar-item","","fd-button","","fdType","transparent","glyph","slim-arrow-up",3,"disabled","title","click"],["fd-toolbar-item","","fd-button","","fdType","transparent","glyph","slim-arrow-down",3,"disabled","title","click"],["fd-toolbar-item","","fd-button","","fdType","transparent","glyph","expand-group",3,"disabled","title","click"],["fd-list",""],["fd-list-item",""],[3,"ngModel","disabled","ngModelChange"],["fd-list-title",""],["fd-list-item","",3,"fd-select-item--selected","fd-select-item--active","click",4,"ngFor","ngForOf","ngForTrackBy"],["fd-button","","fdType","emphasized","fd-dialog-decisive-button","",3,"label","click"],["fd-button","","fdType","transparent","fd-dialog-decisive-button","","fdkInitialFocus","",3,"label","click"],["fd-bar-left",""],["fd-title","",3,"headerSize"],["fd-bar-right",""],["fd-list-item","",3,"click"],[3,"ngModel","ngModelChange"]],template:function(L,M){if(1&L&&(r.TgZ(0,"fd-dialog",0)(1,"fd-dialog-header"),r.YNc(2,w,8,4,"ng-template",1),r.qZA(),r.TgZ(3,"fd-dialog-body")(4,"fd-toolbar")(5,"fdp-search-field",2),r.NdJ("inputChange",function(X){return M._searchInputChange(X)}),r.ALo(6,"fdTranslate"),r.ALo(7,"async"),r.qZA(),r._UZ(8,"fd-toolbar-spacer"),r.TgZ(9,"button",3),r.NdJ("click",function(){return M._toggleShowAll()}),r.YNc(10,S,3,3,"ng-container",4),r.ALo(11,"async"),r.YNc(12,A,2,3,"ng-template",null,5,r.W1O),r.qZA(),r.TgZ(14,"button",6),r.NdJ("click",function(){return M._moveActiveToTop()}),r.ALo(15,"fdTranslate"),r.ALo(16,"fdTranslate"),r.qZA(),r.TgZ(17,"button",7),r.NdJ("click",function(){return M._moveActiveUp()}),r.ALo(18,"fdTranslate"),r.ALo(19,"fdTranslate"),r.qZA(),r.TgZ(20,"button",8),r.NdJ("click",function(){return M._moveActiveDown()}),r.ALo(21,"fdTranslate"),r.ALo(22,"fdTranslate"),r.qZA(),r.TgZ(23,"button",9),r.NdJ("click",function(){return M._moveActiveToBottom()}),r.ALo(24,"fdTranslate"),r.ALo(25,"fdTranslate"),r.qZA()(),r.TgZ(26,"ul",10)(27,"li",11)(28,"fd-checkbox",12),r.NdJ("ngModelChange",function(X){return M._toggleSelectAll(X)}),r.qZA(),r.TgZ(29,"span",13),r._uU(30),r.ALo(31,"fdTranslate"),r.qZA()(),r.YNc(32,y,4,6,"li",14),r.qZA()(),r.TgZ(33,"fd-dialog-footer")(34,"fd-dialog-footer-button")(35,"button",15),r.NdJ("click",function(){return M.confirm()}),r.ALo(36,"fdTranslate"),r.qZA()(),r.TgZ(37,"fd-dialog-footer-button")(38,"button",16),r.NdJ("click",function(){return M.cancel()}),r.ALo(39,"fdTranslate"),r.qZA()()()()),2&L){const N=r.MAs(13);r.xp6(5),r.Q6J("placeholder",r.lcZ(6,24,"platformTable.P13ColumnsDialogSearchPlaceholder"))("inputText",r.lcZ(7,26,M._searchQuerySubject)||"")("suggestions",r.DdM(53,P)),r.xp6(5),r.Q6J("ngIf",!0===r.lcZ(11,28,M._showAllItemsSubject))("ngIfElse",N),r.xp6(4),r.Q6J("disabled",M._moveUpDisabled)("title",r.lcZ(16,32,"platformTable.P13ColumnsDialogMoveToTopBtn")),r.uIk("aria-label",r.lcZ(15,30,"platformTable.P13ColumnsDialogMoveToTopBtn")),r.xp6(3),r.Q6J("disabled",M._moveUpDisabled)("title",r.lcZ(19,36,"platformTable.P13ColumnsDialogMoveUpBtn")),r.uIk("aria-label",r.lcZ(18,34,"platformTable.P13ColumnsDialogMoveUpBtn")),r.xp6(3),r.Q6J("disabled",M._moveDownDisabled)("title",r.lcZ(22,40,"platformTable.P13ColumnsDialogMoveDownBtn")),r.uIk("aria-label",r.lcZ(21,38,"platformTable.P13ColumnsDialogMoveDownBtn")),r.xp6(3),r.Q6J("disabled",M._moveDownDisabled)("title",r.lcZ(25,44,"platformTable.P13ColumnsDialogMoveToBottomBtn")),r.uIk("aria-label",r.lcZ(24,42,"platformTable.P13ColumnsDialogMoveToBottomBtn")),r.xp6(5),r.Q6J("ngModel",M._selectedColumnsCount===M._selectableColumns.length)("disabled",M._selectAllDisabled),r.xp6(2),r.hij(" ",r.xi3(31,46,"platformTable.P13ColumnsDialogSelectAll",r.WLB(54,B,M._selectedColumnsCount,M._selectableColumns.length))," "),r.xp6(2),r.Q6J("ngForOf",M._filteredColumns)("ngForTrackBy",M._filterByColumnKy),r.xp6(3),r.Q6J("label",r.lcZ(36,49,"platformTable.P13ColumnsDialogConfirmationBtnLabel")),r.xp6(3),r.Q6J("label",r.lcZ(39,51,"platformTable.P13ColumnsDialogCancelBtnLabel"))}},dependencies:[f.sg,f.O5,u.JJ,u.On,p.n,h.Q,b.u,c.b,T.n,v.G,E.X,R.r,F.a,Z.H,Q.g,H.A,j.u,Y.r,q.b,k.M,ee.J,le.r,ne.S,J.N,te.ri,i.x,f.Ov,G.n],styles:[".fdp-table-p13-columns-dialog fd-toolbar{position:sticky;top:0;z-index:1;display:block}.fdp-table-p13-columns-dialog .fd-select-item--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa)}.fdp-table-p13-columns-dialog .group-row{display:flex;align-items:center;margin-bottom:.5rem}.fdp-table-p13-columns-dialog .group-row .fd-popover-custom{display:block}.fdp-table-p13-columns-dialog .group-row__checkbox,.fdp-table-p13-columns-dialog .group-row__actions,.fdp-table-p13-columns-dialog .group-row__select{margin-right:1rem}.fdp-table-p13-columns-dialog .group-row__select{flex:1 1 0}\n"],encapsulation:2,changeDetection:0})},35435:(W,x,l)=>{l.d(x,{o:()=>V});var e=l(94650),g=l(90433),t=l(50727),_=l(35684),s=l(87291),i=l(61230),f=(l(4949),l(36895)),u=l(43960),p=l(19065),h=l(65005),b=l(46786),c=l(65526),T=l(54439),v=l(81009),E=l(27946);function R(O,L){if(1&O&&(e.TgZ(0,"li",8),e._uU(1),e.qZA()),2&O){const M=L.$implicit;e.Q6J("value",M.key),e.xp6(1),e.Oqu(M.label)}}function F(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelBetween")," "))}function Z(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelContains")," "))}function Q(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelBeginsWith")," "))}function H(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelEndsWith")," "))}function j(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelEqualTo")," "))}function Y(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelGreaterThan")," "))}function q(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelGreaterThanOrEqualTo")," "))}function k(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelLessThan")," "))}function ee(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelLessThanOrEqualTo")," "))}function le(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelAfter")," "))}function ne(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelOnOrAfter")," "))}function J(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelBefore")," "))}function te(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelBeforeOrOn")," "))}function G(O,L){1&O&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&O&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformTable.P13FilterStrategyLabelNotDefined")," "))}function w(O,L){if(1&O&&(e.TgZ(0,"li",8),e.ynx(1,9),e.YNc(2,F,3,3,"span",5),e.YNc(3,Z,3,3,"span",5),e.YNc(4,Q,3,3,"span",5),e.YNc(5,H,3,3,"span",5),e.YNc(6,j,3,3,"span",5),e.YNc(7,Y,3,3,"span",5),e.YNc(8,q,3,3,"span",5),e.YNc(9,k,3,3,"span",5),e.YNc(10,ee,3,3,"span",5),e.YNc(11,le,3,3,"span",5),e.YNc(12,ne,3,3,"span",5),e.YNc(13,J,3,3,"span",5),e.YNc(14,te,3,3,"span",5),e.YNc(15,G,3,3,"span",10),e.BQk(),e.qZA()),2&O){const M=L.$implicit;e.Q6J("value",M),e.xp6(1),e.Q6J("ngSwitch",M),e.xp6(1),e.Q6J("ngSwitchCase","between"),e.xp6(1),e.Q6J("ngSwitchCase","contains"),e.xp6(1),e.Q6J("ngSwitchCase","beginsWith"),e.xp6(1),e.Q6J("ngSwitchCase","endsWith"),e.xp6(1),e.Q6J("ngSwitchCase","equalTo"),e.xp6(1),e.Q6J("ngSwitchCase","greaterThan"),e.xp6(1),e.Q6J("ngSwitchCase","greaterThanOrEqualTo"),e.xp6(1),e.Q6J("ngSwitchCase","lessThan"),e.xp6(1),e.Q6J("ngSwitchCase","lessThanOrEqualTo"),e.xp6(1),e.Q6J("ngSwitchCase","after"),e.xp6(1),e.Q6J("ngSwitchCase","onOrAfter"),e.xp6(1),e.Q6J("ngSwitchCase","before"),e.xp6(1),e.Q6J("ngSwitchCase","beforeOrOn")}}const S=function(){return{valueKey:"value"}},A=function(){return{valueKey:"value2"}};function y(O,L){if(1&O&&(e.ynx(0),e.TgZ(1,"div",1),e.GkF(2,11),e.qZA(),e.TgZ(3,"div",1),e.GkF(4,11),e.qZA(),e.BQk()),2&O){e.oxw();const M=e.MAs(12);e.xp6(2),e.Q6J("ngTemplateOutlet",M)("ngTemplateOutletContext",e.DdM(4,S)),e.xp6(2),e.Q6J("ngTemplateOutlet",M)("ngTemplateOutletContext",e.DdM(5,A))}}function P(O,L){if(1&O&&(e.ynx(0),e.TgZ(1,"div",1),e.GkF(2,11),e.qZA(),e.BQk()),2&O){e.oxw();const M=e.MAs(12);e.xp6(2),e.Q6J("ngTemplateOutlet",M)("ngTemplateOutletContext",e.DdM(2,S))}}function B(O,L){if(1&O){const M=e.EpF();e.ynx(0),e.TgZ(1,"fd-date-picker",12),e.NdJ("ngModelChange",function(X){e.CHM(M);const ae=e.oxw().valueKey,ie=e.oxw();return e.KtG(ie.rule[ae]=X)})("ngModelChange",function(){e.CHM(M);const X=e.oxw(2);return e.KtG(X._onModelChange())}),e.qZA(),e.BQk()}if(2&O){const M=e.oxw().valueKey,N=e.oxw();e.xp6(1),e.Q6J("required",!0)("name",M)("ngModel",N.rule[M])}}function I(O,L){if(1&O){const M=e.EpF();e.ynx(0),e.TgZ(1,"fd-select",13),e.NdJ("ngModelChange",function(X){e.CHM(M);const ae=e.oxw().valueKey,ie=e.oxw();return e.KtG(ie.rule[ae]=X)})("ngModelChange",function(){e.CHM(M);const X=e.oxw(2);return e.KtG(X._onModelChange())}),e.TgZ(2,"li",8),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA(),e.TgZ(5,"li",8),e._uU(6),e.ALo(7,"fdTranslate"),e.qZA(),e.TgZ(8,"li",8),e._uU(9),e.ALo(10,"fdTranslate"),e.qZA()(),e.BQk()}if(2&O){const M=e.oxw().valueKey,N=e.oxw();e.xp6(1),e.Q6J("name",M)("ngModel",N.rule[M])("required",!0),e.xp6(1),e.Q6J("value",void 0),e.xp6(1),e.hij(" ",e.lcZ(4,9,"platformTable.P13FilterBooleanOptionNotDefined")," "),e.xp6(2),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(7,11,"platformTable.P13FilterBooleanOptionTrue")," "),e.xp6(2),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(10,13,"platformTable.P13FilterBooleanOptionFalse")," ")}}function U(O,L){if(1&O){const M=e.EpF();e.ynx(0),e.TgZ(1,"input",14),e.NdJ("ngModelChange",function(X){e.CHM(M);const ae=e.oxw().valueKey,ie=e.oxw();return e.KtG(ie.rule[ae]=X)})("ngModelChange",function(){e.CHM(M);const X=e.oxw(2);return e.KtG(X._onModelChange())}),e.qZA(),e.BQk()}if(2&O){const M=e.oxw().valueKey,N=e.oxw();e.xp6(1),e.Q6J("name",M)("ngModel",N.rule[M])}}function K(O,L){if(1&O&&(e.ynx(0,9),e.YNc(1,B,2,3,"ng-container",5),e.YNc(2,I,11,15,"ng-container",5),e.YNc(3,U,2,2,"ng-container",6),e.BQk()),2&O){const M=e.oxw();e.Q6J("ngSwitch",M.rule.dataType),e.xp6(1),e.Q6J("ngSwitchCase",M.DATA_TYPE.DATE),e.xp6(1),e.Q6J("ngSwitchCase",M.DATA_TYPE.BOOLEAN)}}class V{constructor(){this.ruleChange=new e.vpe,this.ruleStateChange=new e.vpe,this.FILTER_STRATEGY=i.dh,this.DATA_TYPE=s.g,this._subscriptions=new t.w0}set ngForm(L){L&&this._subscriptions.add(L.statusChanges?.pipe((0,_.T)(1)).subscribe(()=>{const M=!!L.valid;this.rule.setValid(M),this.ruleStateChange.emit(M)}))}ngOnDestroy(){this._subscriptions.unsubscribe()}_onModelChange(){this.ruleChange.emit()}}V.\u0275fac=function(L){return new(L||V)},V.\u0275cmp=e.Xpm({type:V,selectors:[["fdp-table-filter-rule"]],viewQuery:function(L,M){if(1&L&&e.Gf(g.F,5),2&L){let N;e.iGM(N=e.CRH())&&(M.ngForm=N.first)}},inputs:{rule:"rule"},outputs:{ruleChange:"ruleChange",ruleStateChange:"ruleStateChange"},decls:13,vars:6,consts:[["fdLayoutGridRow",""],["fdLayoutGridCol","","colGrow",""],["fdLayoutGridCol","","colGrow","",1,"filter-row__select",3,"ngModel","ngModelChange"],["fd-option","",3,"value",4,"ngFor","ngForOf"],["fdLayoutGridRow","","ngForm","",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["ruleInputTemplate",""],["fd-option","",3,"value"],[3,"ngSwitch"],[4,"ngSwitchCaseDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","single",1,"filter-row__input",3,"required","name","ngModel","ngModelChange"],[1,"filter-row__select",3,"name","ngModel","required","ngModelChange"],["type","text","fd-form-control","","required","",1,"filter-row__input",3,"name","ngModel","ngModelChange"]],template:function(L,M){1&L&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",0)(3,"fd-select",2),e.NdJ("ngModelChange",function(X){return M.rule.setColumnKey(X),M._onModelChange()}),e.YNc(4,R,2,2,"li",3),e.qZA(),e.TgZ(5,"fd-select",2),e.NdJ("ngModelChange",function(X){return M.rule.setStrategy(X),M._onModelChange()}),e.YNc(6,w,16,15,"li",3),e.qZA()()(),e.TgZ(7,"div",1)(8,"div",4),e.YNc(9,y,5,6,"ng-container",5),e.YNc(10,P,3,3,"ng-container",6),e.YNc(11,K,4,3,"ng-template",null,7,e.W1O),e.qZA()()()),2&L&&(e.xp6(3),e.Q6J("ngModel",M.rule.columnKey),e.xp6(1),e.Q6J("ngForOf",M.rule.columns),e.xp6(1),e.Q6J("ngModel",M.rule.strategy),e.xp6(1),e.Q6J("ngForOf",M.rule.strategies),e.xp6(2),e.Q6J("ngSwitch",M.rule.strategy),e.xp6(1),e.Q6J("ngSwitchCase",M.FILTER_STRATEGY.BETWEEN))},dependencies:[f.sg,f.tP,f.RF,f.n9,f.ED,g.Fj,g.JJ,g.JL,g.Q7,g.On,g.F,u.A,p.T,h.Hr,b.x,c.q,T.I,v.L,E.n],encapsulation:2,changeDetection:0})},73938:(W,x,l)=>{l.d(x,{W:()=>A});var e=l(61135),g=l(91551),t=l(9966),_=l(4949),s=l(94650),i=l(36895),r=l(34531),f=l(93839),u=l(71497),p=l(85677),h=l(45277),b=l(21382),c=l(81353),T=l(5474),v=l(47551),E=l(33201),R=l(95002),F=l(97039),Z=l(56569),Q=l(12793),H=l(65526),j=l(54439),Y=l(68812),q=l(32317),k=l(61154),ee=l(35435),le=l(27946);function ne(y,P){1&y&&(s.TgZ(0,"div",8)(1,"fd-bar-element")(2,"h4",9),s._uU(3),s.ALo(4,"fdTranslate"),s.qZA()()(),s.TgZ(5,"div",10)(6,"fd-bar-element"),s._UZ(7,"fdp-table-reset-button"),s.qZA()()),2&y&&(s.xp6(2),s.Q6J("headerSize",4),s.xp6(1),s.Oqu(s.lcZ(4,2,"platformTable.P13FilterDialogHeader")))}function J(y,P){if(1&y){const B=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){s.CHM(B);const U=s.oxw(2);return s.KtG(U._addNewRule(U._includeRules))}),s.ALo(1,"fdTranslate"),s.ALo(2,"fdTranslate"),s.qZA()}2&y&&(s.Q6J("title",s.lcZ(2,4,"platformTable.P13FilterDialoAddFilterBtnTitle")),s.uIk("aria-label",s.lcZ(1,2,"platformTable.P13FilterDialoAddFilterBtnTitle")))}function te(y,P){if(1&y){const B=s.EpF();s.TgZ(0,"fd-layout-grid")(1,"div",11)(2,"fdp-table-filter-rule",12),s.NdJ("ruleChange",function(){s.CHM(B);const U=s.oxw();return s.KtG(U._recalculateResetAvailability())})("ruleStateChange",function(){s.CHM(B);const U=s.oxw();return s.KtG(U._onRuleStateChange())}),s.qZA(),s.TgZ(3,"div",13)(4,"button",14),s.NdJ("click",function(){const K=s.CHM(B).$implicit,V=s.oxw();return s.KtG(V._removeRule(K,V._includeRules))}),s.ALo(5,"fdTranslate"),s.ALo(6,"fdTranslate"),s.qZA(),s.YNc(7,J,3,6,"button",15),s.qZA()()()}if(2&y){const B=P.$implicit,I=P.index,U=s.oxw();s.xp6(2),s.Q6J("fdLayoutGridCol",10)("rule",B),s.xp6(1),s.Q6J("fdLayoutGridCol",2),s.xp6(1),s.Q6J("title",s.lcZ(6,8,"platformTable.P13FilterDialogRemoveFilterBtnTitle")),s.uIk("aria-label",s.lcZ(5,6,"platformTable.P13FilterDialogRemoveFilterBtnTitle")),s.xp6(3),s.Q6J("ngIf",U._includeRules.length-1===I)}}function G(y,P){if(1&y){const B=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){s.CHM(B);const U=s.oxw(2);return s.KtG(U._addNewRule(U._excludeRules))}),s.ALo(1,"fdTranslate"),s.ALo(2,"fdTranslate"),s.qZA()}2&y&&(s.Q6J("title",s.lcZ(2,4,"platformTable.P13FilterDialoAddFilterBtnTitle")),s.uIk("aria-label",s.lcZ(1,2,"platformTable.P13FilterDialoAddFilterBtnTitle")))}function w(y,P){if(1&y){const B=s.EpF();s.TgZ(0,"fd-layout-grid")(1,"div",11)(2,"fdp-table-filter-rule",12),s.NdJ("ruleChange",function(){s.CHM(B);const U=s.oxw();return s.KtG(U._recalculateResetAvailability())})("ruleStateChange",function(){s.CHM(B);const U=s.oxw();return s.KtG(U._onRuleStateChange())}),s.qZA(),s.TgZ(3,"div",13)(4,"button",14),s.NdJ("click",function(){const K=s.CHM(B).$implicit,V=s.oxw();return s.KtG(V._removeRule(K,V._excludeRules))}),s.ALo(5,"fdTranslate"),s.ALo(6,"fdTranslate"),s.qZA(),s.YNc(7,G,3,6,"button",15),s.qZA()()()}if(2&y){const B=P.$implicit,I=P.index,U=s.oxw();s.xp6(2),s.Q6J("fdLayoutGridCol",10)("rule",B),s.xp6(1),s.Q6J("fdLayoutGridCol",2),s.xp6(1),s.Q6J("title",s.lcZ(6,8,"platformTable.P13FilterDialogRemoveFilterBtnTitle")),s.uIk("aria-label",s.lcZ(5,6,"platformTable.P13FilterDialogRemoveFilterBtnTitle")),s.xp6(3),s.Q6J("ngIf",U._excludeRules.length-1===I)}}const S=function(y){return{count:y}};class A{constructor(P){this.dialogRef=P,this._isResetAvailableSubject$=new e.X(!1),this.isResetAvailable$=this._isResetAvailableSubject$.asObservable(),this.columns=[],this._includeRules=[],this._excludeRules=[],this._validIncludeRulesCount=0,this._validExcludeRulesCount=0,this._includePanelExpanded=!0,this._excludePanelExpanded=!1,this._calculateValidRulesCount=()=>{this._validIncludeRulesCount=this._includeRules.filter(this._isRuleValid).length,this._validExcludeRulesCount=this._excludeRules.filter(this._isRuleValid).length},this._isRuleValid=U=>U?.isValid;const{columns:B,collectionFilter:I}=this.dialogRef.data;this.columns=B.filter(U=>U.filterable)||[],this._initiateRules(I),this._calculateValidRulesCount(),this._excludePanelExpanded=this._validExcludeRulesCount>0,this._recalculateResetAvailability()}reset(){this._initiateRules(),this._isResetAvailableSubject$.next(!1)}cancel(){this.dialogRef.close(null)}confirm(){const I={collectionFilter:[...this._getCollectionFiltersFromIncludeRules(),...this._getCollectionFiltersFromExcludeRules()]};this.dialogRef.close(I)}_removeRule(P,B){const I=B.indexOf(P);-1!==I&&(B.splice(I,1),0===B.length&&B.push(new _.O(this.columns)),this._recalculateResetAvailability(),this._calculateValidRulesCount())}_addNewRule(P){const B=P.slice(-1)[0];P.push(new _.O(this.columns,B?.columnKey,B?.strategy))}_recalculateResetAvailability(){this._isResetAvailableSubject$.next(!(1===this._includeRules.length&&!this._includeRules[0].hasValue&&1===this._excludeRules.length&&!this._excludeRules[0].hasValue))}_onRuleStateChange(){this._calculateValidRulesCount()}_initiateRules(P){this._includeRules=this._createRules(P?.filter(({exclude:B})=>!B)),this._excludeRules=this._createRules(P?.filter(({exclude:B})=>B)),[this._includeRules,this._excludeRules].forEach(B=>{B.forEach(I=>I.setValid(!0)),0===B.length&&B.push(new _.O(this.columns))})}_createRules(P=[]){return P.map(({field:B,value:I,value2:U,strategy:K})=>new _.O(this.columns,B,K,I,U))}_getCollectionFiltersFromRules(P){return P.filter(this._isRuleValid).map(({columnKey:B,strategy:I,value:U,value2:K})=>({field:B,value:U,value2:K,strategy:I}))}_getCollectionFiltersFromIncludeRules(){return this._getCollectionFiltersFromRules(this._includeRules).map(P=>({...P,exclude:!1}))}_getCollectionFiltersFromExcludeRules(){return this._getCollectionFiltersFromRules(this._excludeRules).map(P=>({...P,exclude:!0}))}}A.\u0275fac=function(P){return new(P||A)(s.Y36(g.zj))},A.\u0275cmp=s.Xpm({type:A,selectors:[["ng-component"]],features:[s._Bn([{provide:t.u,useExisting:A}])],decls:23,vars:22,consts:[[1,"fdp-table-p13-filtering-dialog"],["fdkTemplate","header"],[3,"expanded"],["fd-panel-title",""],["fd-panel-content",""],[4,"ngFor","ngForOf"],["fd-button","","fdType","emphasized","fd-dialog-decisive-button","",3,"label","click"],["fd-button","","fdType","transparent","fd-dialog-decisive-button","","fdkInitialFocus","",3,"label","click"],["fd-bar-left",""],["fd-title","",3,"headerSize"],["fd-bar-right",""],["fdLayoutGridRow",""],[3,"fdLayoutGridCol","rule","ruleChange","ruleStateChange"],[3,"fdLayoutGridCol"],["fd-button","","fdType","transparent","glyph","sys-cancel",3,"title","click"],["fd-button","","fdType","transparent","glyph","add",3,"title","click",4,"ngIf"],["fd-button","","fdType","transparent","glyph","add",3,"title","click"]],template:function(P,B){1&P&&(s.TgZ(0,"fd-dialog",0)(1,"fd-dialog-header"),s.YNc(2,ne,8,4,"ng-template",1),s.qZA(),s.TgZ(3,"fd-dialog-body")(4,"fd-panel",2)(5,"div",3),s._uU(6),s.ALo(7,"fdTranslate"),s.qZA(),s.TgZ(8,"div",4),s.YNc(9,te,8,10,"fd-layout-grid",5),s.qZA()(),s.TgZ(10,"fd-panel",2)(11,"div",3),s._uU(12),s.ALo(13,"fdTranslate"),s.qZA(),s.TgZ(14,"div",4),s.YNc(15,w,8,10,"fd-layout-grid",5),s.qZA()()(),s.TgZ(16,"fd-dialog-footer")(17,"fd-dialog-footer-button")(18,"button",6),s.NdJ("click",function(){return B.confirm()}),s.ALo(19,"fdTranslate"),s.qZA()(),s.TgZ(20,"fd-dialog-footer-button")(21,"button",7),s.NdJ("click",function(){return B.cancel()}),s.ALo(22,"fdTranslate"),s.qZA()()()()),2&P&&(s.xp6(4),s.Q6J("expanded",B._includePanelExpanded),s.xp6(2),s.hij(" ",s.xi3(7,8,B._validIncludeRulesCount>0?"platformTable.P13FilterDialogIncludePanelTitleWithCount":"platformTable.P13FilterDialogIncludePanelTitleWithoutCount",s.VKq(18,S,B._validIncludeRulesCount))," "),s.xp6(3),s.Q6J("ngForOf",B._includeRules),s.xp6(1),s.Q6J("expanded",B._excludePanelExpanded),s.xp6(2),s.hij(" ",s.xi3(13,11,B._validExcludeRulesCount>0?"platformTable.P13FilterDialogExcludePanelTitleWithCount":"platformTable.P13FilterDialogExcludePanelTitleWithoutCount",s.VKq(20,S,B._validExcludeRulesCount))," "),s.xp6(3),s.Q6J("ngForOf",B._excludeRules),s.xp6(3),s.Q6J("label",s.lcZ(19,14,"platformTable.P13FilterDialogConfirmationBtnLabel")),s.xp6(3),s.Q6J("label",s.lcZ(22,16,"platformTable.P13FilterDialogCancelBtnLabel")))},dependencies:[i.sg,i.O5,r.r,f.a,u.H,p.g,h.A,b.u,c.r,T.b,v.M,E.J,R.r,F.S,Z.N,Q.q,H.q,j.I,Y.y,q.a,k.j,t.x,ee.o,le.n],styles:[".fdp-table-p13-filtering-dialog .filter-row__input,.fdp-table-p13-filtering-dialog .filter-row__select{display:block;max-width:100%}.fdp-table-p13-filtering-dialog .fd-popover-custom{display:block}\n"],encapsulation:2,changeDetection:0})},4949:(W,x,l)=>{l.d(x,{O:()=>g});var e=l(61230);class g{get hasValue(){return this.valueExists(this.value)||this.valueExists(this.value2)}constructor(_,s,i,r,f){this.columns=_,this.columnKey=s,this.strategy=i,this.value=r,this.value2=f,this.isValid=!1,this.strategies=[],this.columnKey||this.setColumnKey(_[0]?.key),this.dataType||this.setDataTypeByColumnKey(this.columnKey),0===this.strategies.length&&this.setStrategiesByColumnKey(this.columnKey)}setValid(_){this.isValid=_}setValue(_){this.value=_}setValue2(_){this.value2=_}setStrategy(_){this.strategy=_}setStrategiesByColumnKey(_){const s=this.columns.find(r=>r.key===_)?.dataType;if(!s)return;const i=(0,e.b3)(s);this.strategies!==i&&(this.strategies=i,this.strategies.includes(this.strategy)||this.setStrategy(i[0]))}setColumnKey(_){_!==this.columnKey&&(this.columnKey=_,this.setValue(null),this.setValue2(null),this.setDataTypeByColumnKey(_),this.setStrategiesByColumnKey(_))}setDataTypeByColumnKey(_){const s=this.columns.find(i=>i.key===_)?.dataType;s!==this.dataType&&(this.dataType=s)}valueExists(_){return!!_||0===_}}},17375:(W,x,l)=>{l.d(x,{a:()=>G});var e=l(61135),g=l(91551),t=l(69484),_=l(34537),s=l(9966),i=l(94650),r=l(36895),f=l(90433),u=l(67909),p=l(34531),h=l(93839),b=l(71497),c=l(85677),T=l(45277),v=l(21382),E=l(81353),R=l(5474),F=l(47551),Z=l(33201),Q=l(95002),H=l(97039),j=l(56569),Y=l(65005),q=l(46786),k=l(27946);function ee(w,S){1&w&&(i.TgZ(0,"div",5)(1,"fd-bar-element")(2,"h4",6),i._uU(3),i.ALo(4,"fdTranslate"),i.qZA()()(),i.TgZ(5,"div",7)(6,"fd-bar-element"),i._UZ(7,"fdp-table-reset-button"),i.qZA()()),2&w&&(i.xp6(2),i.Q6J("headerSize",4),i.xp6(1),i.Oqu(i.lcZ(4,2,"platformTable.P13GroupDialogHeader")))}function le(w,S){if(1&w&&(i.TgZ(0,"li",15),i._uU(1),i.qZA()),2&w){const A=S.$implicit;i.Q6J("value",A.key),i.xp6(1),i.hij(" ",A.label," ")}}function ne(w,S){if(1&w){const A=i.EpF();i.TgZ(0,"div",8)(1,"fd-select",9),i.NdJ("valueChange",function(P){const I=i.CHM(A).$implicit,U=i.oxw();return i.KtG(U._onRuleColumnKeyChange(I,P))}),i.ALo(2,"fdTranslate"),i.YNc(3,le,2,2,"li",10),i.qZA(),i.TgZ(4,"fd-checkbox",11),i.NdJ("ngModelChange",function(P){const I=i.CHM(A).$implicit,U=i.oxw();return i.KtG(U._onRuleShowAsColumnChange(I,P))}),i.ALo(5,"fdTranslate"),i.qZA(),i.TgZ(6,"div",12)(7,"button",13),i.NdJ("click",function(){const B=i.CHM(A).$implicit,I=i.oxw();return i.KtG(I._removeRule(B))}),i.ALo(8,"fdTranslate"),i.ALo(9,"fdTranslate"),i.qZA(),i.TgZ(10,"button",14),i.NdJ("click",function(){const B=i.CHM(A).index,I=i.oxw();return i.KtG(I._addNew(B))}),i.ALo(11,"fdTranslate"),i.ALo(12,"fdTranslate"),i.qZA()()()}if(2&w){const A=S.$implicit,y=i.oxw();i.xp6(1),i.Q6J("value",A.columnKey)("placeholder",i.lcZ(2,9,"platformTable.P13GroupDialogNoneSelectedColumnSelectPlaceholder")),i.xp6(2),i.Q6J("ngForOf",y.columns),i.xp6(1),i.Q6J("ngModel",A.showAsColumn)("label",i.lcZ(5,11,"platformTable.P13GroupDialogShowFieldAsColumnCheckboxLabel")),i.xp6(3),i.Q6J("title",i.lcZ(9,15,"platformTable.P13GroupDialogRemoveGroupBtnTitle")),i.uIk("aria-label",i.lcZ(8,13,"platformTable.P13GroupDialogRemoveGroupBtnTitle")),i.xp6(3),i.Q6J("title",i.lcZ(12,19,"platformTable.P13GroupDialogAddNewGroupBtnTitle")),i.uIk("aria-label",i.lcZ(11,17,"platformTable.P13GroupDialogAddNewGroupBtnTitle"))}}class te{get isValid(){return null!==this.columnKey}constructor(S=null,A=!0){this.columnKey=S,this.showAsColumn=A}}class G{constructor(S){this.dialogRef=S,this.columns=[],this._isResetAvailableSubject$=new e.X(!1),this.isResetAvailable$=this._isResetAvailableSubject$.asObservable(),this.rules=[],this._isRuleValid=P=>P?.isValid;const{columns:A,collectionGroup:y}=this.dialogRef.data;this.columns=A||[],this._initiateRules(y)}reset(){this._initiateRules(),this._isResetAvailableSubject$.next(!1)}cancel(){this.dialogRef.close(null)}confirm(){const A={collectionGroup:this._getCollectionGroupFromGroupRules(this._getUniqueRules(this.rules))};this.dialogRef.close(A)}_recalculateResetAvailability(){this._isResetAvailableSubject$.next(!(1===this.rules.length&&!this.rules[0].isValid))}_removeRule(S){this.rules=this.rules.filter(A=>A!==S),0===this.rules.length&&this.rules.push(new te),this._recalculateResetAvailability()}_addNew(S){this.rules.splice(S+1,0,new te)}_onRuleColumnKeyChange(S,A){S.columnKey=A,this._recalculateResetAvailability()}_onRuleShowAsColumnChange(S,A){S.showAsColumn=A,this._recalculateResetAvailability()}_initiateRules(S){this.rules=this._createGroupRules(S),0===this.rules.length&&this.rules.push(new te),this._recalculateResetAvailability()}_createGroupRules(S=[]){return S.map(({field:A,showAsColumn:y})=>new te(A,y))}_getCollectionGroupFromGroupRules(S=this.rules){return S.filter(this._isRuleValid).map(({columnKey:A,showAsColumn:y})=>({field:A,showAsColumn:y,direction:_.S.NONE}))}_getUniqueRules(S){return(0,t.LG)(S,"columnKey")}}G.\u0275fac=function(S){return new(S||G)(i.Y36(g.zj))},G.\u0275cmp=i.Xpm({type:G,selectors:[["ng-component"]],features:[i._Bn([{provide:s.u,useExisting:G}])],decls:12,vars:7,consts:[[1,"fdp-table-p13-grouping-dialog"],["fdkTemplate","header"],["class","group-row",4,"ngFor","ngForOf"],["fd-button","","fdType","emphasized","fd-dialog-decisive-button","",3,"label","click"],["fd-button","","fdType","transparent","fd-dialog-decisive-button","","fdkInitialFocus","",3,"label","click"],["fd-bar-left",""],["fd-title","",3,"headerSize"],["fd-bar-right",""],[1,"group-row"],[1,"group-row__select",3,"value","placeholder","valueChange"],["fd-option","",3,"value",4,"ngFor","ngForOf"],[1,"group-row__checkbox",3,"ngModel","label","ngModelChange"],[1,"group-row__actions"],["fd-button","","fdType","transparent","glyph","sys-cancel",3,"title","click"],["fd-button","","fdType","transparent","glyph","add",3,"title","click"],["fd-option","",3,"value"]],template:function(S,A){1&S&&(i.TgZ(0,"fd-dialog",0)(1,"fd-dialog-header"),i.YNc(2,ee,8,4,"ng-template",1),i.qZA(),i.TgZ(3,"fd-dialog-body"),i.YNc(4,ne,13,21,"div",2),i.qZA(),i.TgZ(5,"fd-dialog-footer")(6,"fd-dialog-footer-button")(7,"button",3),i.NdJ("click",function(){return A.confirm()}),i.ALo(8,"fdTranslate"),i.qZA()(),i.TgZ(9,"fd-dialog-footer-button")(10,"button",4),i.NdJ("click",function(){return A.cancel()}),i.ALo(11,"fdTranslate"),i.qZA()()()()),2&S&&(i.xp6(4),i.Q6J("ngForOf",A.rules),i.xp6(3),i.Q6J("label",i.lcZ(8,3,"platformTable.P13GroupDialogConfirmationBtnLabel")),i.xp6(3),i.Q6J("label",i.lcZ(11,5,"platformTable.P13GroupDialogCancelBtnLabel")))},dependencies:[r.sg,f.JJ,f.On,u.b,p.r,h.a,b.H,c.g,T.A,v.u,E.r,R.b,F.M,Z.J,Q.r,H.S,j.N,Y.Hr,q.x,s.x,k.n],styles:[".fdp-table-p13-grouping-dialog .group-row{display:flex;align-items:center;margin-bottom:.5rem}.fdp-table-p13-grouping-dialog .group-row .fd-popover-custom{display:block}.fdp-table-p13-grouping-dialog .group-row__checkbox,.fdp-table-p13-grouping-dialog .group-row__actions,.fdp-table-p13-grouping-dialog .group-row__select{margin-right:1rem}.fdp-table-p13-grouping-dialog .group-row__select{flex:1 1 0}\n"],encapsulation:2,changeDetection:0})},59546:(W,x,l)=>{l.d(x,{V:()=>J,b:()=>te});var e=l(61135),g=l(91551),t=l(69484),_=l(34537),s=l(9966),i=l(94650),r=l(36895),f=l(34531),u=l(93839),p=l(71497),h=l(85677),b=l(45277),c=l(21382),T=l(81353),v=l(5474),E=l(47551),R=l(33201),F=l(95002),Z=l(97039),Q=l(56569),H=l(65005),j=l(46786),Y=l(27946);function q(G,w){1&G&&(i.TgZ(0,"div",5)(1,"fd-bar-element")(2,"h4",6),i._uU(3),i.ALo(4,"fdTranslate"),i.qZA()()(),i.TgZ(5,"div",7)(6,"fd-bar-element"),i._UZ(7,"fdp-table-reset-button"),i.qZA()()),2&G&&(i.xp6(2),i.Q6J("headerSize",4),i.xp6(1),i.hij(" ",i.lcZ(4,2,"platformTable.P13SortDialogHeader")," "))}function k(G,w){if(1&G&&(i.TgZ(0,"li",11),i._uU(1),i.qZA()),2&G){const S=w.$implicit;i.Q6J("value",S.key),i.xp6(1),i.hij(" ",S.label," ")}}function ee(G,w){if(1&G){const S=i.EpF();i.TgZ(0,"div",8)(1,"fd-select",9),i.NdJ("valueChange",function(y){const B=i.CHM(S).$implicit,I=i.oxw();return i.KtG(I._onRuleColumnKeyChange(B,y))}),i.ALo(2,"fdTranslate"),i.YNc(3,k,2,2,"li",10),i.ALo(4,"getAvailableSortColumns"),i.qZA(),i.TgZ(5,"fd-select",9),i.NdJ("valueChange",function(y){const B=i.CHM(S).$implicit,I=i.oxw();return i.KtG(I._onRuleDirectionChange(B,y))}),i.ALo(6,"fdTranslate"),i.TgZ(7,"li",11),i._uU(8),i.ALo(9,"fdTranslate"),i.qZA(),i.TgZ(10,"li",11),i._uU(11),i.ALo(12,"fdTranslate"),i.qZA()(),i.TgZ(13,"div",12)(14,"button",13),i.NdJ("click",function(){const P=i.CHM(S).$implicit,B=i.oxw();return i.KtG(B._removeRule(P))}),i.ALo(15,"fdTranslate"),i.ALo(16,"fdTranslate"),i.qZA(),i.TgZ(17,"button",14),i.NdJ("click",function(){const P=i.CHM(S).index,B=i.oxw();return i.KtG(B._addNew(P))}),i.ALo(18,"fdTranslate"),i.ALo(19,"fdTranslate"),i.qZA()()()}if(2&G){const S=w.$implicit,A=i.oxw();i.xp6(1),i.Q6J("value",S.columnKey)("placeholder",i.lcZ(2,13,"platformTable.P13SortDialogNoneSelectedColumn")),i.xp6(2),i.Q6J("ngForOf",i.Dn7(4,15,A.columns,A.rules,S.columnKey)),i.xp6(2),i.Q6J("value",S.direction)("placeholder",i.lcZ(6,19,"platformTable.P13SortDialogNoneSelectedSorting")),i.xp6(2),i.Q6J("value",A.SORT_DIRECTION.ASC),i.xp6(1),i.hij(" ",i.lcZ(9,21,"platformTable.P13SortDialogSortOrderSelectOptionAsc")," "),i.xp6(2),i.Q6J("value",A.SORT_DIRECTION.DESC),i.xp6(1),i.hij(" ",i.lcZ(12,23,"platformTable.P13SortDialogSortOrderSelectOptionDesc")," "),i.xp6(3),i.Q6J("title",i.lcZ(16,27,"platformTable.P13SortDialogRemoveSortBtnTitle")),i.uIk("aria-label",i.lcZ(15,25,"platformTable.P13SortDialogRemoveSortBtnTitle")),i.xp6(3),i.Q6J("title",i.lcZ(19,31,"platformTable.P13SortDialogAddNewSortBtnTitle")),i.uIk("aria-label",i.lcZ(18,29,"platformTable.P13SortDialogAddNewSortBtnTitle"))}}class ne{get isValid(){return null!==this.columnKey&&null!==this.direction}constructor(w=null,S=_.S.ASC){this.columnKey=w,this.direction=S}}class J{constructor(w,S){this.dialogRef=w,this.cdr=S,this.columns=[],this._isResetAvailableSubject$=new e.X(!1),this.isResetAvailable$=this._isResetAvailableSubject$.asObservable(),this.SORT_DIRECTION=_.S,this.rules=[],this._isRuleValid=P=>P?.isValid;const{columns:A,collectionSort:y}=this.dialogRef.data;this.columns=A||[],this._initiateRules(y)}reset(){this._initiateRules(),this._isResetAvailableSubject$.next(!1)}cancel(){this.dialogRef.close(null)}confirm(){const S={collectionSort:this._getCollectionSortFromSortRules(this._getUniqueRules(this.rules))};this.dialogRef.close(S)}_removeRule(w){this.rules=this.rules.filter(S=>S!==w),0===this.rules.length&&this.rules.push(new ne),this._recalculateResetAvailability()}_addNew(w){this.rules.splice(w+1,0,new ne)}_onRuleColumnKeyChange(w,S){w.columnKey=S,this._recalculateResetAvailability(),this.cdr.detectChanges()}_onRuleDirectionChange(w,S){w.direction=S,this._recalculateResetAvailability()}_recalculateResetAvailability(){this._isResetAvailableSubject$.next(!(1===this.rules.length&&!this.rules[0].isValid))}_trackByColumnKey(w,S){return S.columnKey}_initiateRules(w){this.rules=this._createRules(w),0===this.rules.length&&this.rules.push(new ne),this._recalculateResetAvailability()}_createRules(w=[]){return w.map(({field:S,direction:A})=>new ne(S,A))}_getCollectionSortFromSortRules(w=this.rules){return w.filter(this._isRuleValid).map(({columnKey:S,direction:A})=>({field:S,direction:A}))}_getUniqueRules(w){return(0,t.LG)(w,"columnKey")}}J.\u0275fac=function(w){return new(w||J)(i.Y36(g.zj),i.Y36(i.sBO))},J.\u0275cmp=i.Xpm({type:J,selectors:[["ng-component"]],features:[i._Bn([{provide:s.u,useExisting:J}])],decls:12,vars:8,consts:[[1,"fdp-table-p13-sorting-dialog"],["fdkTemplate","header"],["class","sort-row",4,"ngFor","ngForOf","ngForTrackBy"],["fd-button","","fdType","emphasized","fd-dialog-decisive-button","",3,"label","click"],["fd-button","","fdType","transparent","fd-dialog-decisive-button","","fdkInitialFocus","",3,"label","click"],["fd-bar-left",""],["fd-title","",3,"headerSize"],["fd-bar-right",""],[1,"sort-row"],[1,"sort-row__select",3,"value","placeholder","valueChange"],["fd-option","",3,"value",4,"ngFor","ngForOf"],["fd-option","",3,"value"],[1,"sort-row__actions"],["fd-button","","fdType","transparent","glyph","sys-cancel",3,"title","click"],["fd-button","","fdType","transparent","glyph","add",3,"title","click"]],template:function(w,S){1&w&&(i.TgZ(0,"fd-dialog",0)(1,"fd-dialog-header"),i.YNc(2,q,8,4,"ng-template",1),i.qZA(),i.TgZ(3,"fd-dialog-body"),i.YNc(4,ee,20,33,"div",2),i.qZA(),i.TgZ(5,"fd-dialog-footer")(6,"fd-dialog-footer-button")(7,"button",3),i.NdJ("click",function(){return S.confirm()}),i.ALo(8,"fdTranslate"),i.qZA()(),i.TgZ(9,"fd-dialog-footer-button")(10,"button",4),i.NdJ("click",function(){return S.cancel()}),i.ALo(11,"fdTranslate"),i.qZA()()()()),2&w&&(i.xp6(4),i.Q6J("ngForOf",S.rules)("ngForTrackBy",S._trackByColumnKey),i.xp6(3),i.Q6J("label",i.lcZ(8,4,"platformTable.P13SortDialogConfirmationBtnLabel")),i.xp6(3),i.Q6J("label",i.lcZ(11,6,"platformTable.P13SortDialogCancelBtnLabel")))},dependencies:function(){return[r.sg,f.r,u.a,p.H,h.g,b.A,c.u,T.r,v.b,E.M,R.J,F.r,Z.S,Q.N,H.Hr,j.x,s.x,Y.n,te]},styles:[".fdp-table-p13-sorting-dialog .sort-row{display:flex;margin-bottom:.5rem}.fdp-table-p13-sorting-dialog .sort-row .fd-popover-custom{display:block}.fdp-table-p13-sorting-dialog .sort-row__select{flex:1 1 0;margin-right:1rem}.fdp-table-p13-sorting-dialog .sort-row__actions{margin-left:1rem}\n"],encapsulation:2,changeDetection:0});class te{transform(w,S,A){const y=new Set(S.map(P=>P.columnKey));return w.filter(P=>!y.has(P.key)||A===P.key)}}te.\u0275fac=function(w){return new(w||te)},te.\u0275pipe=i.Yjl({name:"getAvailableSortColumns",type:te,pure:!1})},13295:(W,x,l)=>{l.d(x,{X:()=>g});var e=l(94650);class g{}g.\u0275fac=function(_){return new(_||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["fdp-table-p13-columns"]],decls:0,vars:0,template:function(_,s){},encapsulation:2,changeDetection:0})},31919:(W,x,l)=>{l.d(x,{$:()=>T});var e=l(50727),g=l(39300),t=l(91551),_=l(61436),s=l(55747),i=l(29436),r=l(13295),f=l(59546),u=l(17375),p=l(73938),h=l(41330),b=l(94650);const c={responsivePadding:!0,verticalPadding:!0,minWidth:"30rem",bodyMinHeight:"calc(50vh - 88px)"};class T{set table(E){this._setTable(E)}get table(){return this._table}constructor(E){this._dialogService=E,this._subscriptions=new e.w0,this._tableSubscriptions=new e.w0}ngOnDestroy(){this._subscriptions.unsubscribe(),this._unsubscribeFromTable()}showSortingSettings(){const E=this._getTableState(),R=this._getTableColumns().filter(({sortable:H})=>H),F=E.sortBy,Z={columns:R.map(({label:H,key:j})=>({label:H,key:j})),collectionSort:F},Q=this._dialogService.open(f.V,{...c,data:Z},this.table.injector);this._subscriptions.add(Q.afterClosed.pipe((0,g.h)(H=>!!H)).subscribe(({collectionSort:H})=>{this._applySorting(H)}))}showFilteringSettings(){const E=this._getTableState(),R=this._getTableColumns(),F=E?.filterBy,Z={columns:R.map(({label:H,key:j,dataType:Y,filterable:q})=>({label:H,key:j,dataType:Y,filterable:q})),collectionFilter:F},Q=this._dialogService.open(p.W,{...c,responsivePadding:!1,verticalPadding:!1,width:"50rem",data:Z},this.table.injector);this._subscriptions.add(Q.afterClosed.pipe((0,g.h)(H=>!!H)).subscribe(({collectionFilter:H})=>this._applyFiltering(H)))}showGroupingSettings(){const E=this._getTableState(),R=this._getTableColumns(),F=E.columns,Z=E.groupBy,Q={columns:R.filter(({name:j})=>F.includes(j)).filter(({groupable:j})=>j).map(({label:j,key:Y})=>({label:j,key:Y})),collectionGroup:Z},H=this._dialogService.open(u.a,{...c,data:Q},this.table.injector);this._subscriptions.add(H.afterClosed.pipe((0,g.h)(j=>!!j)).subscribe(({collectionGroup:j})=>{this._applyGrouping(j)}))}showColumnsSettings(){const E=this._getTableState(),R=this._getTableColumns(),F=E.columns,Z={availableColumns:R.map(({label:H,name:j})=>({label:H,key:j})),visibleColumns:F},Q=this._dialogService.open(h.I,{...c,responsivePadding:!1,verticalPadding:!1,minWidth:"35rem",data:Z},this.table.injector);this._subscriptions.add(Q.afterClosed.pipe((0,g.h)(H=>!!H)).subscribe(({visibleColumns:H})=>{this._applyColumns(H)}))}_setTable(E){this._table=E,this._unsubscribeFromTable(),this._table&&this._subscribeToTable()}_subscribeToTable(){this._listenToTableTriggersToOpenDialogs(),this._listenToTableColumns()}_listenToTableTriggersToOpenDialogs(){this._tableSubscriptions.add(this._table.openTableSortSettings.subscribe(()=>this.showSortingSettings())),this._tableSubscriptions.add(this._table.openTableFilterSettings.subscribe(()=>this.showFilteringSettings())),this._tableSubscriptions.add(this._table.openTableGroupSettings.subscribe(()=>this.showGroupingSettings())),this._tableSubscriptions.add(this._table.openTableColumnSettings.subscribe(()=>this.showColumnsSettings()))}_listenToTableColumns(){this._tableSubscriptions.add(this._table.tableColumnsStream.subscribe(E=>{this._table?.showSortSettingsInToolbar(E.some(({sortable:R})=>R)),this._table?.showGroupSettingsInToolbar(E.some(({groupable:R})=>R)),this._table?.showColumnSettingsInToolbar(E.length>0),this._table?.showFilterSettingsInToolbar(E.some(({filterable:R})=>R)),this._table?.setHeaderColumnFilteringDisabled(E.some(({filterable:R})=>R))}))}_getTableState(){return this._table?.getTableState()}_getTableColumns(){return this._table?.getTableColumns()||[]}_applySorting(E){this._table?.sort(E)}_applyFiltering(E){this._table?.filter(E)}_applyGrouping(E){this._table?.group(E)}_applyColumns(E){this._table?.setColumns(E)}_unsubscribeFromTable(){this._tableSubscriptions.unsubscribe(),this._tableSubscriptions=new e.w0}}T.\u0275fac=function(E){return new(E||T)(b.Y36(t.xA))},T.\u0275cmp=b.Xpm({type:T,selectors:[["fdp-table-p13-dialog"]],contentQueries:function(E,R,F){if(1&E&&(b.Suo(F,_.p,5),b.Suo(F,i.z,5),b.Suo(F,s.q,5),b.Suo(F,r.X,5)),2&E){let Z;b.iGM(Z=b.CRH())&&(R.sort=Z.first),b.iGM(Z=b.CRH())&&(R.filter=Z.first),b.iGM(Z=b.CRH())&&(R.group=Z.first),b.iGM(Z=b.CRH())&&(R.columns=Z.first)}},inputs:{table:"table"},decls:0,vars:0,template:function(E,R){},styles:["[_nghost-%COMP%]{z-index:999}"],changeDetection:0})},29436:(W,x,l)=>{l.d(x,{z:()=>g});var e=l(94650);class g{}g.\u0275fac=function(_){return new(_||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["fdp-table-p13-filter"]],decls:0,vars:0,template:function(_,s){},encapsulation:2,changeDetection:0})},55747:(W,x,l)=>{l.d(x,{q:()=>g});var e=l(94650);class g{}g.\u0275fac=function(_){return new(_||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["fdp-table-p13-group"]],decls:0,vars:0,template:function(_,s){},encapsulation:2,changeDetection:0})},61436:(W,x,l)=>{l.d(x,{p:()=>g});var e=l(94650);class g{}g.\u0275fac=function(_){return new(_||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["fdp-table-p13-sort"]],decls:0,vars:0,template:function(_,s){},encapsulation:2,changeDetection:0})},18278:(W,x,l)=>{l.d(x,{I:()=>_});var e=l(94650);function g(s,i){1&s&&e.Hsn(0)}class _{}_.\u0275fac=function(i){return new(i||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["fdp-table-toolbar-actions"]],viewQuery:function(i,r){if(1&i&&e.Gf(e.Rgc,5),2&i){let f;e.iGM(f=e.CRH())&&(r.contentTemplateRef=f.first)}},ngContentSelectors:["*"],decls:1,vars:0,template:function(i,r){1&i&&(e.F$t(),e.YNc(0,g,1,0,"ng-template"))},encapsulation:2,changeDetection:0})},63761:(W,x,l)=>{l.d(x,{n:()=>_});var e=l(94650);function g(s,i){1&s&&e.Hsn(0)}class _{}_.\u0275fac=function(i){return new(i||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["fdp-table-toolbar-left-actions"]],viewQuery:function(i,r){if(1&i&&e.Gf(e.Rgc,5),2&i){let f;e.iGM(f=e.CRH())&&(r._contentTemplateRef=f.first)}},ngContentSelectors:["*"],decls:1,vars:0,template:function(i,r){1&i&&(e.F$t(),e.YNc(0,g,1,0,"ng-template"))},encapsulation:2})},73486:(W,x,l)=>{l.d(x,{U:()=>B});var e=l(94650),g=l(77579),t=l(82722),_=l(18278),s=l(63761),i=l(68556),r=l(6739),f=l(40978),u=l(36895),p=l(69859),h=l(18050),b=l(57289),c=l(84134),T=l(91553),v=l(26069),E=l(27946);function R(I,U){if(1&I&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&I){const K=e.oxw().counter;e.xp6(1),e.hij("(",K,")")}}function F(I,U){1&I&&e._UZ(0,"fd-toolbar-separator")}function Z(I,U){1&I&&e.GkF(0)}function Q(I,U){if(1&I&&(e.ynx(0),e.YNc(1,F,1,0,"fd-toolbar-separator",2),e.YNc(2,Z,1,0,"ng-container",4),e.BQk()),2&I){const K=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!!K.title||!K.hideItemCount),e.xp6(1),e.Q6J("ngTemplateOutlet",K._tableToolbarLeftActionsComponent._contentTemplateRef)}}function H(I,U){if(1&I){const K=e.EpF();e.TgZ(0,"fdp-search-field",5),e.NdJ("searchSubmit",function(O){e.CHM(K);const L=e.oxw(2);return e.KtG(L.submitSearch(O))})("cancelSearch",function(O){e.CHM(K);const L=e.oxw(2);return e.KtG(L.submitSearch(O))}),e.ALo(1,"fdTranslate"),e.ALo(2,"async"),e.qZA()}if(2&I){const K=e.oxw(2);e.Q6J("placeholder",e.lcZ(1,5,"platformTable.toolbarSearchPlaceholder"))("inputText",K._searchInputText)("disabled",!!e.lcZ(2,7,K.tableLoading$))("suggestions",K.searchSuggestions)("ariaLabelledBy",K.tableToolbarTitleId)}}function j(I,U){if(1&I){const K=e.EpF();e.TgZ(0,"fdp-button",6),e.NdJ("click",function(){e.CHM(K);const O=e.oxw(4);return e.KtG(O._saveRows())}),e.ALo(1,"fdTranslate"),e.qZA()}2&I&&e.Q6J("label",e.lcZ(1,1,"platformTable.toolbarActionSaveButtonLabel"))}function Y(I,U){if(1&I){const K=e.EpF();e.ynx(0),e.YNc(1,j,2,3,"fdp-button",8),e._UZ(2,"fd-toolbar-separator",9),e.TgZ(3,"fdp-button",10),e.NdJ("click",function(){e.CHM(K);const O=e.oxw(3);return e.KtG(O._cancelEditing())}),e.ALo(4,"fdTranslate"),e.qZA(),e.BQk()}if(2&I){const K=e.oxw(3);e.xp6(1),e.Q6J("ngIf",K._showSaveButton),e.xp6(2),e.Q6J("label",e.lcZ(4,2,"platformTable.toolbarActionCancelButtonLabel"))}}function q(I,U){1&I&&e._UZ(0,"fd-toolbar-separator",9)}function k(I,U){if(1&I){const K=e.EpF();e.ynx(0),e.TgZ(1,"fdp-button",6),e.NdJ("click",function(){e.CHM(K);const O=e.oxw(2);return e.KtG(O._addRow())}),e.ALo(2,"fdTranslate"),e.qZA(),e.YNc(3,Y,5,4,"ng-container",2),e.YNc(4,q,1,0,"fd-toolbar-separator",7),e.BQk()}if(2&I){const K=e.oxw(),V=K.sortable,O=K.filterable,L=K.groupable,M=K.columns,N=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"platformTable.toolbarActionCreateButtonLabel")),e.xp6(2),e.Q6J("ngIf",N._showSaveButton),e.xp6(1),e.Q6J("ngIf",N.tableToolbarActionsComponent||V||O||L||M)}}function ee(I,U){1&I&&e.GkF(0)}function le(I,U){if(1&I&&(e.ynx(0),e.YNc(1,ee,1,0,"ng-container",4),e.BQk()),2&I){const K=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",K.tableToolbarActionsComponent.contentTemplateRef)}}function ne(I,U){1&I&&e._UZ(0,"fd-toolbar-separator",9)}function J(I,U){if(1&I){const K=e.EpF();e.ynx(0),e.TgZ(1,"fdp-button",15),e.NdJ("click",function(){e.CHM(K);const O=e.oxw(3);return e.KtG(O._expandAll())}),e.ALo(2,"fdTranslate"),e.ALo(3,"fdTranslate"),e.qZA(),e.TgZ(4,"fdp-button",16),e.NdJ("click",function(){e.CHM(K);const O=e.oxw(3);return e.KtG(O._collapseAll())}),e.ALo(5,"fdTranslate"),e.ALo(6,"fdTranslate"),e.qZA(),e.BQk()}2&I&&(e.xp6(1),e.Q6J("title",e.lcZ(2,4,"platformTable.toolbarActionExpandAllButtonTitle"))("ariaLabel",e.lcZ(3,6,"platformTable.toolbarActionExpandAllButtonTitle")),e.xp6(3),e.Q6J("title",e.lcZ(5,8,"platformTable.toolbarActionCollapseAllButtonTitle"))("ariaLabel",e.lcZ(6,10,"platformTable.toolbarActionCollapseAllButtonTitle")))}function te(I,U){if(1&I){const K=e.EpF();e.TgZ(0,"fdp-button",17),e.NdJ("click",function(){e.CHM(K);const O=e.oxw(3);return e.KtG(O.openSorting())}),e.ALo(1,"fdTranslate"),e.ALo(2,"fdTranslate"),e.qZA()}2&I&&e.Q6J("title",e.lcZ(1,2,"platformTable.toolbarActionSortButtonTitle"))("ariaLabel",e.lcZ(2,4,"platformTable.toolbarActionSortButtonTitle"))}function G(I,U){if(1&I){const K=e.EpF();e.TgZ(0,"fdp-button",18),e.NdJ("click",function(){e.CHM(K);const O=e.oxw(3);return e.KtG(O.openFiltering())}),e.ALo(1,"fdTranslate"),e.ALo(2,"fdTranslate"),e.qZA()}2&I&&e.Q6J("title",e.lcZ(1,2,"platformTable.toolbarActionFilterButtonTitle"))("ariaLabel",e.lcZ(2,4,"platformTable.toolbarActionFilterButtonTitle"))}function w(I,U){if(1&I){const K=e.EpF();e.TgZ(0,"fdp-button",19),e.NdJ("click",function(){e.CHM(K);const O=e.oxw(3);return e.KtG(O.openGrouping())}),e.ALo(1,"fdTranslate"),e.ALo(2,"fdTranslate"),e.qZA()}2&I&&e.Q6J("title",e.lcZ(1,2,"platformTable.toolbarActionGroupButtonTitle"))("ariaLabel",e.lcZ(2,4,"platformTable.toolbarActionGroupButtonTitle"))}function S(I,U){if(1&I){const K=e.EpF();e.TgZ(0,"fdp-button",20),e.NdJ("click",function(){e.CHM(K);const O=e.oxw(3);return e.KtG(O.openColumns())}),e.ALo(1,"fdTranslate"),e.ALo(2,"fdTranslate"),e.qZA()}2&I&&e.Q6J("title",e.lcZ(1,2,"platformTable.toolbarActionColumnsButtonTitle"))("ariaLabel",e.lcZ(2,4,"platformTable.toolbarActionColumnsButtonTitle"))}function A(I,U){if(1&I&&(e.ynx(0),e.YNc(1,ne,1,0,"fd-toolbar-separator",7),e.YNc(2,J,7,12,"ng-container",2),e.YNc(3,te,3,6,"fdp-button",11),e.YNc(4,G,3,6,"fdp-button",12),e.YNc(5,w,3,6,"fdp-button",13),e.YNc(6,S,3,6,"fdp-button",14),e.BQk()),2&I){const K=e.oxw(),V=K.sortable,O=K.filterable,L=K.groupable,M=K.columns,N=e.oxw();e.xp6(1),e.Q6J("ngIf",N.tableToolbarActionsComponent),e.xp6(1),e.Q6J("ngIf",N.showExpandCollapseButtons),e.xp6(1),e.Q6J("ngIf",V),e.xp6(1),e.Q6J("ngIf",O),e.xp6(1),e.Q6J("ngIf",L),e.xp6(1),e.Q6J("ngIf",M)}}function y(I,U){if(1&I&&(e.TgZ(0,"fd-toolbar",0)(1,"h4",1),e._uU(2),e.YNc(3,R,2,1,"span",2),e.qZA(),e.YNc(4,Q,3,2,"ng-container",2),e._UZ(5,"fd-toolbar-spacer"),e.YNc(6,H,3,9,"fdp-search-field",3),e.YNc(7,k,5,5,"ng-container",2),e.YNc(8,le,2,1,"ng-container",2),e.YNc(9,A,7,6,"ng-container",2),e.qZA()),2&I){const K=U.sortable,V=U.filterable,O=U.groupable,L=U.columns,M=e.oxw();e.Q6J("clearBorder",!0)("hasTitle",!!M.title),e.xp6(1),e.Q6J("id",M.tableToolbarTitleId),e.xp6(1),e.hij(" ",M.title," "),e.xp6(1),e.Q6J("ngIf",!M.hideItemCount),e.xp6(1),e.Q6J("ngIf",M._tableToolbarLeftActionsComponent),e.xp6(2),e.Q6J("ngIf",!M.hideSearchInput),e.xp6(1),e.Q6J("ngIf","none"!==M.editMode),e.xp6(1),e.Q6J("ngIf",M.tableToolbarActionsComponent),e.xp6(1),e.Q6J("ngIf",M.showExpandCollapseButtons||K||V||O||L)}}let P=0;class B{constructor(U,K,V){this._cd=U,this._table=K,this._tableService=V,this.hideItemCount=!1,this.hideSearchInput=!1,this.showExpandCollapseButtons=!1,this.searchSuggestions=[],this.editMode="none",this.tableToolbarTitleId="fd-table-toolbar-title-"+P++,this._showSaveButton=!1,this._searchInputText="",this.tableLoading$=this._tableService.tableLoading$,this._onDestroy$=new g.x,this._listenToTableEvents()}ngAfterViewInit(){this._cd.detectChanges()}ngOnDestroy(){this._onDestroy$.next(),this._onDestroy$.complete()}submitSearch(U){this._table.search(U)}openSorting(){this._table.openTableSortSettings.emit()}openFiltering(){this._table.openTableFilterSettings.emit()}openGrouping(){this._table.openTableGroupSettings.emit()}openColumns(){this._table.openTableColumnSettings.emit()}_addRow(){this._table.addRow()}_saveRows(){this._table.saveRows()}_cancelEditing(){this._table.cancelEditing()}_listenToTableEvents(){this._table.emptyRowAdded.pipe((0,t.R)(this._onDestroy$)).subscribe(()=>{this._showSaveButton=!0}),this._table.save.pipe((0,t.R)(this._onDestroy$)).subscribe(()=>{this._showSaveButton=!1}),this._table.cancel.pipe((0,t.R)(this._onDestroy$)).subscribe(()=>{this._showSaveButton=!1}),this._table.presetChanged.pipe((0,t.R)(this._onDestroy$)).subscribe(U=>{this._searchInputText=U.searchInput?.text??""})}_expandAll(){this._table.expandAll()}_collapseAll(){this._table.collapseAll()}}B.\u0275fac=function(U){return new(U||B)(e.Y36(e.sBO),e.Y36(f.i),e.Y36(r.w))},B.\u0275cmp=e.Xpm({type:B,selectors:[["fdp-table-toolbar"]],contentQueries:function(U,K,V){if(1&U&&(e.Suo(V,_.I,5),e.Suo(V,s.n,5)),2&U){let O;e.iGM(O=e.CRH())&&(K.tableToolbarActionsComponent=O.first),e.iGM(O=e.CRH())&&(K._tableToolbarLeftActionsComponent=O.first)}},viewQuery:function(U,K){if(1&U&&e.Gf(e.Rgc,5),2&U){let V;e.iGM(V=e.CRH())&&(K.contentTemplateRef=V.first)}},inputs:{title:"title",hideItemCount:"hideItemCount",hideSearchInput:"hideSearchInput",showExpandCollapseButtons:"showExpandCollapseButtons",searchSuggestions:"searchSuggestions",editMode:"editMode"},features:[e._Bn([{provide:i.Y,useExisting:B}])],decls:1,vars:0,consts:[["fdType","transparent",3,"clearBorder","hasTitle"],[1,"fd-title","fd-title--h4","fd-toolbar__title",3,"id"],[4,"ngIf"],["style","min-width: 15.5rem",3,"placeholder","inputText","disabled","suggestions","ariaLabelledBy","searchSubmit","cancelSearch",4,"ngIf"],[4,"ngTemplateOutlet"],[2,"min-width","15.5rem",3,"placeholder","inputText","disabled","suggestions","ariaLabelledBy","searchSubmit","cancelSearch"],[3,"label","click"],["fd-toolbar-item","",4,"ngIf"],[3,"label","click",4,"ngIf"],["fd-toolbar-item",""],["buttonType","transparent",3,"label","click"],["glyph","sort","buttonType","transparent","aria-haspopup","modal",3,"title","ariaLabel","click",4,"ngIf"],["glyph","filter","buttonType","transparent","aria-haspopup","modal",3,"title","ariaLabel","click",4,"ngIf"],["glyph","group-2","buttonType","transparent","aria-haspopup","modal",3,"title","ariaLabel","click",4,"ngIf"],["glyph","action-settings","buttonType","transparent","aria-haspopup","modal",3,"title","ariaLabel","click",4,"ngIf"],["glyph","expand-all","buttonType","transparent",3,"title","ariaLabel","click"],["glyph","collapse-all","buttonType","transparent",3,"title","ariaLabel","click"],["glyph","sort","buttonType","transparent","aria-haspopup","modal",3,"title","ariaLabel","click"],["glyph","filter","buttonType","transparent","aria-haspopup","modal",3,"title","ariaLabel","click"],["glyph","group-2","buttonType","transparent","aria-haspopup","modal",3,"title","ariaLabel","click"],["glyph","action-settings","buttonType","transparent","aria-haspopup","modal",3,"title","ariaLabel","click"]],template:function(U,K){1&U&&e.YNc(0,y,10,10,"ng-template")},dependencies:[u.O5,u.tP,p.n,h.Q,b.u,c.F,T.r0,v.ri,u.Ov,E.n],encapsulation:2,changeDetection:0})},68556:(W,x,l)=>{l.d(x,{Y:()=>g});const g=new(l(94650).OlP)("PLATFORM_TABLE_TOOLBAR")},41614:(W,x,l)=>{l.d(x,{f:()=>e});const e=`table-filters-not-filtered-option-value-${Math.random().toString().slice(2,5)}`},89277:(W,x,l)=>{l.d(x,{R:()=>r});var e=l(94650),t=(l(6301),l(93957)),_=l(36895);function s(f,u){1&f&&e.GkF(0)}const i=function(f,u,p){return{$implicit:f,valueChangeEmitter:u,contentDensity:p}};class r{set filterBy(u){this._value=u?.value&&"[object Object]"===Object.prototype.toString.call(u?.value)?{...u.value}:{},this._valueLastEmitted={...this._value}}get contentDensity(){return this.contentDensityObserver.value}constructor(u){this.contentDensityObserver=u,this.valueChange=new e.vpe}ngDoCheck(){try{if(JSON.stringify(this._value)===JSON.stringify(this._valueLastEmitted))return;this._valueLastEmitted={...this._value},this.valueChange.emit(this._value)}catch{}}}r.\u0275fac=function(u){return new(u||r)(e.Y36(t.c7))},r.\u0275cmp=e.Xpm({type:r,selectors:[["fdp-filter-custom"]],inputs:{filter:"filter",filterBy:"filterBy"},outputs:{valueChange:"valueChange"},features:[e._Bn([(0,t.EQ)()])],decls:1,vars:6,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(u,p){1&u&&e.YNc(0,s,1,0,"ng-container",0),2&u&&e.Q6J("ngTemplateOutlet",p.filter.customFilterTemplate)("ngTemplateOutletContext",e.kEZ(2,i,p._value,p.valueChange,p.contentDensity))},dependencies:[_.tP],encapsulation:2})},99793:(W,x,l)=>{l.d(x,{I:()=>u});var e=l(94650),g=l(36895),t=l(90433),_=l(67909),s=l(22062),i=l(87792),r=l(3568);function f(p,h){if(1&p){const b=e.EpF();e.TgZ(0,"li",2)(1,"fd-checkbox",3),e.NdJ("ngModelChange",function(T){const E=e.CHM(b).$implicit,R=e.oxw();return e.KtG(R._onSelectChange(E,T))}),e.qZA(),e.TgZ(2,"span",4),e._uU(3),e.qZA()()}if(2&p){const b=h.$implicit;e.Q6J("selected",b.selected),e.xp6(1),e.Q6J("ngModel",b.selected),e.xp6(2),e.Oqu(b.label)}}class u{constructor(){this.options=[],this.valueChange=new e.vpe}set filterBy(h){const b=h?.value||[];this._selectableOptions=this.options.map(c=>({...c,selected:b.includes(c.value)})),this._updateValueBasedOnOptions()}_onSelectChange(h,b){h.selected=b,this._updateValueBasedOnOptions(),this.valueChange.emit(this._value)}_updateValueBasedOnOptions(){this._value=this._selectableOptions.filter(({selected:h})=>h).map(({value:h})=>h)}}u.\u0275fac=function(h){return new(h||u)},u.\u0275cmp=e.Xpm({type:u,selectors:[["fdp-filter-multi-select"]],inputs:{options:"options",filterBy:"filterBy"},outputs:{valueChange:"valueChange"},decls:2,vars:2,consts:[["fd-list","",3,"selection"],["fd-list-item","",3,"selected",4,"ngFor","ngForOf"],["fd-list-item","",3,"selected"],[3,"ngModel","ngModelChange"],["fd-list-title",""]],template:function(h,b){1&h&&(e.TgZ(0,"ul",0),e.YNc(1,f,4,3,"li",1),e.qZA()),2&h&&(e.Q6J("selection",!0),e.xp6(1),e.Q6J("ngForOf",b._selectableOptions))},dependencies:[g.sg,t.JJ,t.On,_.b,s.n,i.G,r.X],encapsulation:2,changeDetection:0})},17007:(W,x,l)=>{l.d(x,{y:()=>h});var e=l(94650),g=l(41614),t=l(36895),_=l(90433),s=l(15203),i=l(22062),r=l(87792),f=l(3568),u=l(27946);function p(b,c){if(1&b){const T=e.EpF();e.TgZ(0,"li",1)(1,"fd-radio-button",5),e.NdJ("ngModelChange",function(E){e.CHM(T);const R=e.oxw();return e.KtG(R._onValueChange(E))}),e.qZA(),e.TgZ(2,"span",3),e._uU(3),e.qZA()()}if(2&b){const T=c.$implicit,v=e.oxw();e.Q6J("selected",T.value===v._value),e.xp6(1),e.Q6J("ngModel",v._value)("value",T.value),e.xp6(2),e.Oqu(T.label)}}class h{constructor(){this.options=[],this.valueChange=new e.vpe,this.NOT_FILTERED_OPTION_VALUE=g.f}set filterBy(c){const T=c?.value?.[0];this._value=void 0===T?g.f:T}_onValueChange(c){c!==this._value&&(this._value=c,this.valueChange.emit(c===g.f?[]:[c]))}}h.\u0275fac=function(c){return new(c||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["fdp-filter-single-select"]],inputs:{options:"options",filterBy:"filterBy"},outputs:{valueChange:"valueChange"},decls:7,vars:8,consts:[["fd-list","",3,"selection"],["fd-list-item","",3,"selected"],["name","sort-by","state","default",3,"value","ngModel","ngModelChange"],["fd-list-title",""],["fd-list-item","",3,"selected",4,"ngFor","ngForOf"],["name","filtering-settings-single-select",3,"ngModel","value","ngModelChange"]],template:function(c,T){1&c&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"fd-radio-button",2),e.NdJ("ngModelChange",function(E){return T._onValueChange(E)}),e.qZA(),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"fdTranslate"),e.qZA()(),e.YNc(6,p,4,4,"li",4),e.qZA()),2&c&&(e.Q6J("selection",!0),e.xp6(1),e.Q6J("selected",T._value===T.NOT_FILTERED_OPTION_VALUE),e.xp6(1),e.Q6J("value",T.NOT_FILTERED_OPTION_VALUE)("ngModel",T._value),e.xp6(2),e.Oqu(e.lcZ(5,6,"platformTable.filterDialogNotFilteredLabel")),e.xp6(2),e.Q6J("ngForOf",T.options))},dependencies:[t.sg,_.JJ,_.On,s._,i.n,r.G,f.X,u.n],encapsulation:2,changeDetection:0})},7537:(W,x,l)=>{l.d(x,{v:()=>j});var e=l(94650),g=l(87291),t=l(61230),s=(l(6301),l(91980)),i=l(36895),r=l(34531),f=l(95002),u=l(17007),p=l(99793),h=l(89277),b=l(27946);const c=["titleTemplate"],T=["bodyTemplate"],v=function(Y){return{filterLabel:Y}};function E(Y,q){if(1&Y){const k=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(k);const le=e.oxw();return e.KtG(le.back.emit())}),e.qZA(),e.TgZ(1,"h4",3),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA()}if(2&Y){const k=e.oxw();e.xp6(1),e.Q6J("headerSize",4),e.xp6(1),e.hij(" ",e.xi3(3,2,"platformTable.filterDialogFilterByLabel",e.VKq(5,v,k.filter.label))," ")}}function R(Y,q){if(1&Y){const k=e.EpF();e.ynx(0),e.TgZ(1,"fdp-filter-single-select",6),e.NdJ("valueChange",function(le){e.CHM(k);const ne=e.oxw(2);return e.KtG(ne._onFilterValueChange(le))}),e.qZA(),e.BQk()}if(2&Y){const k=e.oxw(2);e.xp6(1),e.Q6J("options",k.filter.values)("filterBy",k._filterBy)}}function F(Y,q){if(1&Y){const k=e.EpF();e.ynx(0),e.TgZ(1,"fdp-filter-multi-select",6),e.NdJ("valueChange",function(le){e.CHM(k);const ne=e.oxw(2);return e.KtG(ne._onFilterValueChange(le))}),e.qZA(),e.BQk()}if(2&Y){const k=e.oxw(2);e.xp6(1),e.Q6J("options",k.filter.values)("filterBy",k._filterBy)}}function Z(Y,q){if(1&Y){const k=e.EpF();e.ynx(0),e.TgZ(1,"fdp-filter-custom",7),e.NdJ("valueChange",function(le){e.CHM(k);const ne=e.oxw(2);return e.KtG(ne._onFilterValueChange(le))}),e.qZA(),e.BQk()}if(2&Y){const k=e.oxw(2);e.xp6(1),e.Q6J("filter",k.filter)("filterBy",k._filterBy)}}function Q(Y,q){1&Y&&(e.ynx(0),e._uU(1," Categories list is not implemented "),e.BQk())}function H(Y,q){if(1&Y&&(e.ynx(0,4),e.YNc(1,R,2,2,"ng-container",5),e.YNc(2,F,2,2,"ng-container",5),e.YNc(3,Z,2,2,"ng-container",5),e.YNc(4,Q,2,0,"ng-container",5),e.BQk()),2&Y){const k=e.oxw();e.Q6J("ngSwitch",k.filter.type),e.xp6(1),e.Q6J("ngSwitchCase",k.FILTER_TYPE.SINGLE),e.xp6(1),e.Q6J("ngSwitchCase",k.FILTER_TYPE.MULTI),e.xp6(1),e.Q6J("ngSwitchCase",k.FILTER_TYPE.CUSTOM),e.xp6(1),e.Q6J("ngSwitchCase",k.FILTER_TYPE.CATEGORY)}}class j{constructor(){this.back=new e.vpe,this.valueChange=new e.vpe,this.FILTER_TYPE=g.v}set filterBy(q){this._filterBy=q.find(({field:k})=>k===this.columnKey)}_onFilterValueChange(q){const ee={...this._filterBy||{field:this.columnKey,value:null,strategy:t.dh.EQ,exclude:!1},value:q};this.valueChange.emit(ee)}}j.\u0275fac=function(q){return new(q||j)},j.\u0275cmp=e.Xpm({type:j,selectors:[["fdp-filter-step"]],viewQuery:function(q,k){if(1&q&&(e.Gf(c,5),e.Gf(T,5)),2&q){let ee;e.iGM(ee=e.CRH())&&(k.titleTemplateRef=ee.first),e.iGM(ee=e.CRH())&&(k.bodyTemplateRef=ee.first)}},inputs:{filter:"filter",columnKey:"columnKey",contentDensity:"contentDensity",filterBy:"filterBy"},outputs:{back:"back",valueChange:"valueChange"},features:[e._Bn([{provide:s.U,useExisting:(0,e.Gpc)(()=>j)}])],decls:4,vars:0,consts:[["titleTemplate",""],["bodyTemplate",""],["fd-button","","fdType","transparent","glyph","navigation-left-arrow",3,"click"],["fd-title","",3,"headerSize"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"options","filterBy","valueChange"],[3,"filter","filterBy","valueChange"]],template:function(q,k){1&q&&(e.YNc(0,E,4,7,"ng-template",null,0,e.W1O),e.YNc(2,H,5,5,"ng-template",null,1,e.W1O))},dependencies:[i.RF,i.n9,r.r,f.r,u.y,p.I,h.R,b.n],encapsulation:2,changeDetection:0})},91980:(W,x,l)=>{l.d(x,{U:()=>g});const g=new(l(94650).OlP)("FiltersViewStep")},74183:(W,x,l)=>{l.d(x,{i:()=>E});var e=l(94650),g=l(91980),t=l(36895),_=l(22062),s=l(87792),i=l(3568),r=l(7814),f=l(58188),u=l(95002),p=l(27946);const h=["titleTemplate"],b=["bodyTemplate"];function c(R,F){1&R&&(e.TgZ(0,"h4",2),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&R&&(e.Q6J("headerSize",4),e.xp6(1),e.Oqu(e.lcZ(2,2,"platformTable.filterDialogFilterTitle")))}function T(R,F){if(1&R){const Z=e.EpF();e.TgZ(0,"li",6)(1,"a",7),e.NdJ("click",function(){const j=e.CHM(Z).$implicit,Y=e.oxw(2);return e.KtG(Y.selectFilter.emit(j))}),e.TgZ(2,"span",8),e._uU(3),e.qZA()()()}if(2&R){const Z=F.$implicit;e.xp6(3),e.Oqu(Z.label)}}function v(R,F){if(1&R&&(e.TgZ(0,"ul",3)(1,"li",4),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA(),e.YNc(4,T,4,1,"li",5),e.qZA()),2&R){const Z=e.oxw();e.Q6J("navigationIndicator",!0),e.xp6(2),e.Oqu(e.lcZ(3,3,"platformTable.filterDialogFilterBy")),e.xp6(2),e.Q6J("ngForOf",Z.filters)}}class E{constructor(){this.filters=[],this.selectFilter=new e.vpe}}E.\u0275fac=function(F){return new(F||E)},E.\u0275cmp=e.Xpm({type:E,selectors:[["fdp-filters-list-step"]],viewQuery:function(F,Z){if(1&F&&(e.Gf(h,5),e.Gf(b,5)),2&F){let Q;e.iGM(Q=e.CRH())&&(Z.titleTemplateRef=Q.first),e.iGM(Q=e.CRH())&&(Z.bodyTemplateRef=Q.first)}},inputs:{filters:"filters"},outputs:{selectFilter:"selectFilter"},features:[e._Bn([{provide:g.U,useExisting:(0,e.Gpc)(()=>E)}])],decls:4,vars:0,consts:[["titleTemplate",""],["bodyTemplate",""],["fd-title","",3,"headerSize"],["fd-list","",3,"navigationIndicator"],["fd-list-group-header",""],["fd-list-item","",4,"ngFor","ngForOf"],["fd-list-item",""],["fd-list-link","",3,"click"],["fd-list-title",""]],template:function(F,Z){1&F&&(e.YNc(0,c,3,4,"ng-template",null,0,e.W1O),e.YNc(2,v,5,5,"ng-template",null,1,e.W1O))},dependencies:[t.sg,_.n,s.G,i.X,r.K,f.D,u.r,p.n],encapsulation:2,changeDetection:0})},83746:(W,x,l)=>{l.d(x,{b:()=>te});var e=l(94650),g=l(76829),t=l.n(g),_=l(61135),s=l(91551),i=l(87291),r=l(9966),f=l(91980),u=l(40978),p=l(36895),h=l(93839),b=l(71497),c=l(85677),T=l(45277),v=l(5474),E=l(47551),R=l(33201),F=l(85728),Z=l(97039),Q=l(56569),H=l(74183),j=l(7537),Y=l(27946);function q(G,w){if(1&G&&e.GkF(0,8),2&G){const S=e.oxw(2);e.Q6J("ngTemplateOutlet",S.activeFilterStepView.titleTemplateRef)}}function k(G,w){if(1&G&&(e.TgZ(0,"div",6)(1,"fd-bar-element"),e.YNc(2,q,1,1,"ng-container",1),e.qZA()(),e.TgZ(3,"div",7)(4,"fd-bar-element"),e._UZ(5,"fdp-table-reset-button"),e.qZA()()),2&G){const S=e.oxw();e.xp6(2),e.Q6J("ngIf",null==S.activeFilterStepView?null:S.activeFilterStepView.titleTemplateRef)}}function ee(G,w){if(1&G&&e.GkF(0,8),2&G){const S=e.oxw();e.Q6J("ngTemplateOutlet",S.activeFilterStepView.bodyTemplateRef)}}function le(G,w){if(1&G){const S=e.EpF();e.ynx(0),e.TgZ(1,"fdp-filters-list-step",9),e.NdJ("selectFilter",function(y){e.CHM(S);const P=e.oxw();return e.KtG(P.selectFilter(y))}),e.qZA(),e.BQk()}if(2&G){const S=e.oxw();e.xp6(1),e.Q6J("filters",S.viewSettingsFilters)}}function ne(G,w){if(1&G){const S=e.EpF();e.ynx(0),e.TgZ(1,"fdp-filter-step",10),e.NdJ("back",function(){e.CHM(S);const y=e.oxw();return e.KtG(y.goToFilters())})("valueChange",function(y){e.CHM(S);const P=e.oxw();return e.KtG(P.applyFilter(y,P.activeFilter))}),e.qZA(),e.BQk()}if(2&G){const S=e.oxw();e.xp6(1),e.Q6J("columnKey",S.activeFilterColumnKey)("filter",S.activeFilter)("filterBy",S.filterBy)}}var J=(()=>{return(G=J||(J={})).SELECT_FILTER="SELECT_FILTER",G.FILTER="FILTER",J;var G})();class te{set setActiveFilterStepView(w){this.activeFilterStepView=w,this._cd.detectChanges()}constructor(w,S,A){this.dialogRef=w,this._cd=S,this._table=A,this.ACTIVE_STEP=J,this.activeStep=J.SELECT_FILTER,this.activeFilter=null,this.activeFilterColumnKey=null,this._isResetAvailableSubject$=new _.X(!1),this.isResetAvailable$=this._isResetAvailableSubject$.asObservable(),this._initialFilters=[];const y=this.dialogRef.data;this.filterBy=[...y.filterBy],this.viewSettingsFilters=y.viewSettingsFilters,this.columns=y.columns,this._setInitialFilters(),this._compareSelectedFilters()}ngAfterViewInit(){this._cd.detectChanges()}selectFilter(w){this.activeStep=J.FILTER,this.activeFilter=w,this.activeFilterColumnKey=this.columns.find(({name:S})=>S===w.column)?.key,this._cd.detectChanges()}goToFilters(){this.activeStep=J.SELECT_FILTER,this.activeFilter=null}applyFilter(w,{type:S}){w&&(this.filterBy=this.filterBy.filter(({field:y})=>y!==w.field),(S===i.v.CUSTOM||S===i.v.MULTI&&w.value?.length||S===i.v.SINGLE&&w.value?.length)&&this.filterBy.push(w),this._compareSelectedFilters(),this._cd.detectChanges())}reset(){this.filterBy=this._initialFilters,this._isResetAvailableSubject$.next(!1),this._cd.detectChanges()}cancel(){this.dialogRef.close(null)}confirm(){this.dialogRef.close({filterBy:this.filterBy})}_setInitialFilters(){this._initialFilters=this._table.initialFilterBy??[]}_compareSelectedFilters(){t()(this._initialFilters,this.filterBy)||this._isResetAvailableSubject$.next(!0)}}te.\u0275fac=function(w){return new(w||te)(e.Y36(s.zj),e.Y36(e.sBO),e.Y36(u.i))},te.\u0275cmp=e.Xpm({type:te,selectors:[["ng-component"]],viewQuery:function(w,S){if(1&w&&e.Gf(f.U,5),2&w){let A;e.iGM(A=e.CRH())&&(S.setActiveFilterStepView=A.first)}},features:[e._Bn([{provide:r.u,useExisting:(0,e.Gpc)(()=>te)}])],decls:13,vars:10,consts:[["fdkTemplate","header"],[3,"ngTemplateOutlet",4,"ngIf"],["fdType","emphasized",3,"label","click"],["fdkInitialFocus","",3,"label","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["fd-bar-left",""],["fd-bar-right",""],[3,"ngTemplateOutlet"],[3,"filters","selectFilter"],[3,"columnKey","filter","filterBy","back","valueChange"]],template:function(w,S){1&w&&(e.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),e.YNc(2,k,6,1,"ng-template",0),e.qZA(),e.TgZ(3,"fd-dialog-body"),e.YNc(4,ee,1,1,"ng-container",1),e.qZA(),e.TgZ(5,"fd-dialog-footer")(6,"fd-button-bar",2),e.NdJ("click",function(){return S.confirm()}),e.ALo(7,"fdTranslate"),e.qZA(),e.TgZ(8,"fd-button-bar",3),e.NdJ("click",function(){return S.cancel()}),e.ALo(9,"fdTranslate"),e.qZA()()(),e.ynx(10,4),e.YNc(11,le,2,1,"ng-container",5),e.YNc(12,ne,2,3,"ng-container",5),e.BQk()),2&w&&(e.xp6(4),e.Q6J("ngIf",null==S.activeFilterStepView?null:S.activeFilterStepView.bodyTemplateRef),e.xp6(2),e.Q6J("label",e.lcZ(7,6,"platformTable.filterDialogConfirmBtnLabel")),e.xp6(2),e.Q6J("label",e.lcZ(9,8,"platformTable.filterDialogCancelBtnLabel")),e.xp6(2),e.Q6J("ngSwitch",S.activeStep),e.xp6(1),e.Q6J("ngSwitchCase",S.ACTIVE_STEP.SELECT_FILTER),e.xp6(1),e.Q6J("ngSwitchCase",S.ACTIVE_STEP.FILTER))},dependencies:[p.O5,p.tP,p.RF,p.n9,h.a,b.H,c.g,T.A,v.b,E.M,R.J,F.N,Z.S,Q.N,H.i,j.v,r.x,Y.n],encapsulation:2,changeDetection:0})},5798:(W,x,l)=>{l.d(x,{D:()=>w});var e=l(94650),g=l(76829),t=l.n(g),_=l(61135),s=l(91551),i=l(34537),r=l(9966),f=l(40978),u=l(36895),p=l(90433),h=l(15203),b=l(22062),c=l(87792),T=l(3568),v=l(7814),E=l(93839),R=l(71497),F=l(85677),Z=l(45277),Q=l(5474),H=l(47551),j=l(33201),Y=l(85728),q=l(95002),k=l(97039),ee=l(56569),le=l(27946);function ne(S,A){1&S&&(e.TgZ(0,"div",11)(1,"fd-bar-element")(2,"h4",12),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()(),e.TgZ(5,"div",13)(6,"fd-bar-element"),e._UZ(7,"fdp-table-reset-button"),e.qZA()()),2&S&&(e.xp6(2),e.Q6J("headerSize",4),e.xp6(1),e.Oqu(e.lcZ(4,2,"platformTable.groupDialogHeader")))}function J(S,A){if(1&S){const y=e.EpF();e.TgZ(0,"li",4)(1,"fd-radio-button",7),e.NdJ("ngModelChange",function(B){e.CHM(y);const I=e.oxw();return e.KtG(I._groupFieldChange(B))}),e.qZA(),e.TgZ(2,"span",3),e._uU(3),e.qZA()()}if(2&S){const y=A.$implicit,P=e.oxw();e.Q6J("selected",y.key===P.field),e.xp6(1),e.Q6J("value",y.key)("ngModel",P.field),e.xp6(2),e.Oqu(y.label)}}const G=i.S.ASC;class w{constructor(A,y){this.dialogRef=A,this._table=y,this.field=null,this.columns=[],this._isResetAvailableSubject$=new _.X(!1),this.isResetAvailable$=this._isResetAvailableSubject$.asObservable(),this.SORT_DIRECTION=i.S,this.NOT_GROUPED_OPTION_VALUE=null;const P=this.dialogRef.data;this.columns=P.columns||[],this.direction=P.direction??G,this.field=P.field??null,this._setInitialGrouping(),this._compareInitialGrouping()}reset(){this.direction=this._initialGrouping.direction,this.field=this._initialGrouping.field,this._isResetAvailableSubject$.next(!1)}cancel(){this.dialogRef.close(null)}confirm(){this.dialogRef.close({field:this.field,direction:this.direction})}_groupOrderChange(A){this.direction=A,this._onModelChange()}_groupFieldChange(A){this.field=A,this._onModelChange()}_onModelChange(){this._isResetAvailableSubject$.next(this.direction!==this._initialGrouping.direction||this.field!==this._initialGrouping.field)}_setInitialGrouping(){const A=(this._table.initialGroupBy||[])[0];this._initialGrouping={field:A?.field??null,direction:A?.direction??G}}_compareInitialGrouping(){const A={field:this.field,direction:this.direction};t()(this._initialGrouping,A)||this._isResetAvailableSubject$.next(!0)}}w.\u0275fac=function(A){return new(A||w)(e.Y36(s.zj),e.Y36(f.i))},w.\u0275cmp=e.Xpm({type:w,selectors:[["ng-component"]],features:[e._Bn([{provide:r.u,useExisting:(0,e.Gpc)(()=>w)}])],decls:35,vars:31,consts:[["fdkTemplate","header"],["fd-list","",3,"selection"],["fd-list-group-header",""],["fd-list-title",""],["fd-list-item","",3,"selected"],["name","sort-order","value","asc","state","default",3,"ngModel","ngModelChange"],["name","sort-order","value","desc","state","default",3,"ngModel","ngModelChange"],["name","sort-by","state","default",3,"value","ngModel","ngModelChange"],["fd-list-item","",3,"selected",4,"ngFor","ngForOf"],["fdType","emphasized",3,"label","click"],["fdkInitialFocus","",3,"label","click"],["fd-bar-left",""],["fd-title","",3,"headerSize"],["fd-bar-right",""]],template:function(A,y){1&A&&(e.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),e.YNc(2,ne,8,4,"ng-template",0),e.qZA(),e.TgZ(3,"fd-dialog-body")(4,"ul",1)(5,"li",2)(6,"span",3),e._uU(7),e.ALo(8,"fdTranslate"),e.qZA()(),e.TgZ(9,"li",4)(10,"fd-radio-button",5),e.NdJ("ngModelChange",function(B){return y._groupOrderChange(B)}),e.qZA(),e.TgZ(11,"span",3),e._uU(12),e.ALo(13,"fdTranslate"),e.qZA()(),e.TgZ(14,"li",4)(15,"fd-radio-button",6),e.NdJ("ngModelChange",function(B){return y._groupOrderChange(B)}),e.qZA(),e.TgZ(16,"span",3),e._uU(17),e.ALo(18,"fdTranslate"),e.qZA()()(),e.TgZ(19,"ul",1)(20,"li",2)(21,"span",3),e._uU(22),e.ALo(23,"fdTranslate"),e.qZA()(),e.TgZ(24,"li",4)(25,"fd-radio-button",7),e.NdJ("ngModelChange",function(B){return y._groupFieldChange(B)}),e.qZA(),e.TgZ(26,"span",3),e._uU(27),e.ALo(28,"fdTranslate"),e.qZA()(),e.YNc(29,J,4,4,"li",8),e.qZA()(),e.TgZ(30,"fd-dialog-footer")(31,"fd-button-bar",9),e.NdJ("click",function(){return y.confirm()}),e.ALo(32,"fdTranslate"),e.qZA(),e.TgZ(33,"fd-button-bar",10),e.NdJ("click",function(){return y.cancel()}),e.ALo(34,"fdTranslate"),e.qZA()()()),2&A&&(e.xp6(4),e.Q6J("selection",!0),e.xp6(3),e.Oqu(e.lcZ(8,17,"platformTable.groupDialogGroupOrderHeader")),e.xp6(2),e.Q6J("selected",y.direction===y.SORT_DIRECTION.ASC),e.xp6(1),e.Q6J("ngModel",y.direction),e.xp6(2),e.Oqu(e.lcZ(13,19,"platformTable.groupDialogGroupOrderAsc")),e.xp6(2),e.Q6J("selected",y.direction===y.SORT_DIRECTION.DESC),e.xp6(1),e.Q6J("ngModel",y.direction),e.xp6(2),e.Oqu(e.lcZ(18,21,"platformTable.groupDialogGroupOrderDesc")),e.xp6(2),e.Q6J("selection",!0),e.xp6(3),e.Oqu(e.lcZ(23,23,"platformTable.groupDialogGroupByHeader")),e.xp6(2),e.Q6J("selected",y.NOT_GROUPED_OPTION_VALUE===y.field),e.xp6(1),e.Q6J("value",y.NOT_GROUPED_OPTION_VALUE)("ngModel",y.field),e.xp6(2),e.Oqu(e.lcZ(28,25,"platformTable.groupDialogNotGroupedLabel")),e.xp6(2),e.Q6J("ngForOf",y.columns),e.xp6(2),e.Q6J("label",e.lcZ(32,27,"platformTable.groupDialogConfirmBtnLabel")),e.xp6(2),e.Q6J("label",e.lcZ(34,29,"platformTable.groupDialogCancelBtnLabel")))},dependencies:[u.sg,p.JJ,p.On,h._,b.n,c.G,T.X,v.K,E.a,R.H,F.g,Z.A,Q.b,H.M,j.J,Y.N,q.r,k.S,ee.N,r.x,le.n],encapsulation:2,changeDetection:0})},51599:(W,x,l)=>{l.d(x,{i:()=>S});var e=l(94650),g=l(76829),t=l.n(g),_=l(61135),s=l(91551),i=l(34537),r=l(9966),f=l(40978),u=l(36895),p=l(90433),h=l(15203),b=l(22062),c=l(87792),T=l(3568),v=l(7814),E=l(93839),R=l(71497),F=l(85677),Z=l(45277),Q=l(5474),H=l(47551),j=l(33201),Y=l(85728),q=l(95002),k=l(97039),ee=l(56569),le=l(27946);function ne(A,y){1&A&&(e.TgZ(0,"div",11)(1,"fd-bar-element")(2,"h4",12),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()(),e.TgZ(5,"div",13)(6,"fd-bar-element"),e._UZ(7,"fdp-table-reset-button"),e.qZA()()),2&A&&(e.xp6(2),e.Q6J("headerSize",4),e.xp6(1),e.Oqu(e.lcZ(4,2,"platformTable.sortDialogHeader")))}function J(A,y){if(1&A){const P=e.EpF();e.TgZ(0,"li",4)(1,"fd-radio-button",14),e.NdJ("ngModelChange",function(I){e.CHM(P);const U=e.oxw();return e.KtG(U._sortFieldChange(I))}),e.qZA(),e.TgZ(2,"span",3),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()}if(2&A){const P=e.oxw();e.Q6J("selected",P.field===P.NOT_SORTED_OPTION_VALUE),e.xp6(1),e.Q6J("value",P.NOT_SORTED_OPTION_VALUE)("ngModel",P.field),e.xp6(2),e.Oqu(e.lcZ(4,4,"platformTable.sortDialogNotSortedLabel"))}}function te(A,y){if(1&A){const P=e.EpF();e.TgZ(0,"li",4)(1,"fd-radio-button",14),e.NdJ("ngModelChange",function(I){e.CHM(P);const U=e.oxw();return e.KtG(U._sortFieldChange(I))}),e.qZA(),e._UZ(2,"span",15),e.qZA()}if(2&A){const P=y.$implicit,B=e.oxw();e.Q6J("selected",P.key===B.field),e.xp6(1),e.Q6J("value",P.key)("ngModel",B.field),e.xp6(1),e.Q6J("innerText",P.label)}}const G=null,w=i.S.ASC;class S{constructor(y,P){this.dialogRef=y,this._table=P,this.columns=[],this._isResetAvailableSubject$=new _.X(!1),this.isResetAvailable$=this._isResetAvailableSubject$.asObservable(),this.SORT_DIRECTION=i.S,this.NOT_SORTED_OPTION_VALUE=G;const B=this.dialogRef.data;this.columns=B.columns||[],this.direction=B.direction??w,this.field=B.field??G,this.allowDisablingSorting=B.allowDisablingSorting,this._setInitialSorting(),this._compareInitialSorting()}reset(){this.direction=this._initialSorting.direction,this.field=this._initialSorting.field,this._isResetAvailableSubject$.next(!1)}cancel(){this.dialogRef.close(null)}confirm(){this.dialogRef.close({direction:this.direction,field:this.field})}_sortDirectionChange(y){this.direction=y,this._onModelChange()}_sortFieldChange(y){this.field=y,this._onModelChange()}_onModelChange(){this._isResetAvailableSubject$.next(this.direction!==this._initialSorting.direction||this.field!==this._initialSorting.field)}_setInitialSorting(){const y=(this._table.initialSortBy||[])[0];this._initialSorting={field:y?.field??G,direction:y?.direction??w}}_compareInitialSorting(){const y={field:this.field,direction:this.direction};t()(this._initialSorting,y)||this._isResetAvailableSubject$.next(!0)}}S.\u0275fac=function(y){return new(y||S)(e.Y36(s.zj),e.Y36(f.i))},S.\u0275cmp=e.Xpm({type:S,selectors:[["ng-component"]],features:[e._Bn([{provide:r.u,useExisting:(0,e.Gpc)(()=>S)}])],decls:31,vars:26,consts:[["fdkTemplate","header"],["fd-list","",3,"selection"],["fd-list-group-header",""],["fd-list-title",""],["fd-list-item","",3,"selected"],["name","sort-order","value","asc","state","default",3,"ngModel","ngModelChange"],["name","sort-order","value","desc","state","default",3,"ngModel","ngModelChange"],["fd-list-item","",3,"selected",4,"ngIf"],["fd-list-item","",3,"selected",4,"ngFor","ngForOf"],["fdType","emphasized",3,"label","click"],["fdkInitialFocus","",3,"label","click"],["fd-bar-left",""],["fd-title","",3,"headerSize"],["fd-bar-right",""],["name","sort-by","state","default",3,"value","ngModel","ngModelChange"],["fd-list-title","",3,"innerText"]],template:function(y,P){1&y&&(e.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),e.YNc(2,ne,8,4,"ng-template",0),e.qZA(),e.TgZ(3,"fd-dialog-body")(4,"ul",1)(5,"li",2)(6,"span",3),e._uU(7),e.ALo(8,"fdTranslate"),e.qZA()(),e.TgZ(9,"li",4)(10,"fd-radio-button",5),e.NdJ("ngModelChange",function(I){return P._sortDirectionChange(I)}),e.qZA(),e.TgZ(11,"span",3),e._uU(12),e.ALo(13,"fdTranslate"),e.qZA()(),e.TgZ(14,"li",4)(15,"fd-radio-button",6),e.NdJ("ngModelChange",function(I){return P._sortDirectionChange(I)}),e.qZA(),e.TgZ(16,"span",3),e._uU(17),e.ALo(18,"fdTranslate"),e.qZA()()(),e.TgZ(19,"ul",1)(20,"li",2)(21,"span",3),e._uU(22),e.ALo(23,"fdTranslate"),e.qZA()(),e.YNc(24,J,5,6,"li",7),e.YNc(25,te,3,4,"li",8),e.qZA()(),e.TgZ(26,"fd-dialog-footer")(27,"fd-button-bar",9),e.NdJ("click",function(){return P.confirm()}),e.ALo(28,"fdTranslate"),e.qZA(),e.TgZ(29,"fd-button-bar",10),e.NdJ("click",function(){return P.cancel()}),e.ALo(30,"fdTranslate"),e.qZA()()()),2&y&&(e.xp6(4),e.Q6J("selection",!0),e.xp6(3),e.Oqu(e.lcZ(8,14,"platformTable.sortDialogSortOrderHeader")),e.xp6(2),e.Q6J("selected",P.direction===P.SORT_DIRECTION.ASC),e.xp6(1),e.Q6J("ngModel",P.direction),e.xp6(2),e.Oqu(e.lcZ(13,16,"platformTable.sortDialogSortOrderAsc")),e.xp6(2),e.Q6J("selected",P.direction===P.SORT_DIRECTION.DESC),e.xp6(1),e.Q6J("ngModel",P.direction),e.xp6(2),e.Oqu(e.lcZ(18,18,"platformTable.sortDialogSortOrderDesc")),e.xp6(2),e.Q6J("selection",!0),e.xp6(3),e.Oqu(e.lcZ(23,20,"platformTable.sortDialogSortByHeader")),e.xp6(2),e.Q6J("ngIf",P.allowDisablingSorting),e.xp6(1),e.Q6J("ngForOf",P.columns),e.xp6(2),e.Q6J("label",e.lcZ(28,22,"platformTable.sortDialogConfirmBtnLabel")),e.xp6(2),e.Q6J("label",e.lcZ(30,24,"platformTable.sortDialogCancelBtnLabel")))},dependencies:[u.sg,u.O5,p.JJ,p.On,h._,b.n,c.G,T.X,v.K,E.a,R.H,F.g,Z.A,Q.b,H.M,j.J,Y.N,q.r,k.S,ee.N,r.x,le.n],encapsulation:2,changeDetection:0})},25309:(W,x,l)=>{l.d(x,{j:()=>h});var e=l(50727),g=l(39300),t=l(68675),_=l(91551),s=l(83746),i=l(5798),r=l(51599),f=l(6301),u=l(94650);const p={responsivePadding:!1,verticalPadding:!1,minWidth:"30%",bodyMinHeight:"calc(50vh - 88px)"};class h{set table(c){this._setTable(c)}get table(){return this._table}constructor(c){this._dialogService=c,this.allowDisablingSorting=!0,this._subscriptions=new e.w0,this._tableSubscriptions=new e.w0}ngAfterViewInit(){this._listenToFilters()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._unsubscribeFromTable()}showSortingSettings(){const c=this._getTableState(),T=this._getTableColumns(),v=c.sortBy?.[0],E={columns:T.filter(({sortable:F})=>F),direction:v?.direction,field:v?.field,allowDisablingSorting:this.allowDisablingSorting},R=this._dialogService.open(r.i,{...p,data:E},this.table.injector);this._subscriptions.add(R.afterClosed.pipe((0,g.h)(F=>!!F)).subscribe(({field:F,direction:Z})=>{this._applySorting(F,Z)}))}showFilteringSettings(){const c=this._getTableState(),v={columns:this._getTableColumns(),viewSettingsFilters:this.filters.toArray(),filterBy:c?.filterBy},E=this._dialogService.open(s.b,{...p,data:v},this.table.injector);this._subscriptions.add(E.afterClosed.pipe((0,g.h)(R=>!!R)).subscribe(({filterBy:R})=>this._applyFiltering(R)))}showGroupingSettings(){const c=this._getTableState(),v={columns:this._getTableColumns().filter(({groupable:R})=>R),direction:c.groupBy?.[0]?.direction,field:c.groupBy?.[0]?.field},E=this._dialogService.open(i.D,{...p,data:v},this.table.injector);this._subscriptions.add(E.afterClosed.pipe((0,g.h)(R=>!!R)).subscribe(({field:R,direction:F})=>{this._applyGrouping(R,F)}))}_listenToFilters(){this.filters.changes.pipe((0,t.O)(null)).subscribe(()=>{this._table?.showFilterSettingsInToolbar(this.filters.toArray().length>0)})}_setTable(c){this._table=c,this._unsubscribeFromTable(),this._subscribeToTable()}_subscribeToTable(){this._table&&(this._listenToTableTriggersToOpenDialogs(),this._listenToTableColumns())}_listenToTableTriggersToOpenDialogs(){this._tableSubscriptions.add(this._table.openTableSortSettings.subscribe(()=>this.showSortingSettings())),this._tableSubscriptions.add(this._table.openTableFilterSettings.subscribe(()=>this.showFilteringSettings())),this._tableSubscriptions.add(this._table.openTableGroupSettings.subscribe(()=>this.showGroupingSettings()))}_listenToTableColumns(){this._tableSubscriptions.add(this._table.tableColumnsStream.subscribe(c=>{this._table?.showSortSettingsInToolbar(c.some(({sortable:T})=>T)),this._table?.showGroupSettingsInToolbar(c.some(({groupable:T})=>T))}))}_getTableState(){return this._table?.getTableState()}_getTableColumns(){return this._table?.getTableColumns()||[]}_applySorting(c,T){this._table?.sort(c?[{field:c,direction:T}]:[])}_applyFiltering(c){this._table?.filter(c)}_applyGrouping(c,T){this._table?.group(c?[{field:c,direction:T,showAsColumn:!0}]:[])}_unsubscribeFromTable(){this._tableSubscriptions.unsubscribe(),this._tableSubscriptions=new e.w0}}h.\u0275fac=function(c){return new(c||h)(u.Y36(_.xA))},h.\u0275cmp=u.Xpm({type:h,selectors:[["fdp-table-view-settings-dialog"]],contentQueries:function(c,T,v){if(1&c&&u.Suo(v,f.w,4),2&c){let E;u.iGM(E=u.CRH())&&(T.filters=E)}},inputs:{table:"table",allowDisablingSorting:"allowDisablingSorting"},decls:0,vars:0,template:function(c,T){},encapsulation:2,changeDetection:0})},6301:(W,x,l)=>{l.d(x,{w:()=>t});var e=l(51370),g=l(94650);class t{set _filterCustomDef(s){this.customFilterTemplate=s?.templateRef}}t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["fdp-table-view-settings-filter"]],contentQueries:function(s,i,r){if(1&s&&g.Suo(r,e.S,5),2&s){let f;g.iGM(f=g.CRH())&&(i._filterCustomDef=f.first)}},inputs:{column:"column",label:"label",type:"type",values:"values"},decls:0,vars:0,template:function(s,i){},encapsulation:2,changeDetection:0})},88293:(W,x,l)=>{l.d(x,{H8:()=>s,Rh:()=>r,dN:()=>p,m6:()=>u,p2:()=>f,vk:()=>_,xK:()=>i});var e=l(93957);const _={sortBy:[],filterBy:[],groupBy:[],page:{pageSize:0,currentPage:1},columns:[],columnKeys:[],freezeToColumn:null,freezeToEndColumn:null,searchInput:{text:"",category:""}},s="semantic",i="information",r=6,f=new Map([[e.J3.COZY,44],[e.J3.COMPACT,32],[e.J3.CONDENSED,32]]),u=50,p=new Map([[e.J3.COZY,44],[e.J3.COMPACT,32],[e.J3.CONDENSED,24]])},4846:(W,x,l)=>{l.d(x,{H:()=>y});var e=l(12559),g=l.n(e),s=(l(85554),l(9966),l(21370)),S=(l(30766),l(34858),l(13295),l(31919),l(29436),l(55747),l(61436),l(41330),l(35435),l(73938),l(4949),l(17375),l(68556),l(18278),l(73486),l(25309),l(6301),l(41614),l(89277),l(99793),l(17007),l(7537),l(91980),l(74183),l(83746),l(5798),l(51599),l(88901)),A=l(94650);class y{set breakpoints(B){g()(B,this._breakpoints)||!this._column||(this._breakpoints=B,this._responsiveTableService.registerResponsiveColumn(this._column,this._breakpoints))}get breakpoints(){return this._breakpoints}constructor(B,I){this._responsiveTableService=B,this._column=I,this._breakpoints={}}}y.\u0275fac=function(B){return new(B||y)(A.Y36(S.x),A.Y36(s.D,8))},y.\u0275dir=A.lG2({type:y,selectors:[["","fdpTableColumnResponsive",""]],inputs:{breakpoints:["fdpTableColumnResponsive","breakpoints"]}})},43795:(W,x,l)=>{l.d(x,{K:()=>s});var e=l(60505),g=l(10665),t=l(94650);class s{set resizableSide(r){r&&(this._resizableSide=r)}get _isRtl(){return this._rtlService?.rtl.getValue()}constructor(r,f,u){this._elRef=r,this._tableColumnResizeService=f,this._rtlService=u,this._resizableSide="both"}ngAfterViewInit(){null!=this.columnName&&this._tableColumnResizeService?.registerColumnCell(this.columnName,this._elRef)}ngOnDestroy(){this._tableColumnResizeService?.unregisterColumnCell(this.columnName,this._elRef)}_onFocus(){this._tableColumnResizeService.setInitialResizerPosition(0,this.columnName)}_onMouseMove(r){if(!this._tableColumnResizeService||this._tableColumnResizeService.resizeInProgress)return;const f=this._getResizer(r);f?this._tableColumnResizeService.setInitialResizerPosition(f.resizerPosition,f.resizedColumn):this._tableColumnResizeService.setInitialResizerPosition(0,this.columnName)}_getResizer(r){const f=this._elRef.nativeElement,u=f.getBoundingClientRect();let p,h;return(this._isRtl?u.right-r.clientX<4:r.clientX-u.left<4)&&"end"!==this._resizableSide&&(p=this._isRtl?f.parentElement.offsetWidth-(f.offsetLeft+f.offsetWidth):f.offsetLeft,h=this._tableColumnResizeService.getPreviousColumnName(this.columnName)),(this._isRtl?r.clientX-u.left<4:u.right-r.clientX<4)&&"start"!==this._resizableSide&&(p=this._isRtl?f.parentElement.offsetWidth-f.offsetLeft:f.offsetLeft+f.offsetWidth,h=this.columnName),h?{resizerPosition:p,resizedColumn:h}:null}}s.\u0275fac=function(r){return new(r||s)(t.Y36(t.SBq),t.Y36(g.o),t.Y36(e.qFd,8))},s.\u0275dir=t.lG2({type:s,selectors:[["","fdpTableCellResizable",""]],hostBindings:function(r,f){1&r&&t.NdJ("focus",function(){return f._onFocus()})("mousemove",function(p){return f._onMouseMove(p)})},inputs:{resizableSide:["fdpTableCellResizable","resizableSide"],columnName:"columnName"}})},16856:(W,x,l)=>{l.d(x,{k:()=>_});var e=l(29521),g=l(60505),t=l(94650);class _{onKeyDown(i){g.yS$.isKeyCode(i,e.L_)&&i.preventDefault()}}_.\u0275fac=function(i){return new(i||_)},_.\u0275dir=t.lG2({type:_,selectors:[["","fdTableCellSelectable",""],["","fd-table-cell-selectable",""]],hostBindings:function(i,r){1&i&&t.NdJ("keydown",function(u){return r.onKeyDown(u)})}})},74092:(W,x,l)=>{l.d(x,{W4:()=>i,tY:()=>_,y_:()=>s,yd:()=>r});var e=l(25144),g=l(94650),t=l(90433);class _{}_.\u0275fac=function(u){return new(u||_)},_.\u0275dir=g.lG2({type:_,selectors:[["fdp-table-cell"]]});class s{constructor(u){this.templateRef=u}static ngTemplateContextGuard(u,p){return!0}}s.\u0275fac=function(u){return new(u||s)(g.Y36(g.Rgc))},s.\u0275dir=g.lG2({type:s,selectors:[["","fdpCellDef",""]],inputs:{fdpCellDefAs:"fdpCellDefAs"}});class i{constructor(u){this.templateRef=u}}i.\u0275fac=function(u){return new(u||i)(g.Y36(g.Rgc))},i.\u0275dir=g.lG2({type:i,selectors:[["","fdpEditableCellDef",""]]});class r{constructor(u){this.form=u}}r.\u0275fac=function(u){return new(u||r)(g.Y36(t.F))},r.\u0275dir=g.lG2({type:r,selectors:[["","fdpEditableCellForm",""]],features:[g._Bn([{provide:e.b,useExisting:r}])]})},60796:(W,x,l)=>{l.d(x,{C:()=>t,K:()=>g});var e=l(94650);class g{}g.\u0275fac=function(s){return new(s||g)},g.\u0275dir=e.lG2({type:g,selectors:[["fdp-table-header"]]});class t{constructor(s){this.templateRef=s}}t.\u0275fac=function(s){return new(s||t)(e.Y36(e.Rgc))},t.\u0275dir=e.lG2({type:t,selectors:[["","fdpHeaderCellDef",""]]})},84532:(W,x,l)=>{l.d(x,{g:()=>p});var e=l(94650),g=l(77579),t=l(69751),_=l(54968),s=l(39300),i=l(82722),r=l(13099),f=l(18505),u=l(46140);class p{constructor(b,c,T){this.elementRef=b,this.scrollDispatcher=c,this.ngZone=T,this._destroyed=new g.x,this._skipEvent=!1,this._prevScrollTop=0,this._prevScrollLeft=0,this._elementScrollStream=new t.y(v=>{const E=this.ngZone.runOutsideAngular(()=>(0,_.R)(this.elementRef.nativeElement,"scroll").subscribe(v));return()=>E.unsubscribe()}).pipe((0,s.h)(()=>!this._skipEvent||(this._skipEvent=!1,!1)),(0,i.R)(this._destroyed),(0,r.B)()),this._elementVerticalScrollStream=this._elementScrollStream.pipe((0,s.h)(()=>this._prevScrollTop!==this.getScrollTop()),(0,f.b)(()=>this._prevScrollTop=this.getScrollTop())),this._elementHorizontalScrollStream=this._elementScrollStream.pipe((0,s.h)(()=>this._prevScrollLeft!==this.getScrollLeft()),(0,f.b)(()=>this._prevScrollLeft=this.getScrollLeft()))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}getScrollStream(){return this._elementScrollStream}getVerticalScrollStream(){return this._elementVerticalScrollStream}getHorizontalScrollStream(){return this._elementHorizontalScrollStream}getScrollTop(){return this.elementRef.nativeElement?.scrollTop}getScrollLeft(){return this.elementRef.nativeElement?.scrollLeft}setScrollTop(b,c=!0){!this.elementRef.nativeElement||this.elementRef.nativeElement.scrollTop===b||(this._skipEvent=!c,this.elementRef.nativeElement.scrollTop=b)}setScrollLeft(b,c=!0){!this.elementRef.nativeElement||this.elementRef.nativeElement.scrollLeft===b||(this._skipEvent=!c,this.elementRef.nativeElement.scrollLeft=b)}getElementRef(){return this.elementRef}}p.\u0275fac=function(b){return new(b||p)(e.Y36(e.SBq),e.Y36(u.C),e.Y36(e.R0b))},p.\u0275dir=e.lG2({type:p,selectors:[["","fdpTableScrollable",""]],exportAs:["tableScrollable"],features:[e._Bn([{provide:u.c,useExisting:(0,e.Gpc)(()=>p)}])]})},51370:(W,x,l)=>{l.d(x,{S:()=>g});var e=l(94650);class g{static ngTemplateContextGuard(_,s){return!0}constructor(_){this.templateRef=_}}g.\u0275fac=function(_){return new(_||g)(e.Y36(e.Rgc))},g.\u0275dir=e.lG2({type:g,selectors:[["","fdpViewSettingsFilterCustomDef",""]]})},97410:(W,x,l)=>{l.d(x,{Z:()=>i,a:()=>s});var e=l(61135),g=l(4253),t=l(39151),_=l(54004);class s extends t.q{constructor(f,u){super(),this.items$=new e.X([]),this.items=f,this.totalItems=this.items.length,this.items$.next(this.items),this.dateTimeAdapter=u}fetch(f){return this.items$.asObservable().pipe((0,_.U)(u=>(f?.searchInput&&(u=this.search(u,f)),f?.filterBy&&(u=this.applyFiltering(u,f.filterBy)),this.totalItems=u.length,u)))}}class i extends g.G{constructor(f,u){super(new s(f,u))}}},46682:(W,x,l)=>{l.d(x,{Q:()=>s,u:()=>_});var e=l(4253),g=l(39151),t=l(54004);class _ extends g.q{constructor(r,f){super(),this.items$=r,this.dateTimeAdapter=f}fetch(r){return this.items$.pipe((0,t.U)(f=>(this.items=f,r?.searchInput&&(f=this.search(f,r)),r?.filterBy&&(f=this.applyFiltering(f,r.filterBy)),this.totalItems=f.length,f)))}}class s extends e.G{constructor(r,f){super(new _(r,f))}}},39151:(W,x,l)=>{l.d(x,{q:()=>i});var e=l(91591),g=l(54004),t=l(95698),_=l(49594),s=l(69484);class i{fetch(f){throw new Error("fetch method should be implemented by developers for custom data providers.")}fetchData(f){return this.fetch(f).pipe((0,g.U)(u=>(this.searchInput&&(u=this.search(u,{...f,searchInput:this.searchInput})),this.filterBy&&(u=this.applyFiltering(u,this.filterBy)),u)))}setFilters(f,u){this.filterBy=f,this.searchInput=u}applyFiltering(f,u){return f.filter(p=>this.getFilteringStrategy(p,u))}getFieldOptions(f){return this.fetch().pipe((0,t.q)(1),(0,g.U)(u=>u.map(h=>({label:(0,_.Z)(h,f),value:(0,_.Z)(h,f)}))))}getSelectItemValue(f){return(0,e.UL)(f)?f.value:f}getFilteringStrategy(f,u){return u.filter(p=>p.field).every(p=>(0,s.FC)(p)?this.collectionFilterStrategy(f,p):this.collectionFilterGroupStrategy(f,p))}collectionFilterStrategy(f,u){let p;switch(u.type){case"boolean":p=this.filterBoolean(f,u);break;case"number":p=this.filterNumber(f,u);break;case"date":p=this.filterDate(f,u,this.dateTimeAdapter);break;default:p=Array.isArray(u.value)?this.filterArray(f,u):this.filterString(f,u)}return p}collectionFilterGroupStrategy(f,u){return"and"===u.strategy?u.filters.every(p=>this.collectionFilterStrategy(f,p)):u.filters.some(p=>this.collectionFilterStrategy(f,p))}search(f,{searchInput:u,columnKeys:p}){const h=u?.text||"",b=p;return""===h.trim()||0===b.length||(f=f.filter(c=>b.map(v=>(0,_.Z)(c,v)).filter(v=>!!v).map(v=>v.toString()).some(v=>v.toLocaleLowerCase().includes(h.toLocaleLowerCase())))),f}filterString(f,u){const p=u.value&&u.value.toLocaleLowerCase(),h=u.value2&&u.value2.toLocaleLowerCase()||"";let c,b=(0,_.Z)(f,u.field);switch(b=b&&b.toLocaleLowerCase(),u.strategy){case"equalTo":c=b===p;break;case"greaterThan":c=b>p;break;case"greaterThanOrEqualTo":c=b>=p;break;case"lessThan":c=b<p;break;case"lessThanOrEqualTo":c=b<=p;break;case"between":c=b>=p&&b<=h;break;case"beginsWith":c=b.startsWith(p);break;case"endsWith":c=b.endsWith(p);break;default:c=b?b.includes(p):b===p}return u.exclude?!c:c}filterNumber(f,u){const p=Number.parseFloat(u.value),h=Number.parseFloat(u.value2)||0,b=Number.parseFloat((0,_.Z)(f,u.field));let c;switch(u.strategy){case"greaterThan":c=b>p;break;case"greaterThanOrEqualTo":c=b>=p;break;case"lessThan":c=b<p;break;case"lessThanOrEqualTo":c=b<=p;break;case"between":c=b>=p&&b<=h;break;default:c=b===p}return u.exclude?!c:c}filterDate(f,u,p){if(!p)throw new Error("In order to filter date columns, please provide DateTime adapter in your TableDataProvider constructor.");const h=u.value,b=u.value2,c=(0,_.Z)(f,u.field),T=p.compareDate(c,h);let v;switch(u.strategy){case"after":v=T>0;break;case"onOrAfter":v=T>=0;break;case"before":v=T<0;break;case"beforeOrOn":v=T<=0;break;case"between":v=p.isBetween(c,h,b);break;default:v=p.dateTimesEqual(c,h)}return u.exclude?!v:v}filterBoolean(f,u){const p=u.value;let b;return b=(0,_.Z)(f,u.field)===p,u.exclude?!b:b}filterArray(f,u){const p=u.value.map(c=>this.getSelectItemValue(c)),h=(0,_.Z)(f,u.field);let b;return b=p.includes(h),!p.length||u.exclude?!b:b}}},4253:(W,x,l)=>{l.d(x,{G:()=>t});var e=l(61135),g=l(77579);class t{get isDataLoading(){return this._dataLoading}constructor(s){this.dataProvider=s,this._dataChanges=new e.X([]),this._onDataRequested$=new g.x,this._onDataReceived$=new g.x,this._dataLoading=!1}fetch(s){this._onDataRequested$.next(),this._dataLoading=!0,this.dataProvider.fetchData(s).subscribe({next:i=>{this._onDataReceived$.next(),this._dataLoading=!1;const{page:{currentPage:r,pageSize:f}}=s,u=this._dataChanges.getValue().slice();r>1&&u.length>0&&(u.splice((r-1)*f,u.length,...i),i=u),this._dataChanges.next(i)},error:i=>{this._onDataReceived$.next(),this._dataLoading=!1,this._dataChanges.error(i)}})}open(){return this._dataChanges.asObservable()}onDataRequested(){return this._onDataRequested$.asObservable()}onDataReceived(){return this._onDataReceived$.asObservable()}close(){}}},61230:(W,x,l)=>{l.d(x,{QA:()=>r,b3:()=>c,dh:()=>g});var e=l(87291);const g={EQ:"equalTo",CONTAINS:"contains",BETWEEN:"between",BEGINS_WITH:"beginsWith",ENDS_WITH:"endsWith",GT:"greaterThan",GTE:"greaterThanOrEqualTo",LT:"lessThan",LTE:"lessThanOrEqualTo",AFTER:"after",ON_OR_AFTER:"onOrAfter",BEFORE:"before",BEFORE_OR_ON:"beforeOrOn"},_=Object.values({EQ:"equalTo",BETWEEN:"between",AFTER:"after",ON_OR_AFTER:"onOrAfter",BEFORE:"before",BEFORE_OR_ON:"beforeOrOn"}),i=Object.values({EQ:"equalTo",BETWEEN:"between",GT:"greaterThan",GTE:"greaterThanOrEqualTo",LT:"lessThan",LTE:"lessThanOrEqualTo"}),r={CONTAINS:"contains",EQ:"equalTo",BEGINS_WITH:"beginsWith",BETWEEN:"between",ENDS_WITH:"endsWith",GT:"greaterThan",GTE:"greaterThanOrEqualTo",LT:"lessThan",LTE:"lessThanOrEqualTo"},f=Object.values(r),p=Object.values({EQ:"equalTo"}),b=Object.values({EQ:"equalTo"}),c=T=>{switch(T){case e.g.STRING:return f;case e.g.NUMBER:return i;case e.g.DATE:return _;case e.g.BOOLEAN:return p;default:return b}}},33613:(W,x,l)=>{l.d(x,{H:()=>e});var e=(()=>{return(g=e||(e={})).START="start",g.CENTER="center",g.END="end",e;var g})()},87291:(W,x,l)=>{l.d(x,{g:()=>g,v:()=>e});var e=(()=>{return(t=e||(e={})).INPUT="input",t.SINGLE="single-select",t.MULTI="multi-select",t.CATEGORY="category",t.CUSTOM="custom",e;var t})(),g=(()=>{return(t=g||(g={})).STRING="string",t.NUMBER="number",t.BOOLEAN="boolean",t.DATE="date",g;var t})()},56966:(W,x,l)=>{l.d(x,{Hg:()=>g.H,QA:()=>t.QA,g:()=>_.g,oW:()=>e.o,Sr:()=>s.S,AM:()=>i});var e=l(73552),g=l(33613),t=l(61230),_=l(87291),s=l(34537),i=(()=>{return(r=i||(i={})).ITEM="item",r.GROUP="group",r.TREE="tree",i;var r})()},73552:(W,x,l)=>{l.d(x,{o:()=>e});var e=(()=>{return(g=e||(e={})).SINGLE="single",g.MULTIPLE="multiple",g.NONE="none",e;var g})()},34537:(W,x,l)=>{l.d(x,{S:()=>e});var e=(()=>{return(g=e||(e={})).NONE="none",g.ASC="asc",g.DESC="desc",e;var g})()},31766:(W,x,l)=>{l.d(x,{aF:()=>Ue.a,Hg:()=>Ne.H,dh:()=>ge.dh,vA:()=>me.v,g:()=>me.g,ui:()=>Ke.u,ky:()=>ce,uI:()=>w.u,oW:()=>Ge.o,Sr:()=>ze.S,iA:()=>we.i,ac:()=>ne.a,qF:()=>Ze.q,Gl:()=>We.G,b3:()=>ge.b3,FC:()=>Fe.FC});var e=l(36895),g=l(90433),t=l(30087),_=l(14257),s=l(72738),i=l(43357),r=l(91551),f=l(10826),u=l(80686),p=l(90685),h=l(33101),b=l(41204),c=l(73133),T=l(72232),v=l(78249),E=l(89146),R=l(38462),F=l(60505),Z=l(80265),Q=l(49745),H=l(93957),j=l(11229),Y=l(31358),q=l(34661),k=l(2215),ee=l(91591),le=l(97503),ne=l(25739),w=(l(30766),l(73486),l(18278),l(9966)),fe=(l(25309),l(6301),l(51599),l(5798),l(83746),l(74183),l(7537),l(17007),l(99793),l(89277),l(31919),l(61436),l(29436),l(55747),l(13295),l(59546),l(17375),l(73938),l(35435),l(41330),l(74092),l(60796),l(51370),l(84532),l(16856),l(43795),l(34858),l(85554),l(5492),l(20764),l(90376),l(15256),l(85369),l(4846),l(63761),l(94650));class ce{}ce.\u0275fac=function(Qe){return new(Qe||ce)},ce.\u0275mod=fe.oAB({type:ce}),ce.\u0275inj=fe.cJS({imports:[e.ez,g.u5,R.U$,Z.V_,f.ej,s.nD,v.dU,p.ne,T.UU,b.pV,q.RO,F.drE,_.hJ,j.y0,r.Su,Y.K2,u.QX,k.LU,E.An,h.hd,c.QG,i.I$,t.UH,F.Vk4,Q.Y,j.Pn,j.RU,ee.z0,H.jO,le.m,F.iEm,F.vRs,ee.z0,H.jO]}),l(6739);var we=l(40978),Fe=(l(10665),l(46140),l(88901),l(69484)),Ue=(l(4949),l(68556),l(41614),l(91980),l(97410)),Ke=l(46682),Ze=l(39151),We=l(4253),ge=l(61230),Ne=l(33613),me=l(87291),Ge=l(73552),ze=l(34537)},20764:(W,x,l)=>{l.d(x,{j:()=>t});var e=l(56966),g=l(94650);class t{transform(s,i,r,f,u,p,h,b,c){const T={};switch(u&&(T[i?"right.px":"left.px"]=r+f+h),p&&(T[i?"left.px":"right.px"]=c.toString()),T["min-width"]=b,T["max-width"]=b,T.width=b,s.align){case e.Hg.START:T["text-align"]=i?"right":"left";break;case e.Hg.END:T["text-align"]=i?"left":"right";break;default:T["text-align"]="center"}return T}}t.\u0275fac=function(s){return new(s||t)},t.\u0275pipe=g.Yjl({name:"tableCellStyles",type:t,pure:!0})},85369:(W,x,l)=>{l.d(x,{r:()=>g});var e=l(94650);class g{transform(_,s,i){return 0===_?"end":_===s-1&&i?"start":"both"}}g.\u0275fac=function(_){return new(_||g)},g.\u0275pipe=e.Yjl({name:"columnResizableSide",type:g,pure:!0})},15256:(W,x,l)=>{l.d(x,{A:()=>_});var e=l(91591),g=l(56966),t=l(94650);class _{transform(i,r){const f=i.type===g.AM.TREE?"fdp-table__row--tree":"";return this._getRowCustomCssClasses(i,r).concat(" ",f).trim()}_getRowCustomCssClasses(i,r){if(!r)return"";let f="";return(0,e.HD)(r)&&(f=r),(0,e.mf)(r)&&(f=r(i.value)||""),f.trim()}}_.\u0275fac=function(i){return new(i||_)},_.\u0275pipe=t.Yjl({name:"rowClasses",type:_,pure:!0})},90376:(W,x,l)=>{l.d(x,{a:()=>_});var e=l(88293),g=l(93957),t=l(94650);class _{transform(i,r,f){i||(i=g.J3.COZY);const u=r?"right":"left",p=e.p2.get(i)+"px";return{[u]:f+"px","min-width":p,"max-width":p}}}_.\u0275fac=function(i){return new(i||_)},_.\u0275pipe=t.Yjl({name:"selectionCellStyles",type:_,pure:!0})},25144:(W,x,l)=>{l.d(x,{b:()=>e});class e{}},10665:(W,x,l)=>{l.d(x,{o:()=>h});var e=l(77579),g=l(50727),t=l(54968),_=l(82722),s=l(78372),i=l(60505),r=l(88293),f=l(46140),u=l(94650);class h{get resizeInProgress(){return this._resizeInProgress}get resizerPosition(){return this._resizerPosition??0}get markForCheck(){return this._markForCheck.asObservable()}get fixedWidth(){return this._fixedColumnsWidthMap.size===this._visibleColumnNames.length}get _rtl(){return this._rtlService?.rtl.getValue()}constructor(c,T){this._tableScrollDispatcherService=c,this._rtlService=T,this._fixedColumnsWidthMap=new Map,this._columnsCellMap=new Map,this._visibleColumnNames=[],this._visibleColumnLeftNeighbourMap=new Map,this._visibleColumnRightNeighbourMap=new Map,this._visibleColumnLeftOffsetPxMap=new Map,this._visibleColumnRightOffsetPxMap=new Map,this._startX=null,this._clientStartX=null,this._resizeInProgress=!1,this._resizerPosition=null,this._scrollLeft=0,this._markForCheck=new e.x,this._destroyed=new e.x,this._resizerMoveSubscription=new g.w0,this._tableScrollDispatcherService?.horizontallyScrolled().pipe((0,_.R)(this._destroyed)).subscribe(v=>this._scrollLeft=v.getScrollLeft())}ngOnDestroy(){this._resizeInProgress=!1,this._destroyed.next(),this._destroyed.complete(),this._resizerMoveSubscription.unsubscribe()}setTableRef(c){this._tableRef=c}setColumnNames(c){this._visibleColumnLeftNeighbourMap.clear(),this._visibleColumnRightNeighbourMap.clear(),c.forEach((T,v)=>{this._visibleColumnLeftNeighbourMap.set(T,c[v-1])}),c.reverse().forEach((T,v)=>{this._visibleColumnRightNeighbourMap.set(T,c[v-1])}),this._visibleColumnNames=[...c],this.updateFrozenColumnsWidth()}updateFrozenColumnsWidth(){let c=0,T=0;for(const[v,E]of this._visibleColumnLeftNeighbourMap.entries())c+=this._columnsCellMap.get(E)?.[0]?.nativeElement.getBoundingClientRect().width??0,this._visibleColumnLeftOffsetPxMap.set(v,c);for(const[v,E]of this._visibleColumnRightNeighbourMap.entries())T+=this._columnsCellMap.get(E)?.[0]?.nativeElement.getBoundingClientRect().width??0,this._visibleColumnRightOffsetPxMap.set(v,T)}updateFrozenColumnsWidthAfterResize(c,T){let v=!1;for(const[E,R]of this._visibleColumnLeftOffsetPxMap.entries())E===c?v=!0:v&&this._visibleColumnLeftOffsetPxMap.set(E,R+T)}getColumnWidthStyle(c){return this._fixedColumnsWidthMap.get(c)||"unset"}getPreviousColumnName(c){return this._visibleColumnLeftNeighbourMap.get(c)}getNextColumnName(c){return this._visibleColumnRightNeighbourMap.get(c)}getPrevColumnsWidth(c){return this._visibleColumnLeftOffsetPxMap.get(c)??0}getNextColumnsWidth(c){return this._visibleColumnRightOffsetPxMap.get(c)??0}registerColumnCell(c,T){const v=this._columnsCellMap.get(c)||[];this._columnsCellMap.set(c,[T,...v])}unregisterColumnCell(c,T){const v=this._columnsCellMap.get(c)||[],E=v.findIndex(R=>R.nativeElement===T.nativeElement);-1!==E&&(v.splice(E,1),this._columnsCellMap.set(c,v))}setCustomWidth(c,T){this._fixedColumnsWidthMap.set(c,T)}setInitialResizerPosition(c,T){this.resizeInProgress||(this._resizedColumn=T,this._resizerPosition=null,null==c)||(this._resizerPosition=c-3+this._scrollLeft*(this._rtl?1:-1))}hideResizer(){this._resizeInProgress||(this._resizerPosition=null,this._markForCheck.next())}startResize(c){this._startX=this.resizerPosition,this._clientStartX=c.clientX,this._updateResizerPositionOnMouseMove(),this._resizeInProgress=!0}finishResize(c){if(this._resizerMoveSubscription.unsubscribe(),this._resizeInProgress=!1,this._resizerPosition=null,null!=this._startX){const T=this._clientStartX??0;this._processResize(this._rtl?T-c.clientX:c.clientX-T)}this._startX=null,this._clientStartX=null,this._markForCheck.next()}_processResize(c){const T=this._columnsCellMap.get(this._resizedColumn)?.[0]?.nativeElement.getBoundingClientRect().width;if(T){if(c<0&&T+c<r.m6&&(c=r.m6-T),!this.fixedWidth)for(const[v,E]of this._columnsCellMap.entries())E.length&&this._fixedColumnsWidthMap.set(v,E[0].nativeElement.getBoundingClientRect().width+"px");if(c>0&&this._tableRef._freezableColumns.has(this._resizedColumn)){const E=this.getPrevColumnsWidth(this._visibleColumnNames[this._tableRef._freezableColumns.size]),R=E+c,F=this._tableRef.getMaxAllowedFreezableColumnsWidth();R>=F&&(c=F-E)}this._fixedColumnsWidthMap.set(this._resizedColumn,T+c+"px"),this.updateFrozenColumnsWidthAfterResize(this._resizedColumn,c)}}_updateResizerPositionOnMouseMove(){this._resizerMoveSubscription=(0,t.R)(document,"mousemove").pipe((0,s.b)(10)).subscribe(c=>{const T=this._clientStartX??0;this._resizerPosition=(this._startX??0)+(this._rtl?T-c.clientX:c.clientX-T),this._markForCheck.next()})}}h.\u0275fac=function(c){return new(c||h)(u.LFG(f.C),u.LFG(i.qFd,8))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac})},88901:(W,x,l)=>{l.d(x,{x:()=>f});var e=l(60505),g=l(77579),t=l(78372),_=l(82722),s=l(40978),i=l(6739),r=l(94650);class f{constructor(p,h,b){this._table=p,this._tableService=h,this._elmRef=b,this._responsiveBreakpoints=new Map,this._onDestroy$=new g.x}registerResponsiveColumn(p,h){this._responsiveBreakpoints.set(p,this._normalizeBreakpoints(h)),this._listenToTableResize()}ngOnDestroy(){this._onDestroy$.next(),this._onDestroy$.complete()}_normalizeBreakpoints(p){return Object.keys(p).map(c=>parseInt(c,10)).sort((c,T)=>c-T).reduce((c,T,v,E)=>(c.push({min:T,max:v+1<E.length?E[v+1]-1:1/0,visibility:p[T.toString()]}),c),[])}_listenToTableResize(){this._resizeSubscription?.unsubscribe(),this._resizeSubscription=(0,e.qYq)(this._elmRef.nativeElement).pipe((0,t.b)(20),(0,_.R)(this._onDestroy$)).subscribe(()=>{this._processResponsiveColumns()})}_processResponsiveColumns(){let p=!1;const{width:h}=this._elmRef.nativeElement.getBoundingClientRect();if(this._responsiveBreakpoints.forEach((c,T)=>{const v=c.find(E=>E.min<=h&&E.max>=h);v&&(p=p||T.responsiveState!==v.visibility,T.responsiveState=v.visibility)}),!p)return;const b=this._table.getVisibleTableColumns().map(c=>c.name);this._tableService.columnsChange.emit({previous:b,current:b}),this._tableService.detectChanges()}}f.\u0275fac=function(p){return new(p||f)(r.LFG(s.i),r.LFG(i.w),r.LFG(r.SBq))},f.\u0275prov=r.Yz7({token:f,factory:f.\u0275fac})},46140:(W,x,l)=>{l.d(x,{C:()=>s,c:()=>_});var e=l(94650),g=l(77579),t=l(50727);const _=new e.OlP("Table Scrollable");class s{constructor(){this._scrollSubject=new g.x,this._verticalScrollSubject=new g.x,this._horizontalScrollSubject=new g.x,this._scrollableSubscriptionsMap=new Map}register(r){if(this._scrollableSubscriptionsMap.has(r))return;const f=new t.w0;f.add(r.getScrollStream().subscribe(()=>this._scrollSubject.next(r))),f.add(r.getHorizontalScrollStream().subscribe(()=>this._horizontalScrollSubject.next(r))),f.add(r.getVerticalScrollStream().subscribe(()=>this._verticalScrollSubject.next(r))),this._scrollableSubscriptionsMap.set(r,f)}deregister(r){this._scrollableSubscriptionsMap.has(r)&&this._scrollableSubscriptionsMap.get(r)?.unsubscribe()}scrolled(){return this._scrollSubject.asObservable()}horizontallyScrolled(){return this._horizontalScrollSubject.asObservable()}verticallyScrolled(){return this._verticalScrollSubject.asObservable()}ngOnDestroy(){Array.from(this._scrollableSubscriptionsMap.values()).forEach(r=>r.unsubscribe()),this._scrollableSubscriptionsMap.clear()}}s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac})},25739:(W,x,l)=>{l.d(x,{a:()=>de});var e=l(49671),g=l(29521),t=l(94650),_=l(90433),s=l(60505),i=l(93957),r=l(38462),f=l(91591),u=l(49594),p=l(46698),h=l(19175),b=l(61135),c=l(50727),T=l(39646),v=l(56451),E=l(45191),R=l(54968),F=l(54004),Z=l(63900),Q=l(39300),H=l(71884),j=l(68675),Y=l(78372),q=l(21370),k=l(68556),ee=l(88293),le=l(97410),ne=l(46682),J=l(56966);class te{constructor(o,n){this.done=o,this.items=n}}class G{constructor(o,n,a,d,C,D,z){this.row=o,this.dropRow=n,this.previousIndex=a,this.newIndex=d,this.insertAt=C,this.mode=D,this.rows=z}}class w{constructor(o,n){this.index=o,this.row=n}}class S{constructor(o,n,a){this.index=o,this.row=n,this.expanded=a}}class A{constructor(o,n,a){this.source=o,this.current=n,this.previous=a}}class y{constructor(o,n,a){this.source=o,this.current=n,this.previous=a}}class P{constructor(o,n,a){this.source=o,this.current=n,this.previous=a}}class B{constructor(o,n,a){this.source=o,this.current=n,this.previous=a}}class I{constructor(o,n){this.current=o,this.previous=n}}class U extends I{constructor(o,n,a){super(n,a),this.source=o}}class K{constructor(o,n,a,d,C=null,D=0,z=!1,$=!0,oe=!1,se=!1,re="readonly",_e=[]){this.type=o,this.checked=n,this.index=a,this.value=d,this.parent=C,this.level=D,this.expandable=z,this.expanded=$,this.hidden=oe,this.navigatable=se,this.state=re,this.children=_e}}var V=l(40978),O=l(25144),L=l(10665),M=l(88901),N=l(46140),X=l(6739),ae=l(12687),ie=l(36895),be=l(11239),Te=l(70555),Ce=l(11738),ve=l(13236),ue=l(32330),pe=l(85417),Ee=l(14066),xe=l(57157),Re=l(69723),De=l(43960),Se=l(19065),Me=l(89789),Oe=l(82551),ye=l(67909),Ae=l(64381),Pe=l(11758),Ie=l(22062),Le=l(87792),Be=l(3568),fe=l(2549),He=l(79754),ce=l(21418),ke=l(59087),we=l(30587),Ye=l(6766),je=l(43174),Ve=l(23815),Fe=l(16856),$e=l(84532),Xe=l(43795),qe=l(34858),et=l(5492),Ue=l(85125),Ke=l(27946),Ze=l(20764),We=l(90376),ge=l(85369),Ne=l(15256);const me=["tableScrollable"],Ge=["tableContainer"],ze=["columnHeaderPopover"];function Je(m,o){if(1&m&&t.GkF(0,13),2&m){const n=t.oxw();t.Q6J("ngTemplateOutlet",n.tableToolbar.contentTemplateRef)("ngTemplateOutletContext",n._toolbarContext)}}function Qe(m,o){1&m&&t._UZ(0,"fdp-table-column-resizer",14)}function nt(m,o){if(1&m&&t._UZ(0,"th",27),2&m){const n=t.oxw(2);t.Udp("min-width",n._semanticHighlightingColumnWidth)("max-width",n._semanticHighlightingColumnWidth),t.ekj("fd-table__cell--fixed",n.fixed)}}function ot(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"fd-checkbox",30),t.NdJ("ngModelChange",function(d){t.CHM(n);const C=t.oxw(3);return t.KtG(C._toggleAllSelectableRows(d))}),t.qZA()}if(2&m){const n=t.oxw(3);t.Q6J("tristate",!0)("tristateSelectable",!1)("ngModel",n.checkedState)}}function it(m,o){if(1&m&&(t.TgZ(0,"th",28),t.ALo(1,"selectionCellStyles"),t.ALo(2,"async"),t.YNc(3,ot,1,3,"fd-checkbox",29),t.qZA()),2&m){const n=t.oxw(2);t.Akn(t.Dn7(1,5,t.lcZ(2,9,n.contentDensityObserver),n._rtl,n._semanticHighlightingColumnWidth)),t.ekj("fd-table__cell--fixed",n.fixed),t.xp6(3),t.Q6J("ngIf",n.selectionMode===n.SELECTION_MODE.MULTIPLE)}}function at(m,o){1&m&&t.GkF(0)}function st(m,o){1&m&&t.GkF(0)}const tt=function(m,o,n,a,d,C,D,z,$){return[m,o,n,a,d,C,D,z,$]},he=function(m){return{column:m}},rt=function(){return["click","keydown.enter","keydown.space"]};function _t(m,o){if(1&m){const n=t.EpF();t.ynx(0),t.TgZ(1,"th",31),t.NdJ("cellFocused",function(d){const D=t.CHM(n).$implicit,z=t.oxw(2);return t.KtG(z._onCellFocused(d,D.label,null))}),t.ALo(2,"columnResizableSide"),t.ALo(3,"tableCellStyles"),t.YNc(4,at,1,0,"ng-container",32),t.TgZ(5,"fd-popover",33,34),t.YNc(7,st,1,0,"ng-container",32),t.qZA()(),t.BQk()}if(2&m){const n=o.$implicit,a=o.index,d=o.last,C=t.MAs(6),D=t.oxw(2),z=t.MAs(13),$=t.MAs(11);t.xp6(1),t.ekj("fd-table__cell--fixed",D._freezableColumns.has(n.name))("fd-table__cell--fixed-last",n.name===D.freezeColumnsTo)("fd-table__cell--fixed-end",D._freezableEndColumns.has(n.name))("fd-table__cell--fixed-end-last",n.name===D.freezeEndColumnsTo)("is-last-child",d&&!D._isShownNavigationColumn)("fd-table__item--clickable",D._isColumnHasHeaderMenu(n)),t.Q6J("focusable",!0)("fdpTableCellResizable",t.Dn7(2,30,a,D._visibleColumns.length,D._isShownNavigationColumn))("columnName",n.name)("id",D.id+"__"+n.name)("ngClass","fdp-table__col--"+n.name)("ngStyle",t.G7q(3,34,t.rFY(44,tt,[n,D._rtl,D._semanticHighlightingColumnWidth,D._selectionColumnWidth,D._freezableColumns.has(n.name),D._freezableEndColumns.has(n.name),D._tableColumnResizeService.getPrevColumnsWidth(n.name),D._tableColumnResizeService.getColumnWidthStyle(n.name),D._tableColumnResizeService.getNextColumnsWidth(n.name)])))("fdPopoverTrigger",C)("cellFocusedEventAnnouncer",null),t.uIk("aria-colindex",a),t.xp6(3),t.Q6J("ngTemplateOutlet",z)("ngTemplateOutletContext",t.VKq(54,he,n)),t.xp6(1),t.Q6J("disabled",!D._isColumnHasHeaderMenu(n))("noArrow",!0)("focusAutoCapture",!0)("focusTrapped",!0)("triggers",t.DdM(56,rt)),t.xp6(2),t.Q6J("ngTemplateOutlet",$)("ngTemplateOutletContext",t.VKq(57,he,n))}}function ct(m,o){1&m&&t._UZ(0,"th",35)}function dt(m,o){1&m&&t.GkF(0)}const ut=function(m){return{row:m}};function pt(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"tr",42),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C._emitRowActivate(d))}),t.TgZ(1,"td",43),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C._toggleGroupRow(d))})("keydown.enter",function(){t.CHM(n);const d=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C._toggleGroupRow(d))}),t.YNc(2,dt,1,0,"ng-container",32),t.qZA()()}if(2&m){const n=t.oxw(),a=n.index,d=n.$implicit,C=t.oxw(3),D=t.MAs(17);t.Udp("height",C.rowHeight,"px"),t.uIk("aria-rowindex",a),t.xp6(1),t.uIk("colspan",C._tableColumnsLength)("aria-expanded",d.expanded)("data-nesting-level",d.level+1),t.xp6(1),t.Q6J("ngTemplateOutlet",D)("ngTemplateOutletContext",t.VKq(8,ut,d))}}function ft(m,o){if(1&m&&t._UZ(0,"td",51),2&m){const n=t.oxw(2).$implicit,a=t.oxw(3);t.Q6J("addDisabledClass",!1)("status",n.value[a.semanticHighlighting])}}function gt(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"td",53),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3).$implicit,C=t.oxw(3);return t.KtG(C._toggleSingleSelectableRow(d))})("keydown.enter",function(){t.CHM(n);const d=t.oxw(3).$implicit,C=t.oxw(3);return t.KtG(C._toggleSingleSelectableRow(d))})("keydown.space",function(){t.CHM(n);const d=t.oxw(3).$implicit,C=t.oxw(3);return t.KtG(C._toggleSingleSelectableRow(d))}),t.ALo(1,"selectionCellStyles"),t.ALo(2,"async"),t.qZA()}if(2&m){const n=t.oxw(3).$implicit,a=t.oxw(3);t.Akn(t.Dn7(1,5,t.lcZ(2,9,a.contentDensityObserver),a._rtl,a._semanticHighlightingColumnWidth)),t.ekj("fd-table__cell--fixed",a.fixed),t.uIk("aria-selected",n.checked)}}function mt(m,o){if(1&m&&(t.ynx(0),t.YNc(1,gt,3,11,"td",52),t.BQk()),2&m){t.oxw();const n=t.MAs(7),a=t.oxw().$implicit,d=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!1!==a.value[d.selectableKey])("ngIfElse",n)}}function ht(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"td",55),t.ALo(1,"selectionCellStyles"),t.ALo(2,"async"),t.TgZ(3,"fd-checkbox",56),t.NdJ("click",function(d){t.CHM(n);const C=t.oxw(3).$implicit,D=t.oxw(3);return t.KtG(D._toggleMultiSelectRow(C,d))})("keydown.enter",function(d){t.CHM(n);const C=t.oxw(3).$implicit,D=t.oxw(3);return t.KtG(D._toggleMultiSelectRow(C,d))})("keydown.space",function(d){t.CHM(n);const C=t.oxw(3).$implicit,D=t.oxw(3);return t.KtG(D._toggleMultiSelectRow(C,d))}),t.qZA()()}if(2&m){const n=t.oxw(3).$implicit,a=t.oxw(3);t.Akn(t.Dn7(1,5,t.lcZ(2,9,a.contentDensityObserver),a._rtl,a._semanticHighlightingColumnWidth)),t.ekj("fd-table__cell--fixed",a.fixed),t.xp6(3),t.Q6J("ngModel",n.checked)}}function bt(m,o){if(1&m&&(t.ynx(0),t.YNc(1,ht,4,11,"td",54),t.BQk()),2&m){t.oxw();const n=t.MAs(7),a=t.oxw().$implicit,d=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!1!==a.value[d.selectableKey])("ngIfElse",n)}}function Tt(m,o){if(1&m&&t._UZ(0,"td",57),2&m){const n=t.oxw(5);t.ekj("fd-table__cell--fixed",n.fixed),t.Q6J("addDisabledClass",!1)}}function Ct(m,o){1&m&&t.GkF(0)}const vt=function(m,o,n){return{row:m,column:o,colIdx:n}};function Et(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"td",58),t.NdJ("cellFocused",function(d){const D=t.CHM(n).$implicit,z=t.oxw(2).$implicit,$=t.oxw(3);let oe;return t.KtG($._onCellFocused(d,null!==(oe=null==D?null:D.label)&&void 0!==oe?oe:"",$.isTreeTable?z.level:null))})("click",function(){const C=t.CHM(n).index,D=t.oxw(2).$implicit,z=t.oxw(3);return t.KtG(z._onCellClick(C,D))})("keydown.enter",function(){const C=t.CHM(n).index,D=t.oxw(2).$implicit,z=t.oxw(3);return t.KtG(z._isTreeRowFirstCell(C,D)&&z._toggleGroupRow(D))}),t.ALo(1,"columnResizableSide"),t.ALo(2,"tableCellStyles"),t.YNc(3,Ct,1,0,"ng-container",32),t.qZA()}if(2&m){const n=o.$implicit,a=o.index,d=o.last,C=t.oxw(2).$implicit,D=t.oxw(3),z=t.MAs(19);t.ekj("fd-table__cell--fixed",D._freezableColumns.has(n.name))("fd-table__cell--fixed-last",n.name===D.freezeColumnsTo)("fd-table__cell--fixed-end",D._freezableEndColumns.has(n.name))("fd-table__cell--fixed-end-last",n.name===D.freezeEndColumnsTo)("fd-table__cell--expand",D._isTreeRowFirstCell(a,C))("is-last-child",d&&!D._isShownNavigationColumn),t.Q6J("fdpTableCellResizable",t.Dn7(1,22,a,D._visibleColumns.length,D._isShownNavigationColumn))("columnName",n.name)("headers",D.id+"__"+n.name)("ngClass","fdp-table__col--"+n.name)("ngStyle",t.G7q(2,26,t.rFY(36,tt,[n,D._rtl,D._semanticHighlightingColumnWidth,D._selectionColumnWidth,D._freezableColumns.has(n.name),D._freezableEndColumns.has(n.name),D._tableColumnResizeService.getPrevColumnsWidth(n.name),D._tableColumnResizeService.getColumnWidthStyle(n.name),D._tableColumnResizeService.getNextColumnsWidth(n.name)])))("cellFocusedEventAnnouncer",null),t.uIk("aria-expanded",D._isTreeRow(C)?C.expanded:null)("data-nesting-level",0===a?C.level+1:null),t.xp6(3),t.Q6J("ngTemplateOutlet",z)("ngTemplateOutletContext",t.kEZ(46,vt,C,n,a))}}function xt(m,o){if(1&m&&t._UZ(0,"i",61),2&m){const n=t.oxw(6);t.Tol(n._rtl?"sap-icon--slim-arrow-left":"sap-icon--slim-arrow-right"),t.Q6J("navigation",!0)}}function Rt(m,o){if(1&m&&(t.TgZ(0,"td",59),t.YNc(1,xt,1,3,"i",60),t.qZA()),2&m){const n=t.oxw(2).$implicit;t.Q6J("addDisabledClass",!1),t.xp6(1),t.Q6J("ngIf",n.navigatable)}}function Dt(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"tr",44),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C._onRowClick(d))})("keydown.enter",function(){t.CHM(n);const d=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C._onRowClick(d))})("keydown.space",function(d){t.CHM(n);const C=t.oxw().$implicit,D=t.oxw(3);return t.KtG(D._onRowClick(C,d))})("keydown.alt.arrowup",function(d){t.CHM(n);const C=t.oxw().index,D=t.oxw(3);return t.KtG(D._dragRowFromKeyboard("up",d,C,"shift"))})("keydown.alt.arrowdown",function(d){t.CHM(n);const C=t.oxw().index,D=t.oxw(3);return t.KtG(D._dragRowFromKeyboard("down",d,C,"shift"))})("keydown.alt.shift.arrowup",function(d){t.CHM(n);const C=t.oxw().index,D=t.oxw(3);return t.KtG(D._dragRowFromKeyboard("up",d,C,"group"))})("keydown.alt.shift.arrowdown",function(d){t.CHM(n);const C=t.oxw().index,D=t.oxw(3);return t.KtG(D._dragRowFromKeyboard("down",d,C,"group"))})("started",function(){t.CHM(n);const d=t.oxw(4);return t.KtG(d._dragDropStart())}),t.ALo(1,"rowClasses"),t.YNc(2,ft,1,2,"td",45),t.ynx(3,38),t.YNc(4,mt,2,2,"ng-container",46),t.YNc(5,bt,2,2,"ng-container",46),t.BQk(),t.YNc(6,Tt,1,3,"ng-template",null,47,t.W1O),t.YNc(8,Et,4,50,"td",48),t.YNc(9,Rt,2,2,"td",49),t._UZ(10,"td",50),t.qZA()}if(2&m){const n=t.oxw(),a=n.$implicit,d=n.index,C=t.oxw(3);t.Tol(t.xi3(1,24,a,C.rowsClass)),t.Udp("height",C.rowHeight,"px"),t.Q6J("applyDragItemClass",C._rowsDraggable)("tabindex",C.rowsActivable||a.navigatable?0:-1)("focusable",C.rowsActivable||!!a.navigatable)("hoverable",C.rowsActivable||C._isShownSelectionColumn||!!a.navigatable)("activable",C.rowsActivable||!!a.navigatable)("active",d===C._navigatedRowIndex)("highlightActive",C.highlightNavigatedRow)("main",!0),t.uIk("aria-selected",a.checked)("aria-rowindex",d)("aria-level",C.isTreeTable?a.level+1:null),t.xp6(2),t.Q6J("ngIf",C.semanticHighlighting),t.xp6(1),t.Q6J("ngSwitch",C.selectionMode),t.xp6(1),t.Q6J("ngSwitchCase",C.SELECTION_MODE.SINGLE),t.xp6(1),t.Q6J("ngSwitchCase",C.SELECTION_MODE.MULTIPLE),t.xp6(3),t.Q6J("ngForOf",C._visibleColumns),t.xp6(1),t.Q6J("ngIf",C._isShownNavigationColumn),t.xp6(1),t.ekj("fd-table__cell--mock-borderless",!C._cellMockVisible),t.Q6J("addDisabledClass",!1)}}function St(m,o){1&m&&t._UZ(0,"td",66),2&m&&t.Q6J("addDisabledClass",!1)}function Mt(m,o){1&m&&t.GkF(0)}const Ot=function(m,o){return{$implicit:m,popping:!0,rowIndex:o}};function yt(m,o){if(1&m&&(t.ynx(0),t.YNc(1,Mt,1,0,"ng-container",32),t.BQk()),2&m){const n=t.oxw().$implicit,a=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngTemplateOutlet",n.columnCellTemplate)("ngTemplateOutletContext",t.WLB(2,Ot,a.value,a.index))}}function At(m,o){if(1&m&&(t._uU(0),t.ALo(1,"valueByPath")),2&m){const n=t.oxw().$implicit,a=t.oxw(2).$implicit;t.Oqu(t.xi3(1,1,null==a?null:a.value,n.key))}}function Pt(m,o){if(1&m&&(t.TgZ(0,"div",67)(1,"label",68),t._uU(2),t.qZA(),t.YNc(3,yt,2,5,"ng-container",69),t.YNc(4,At,2,4,"ng-template",null,70,t.W1O),t.qZA()),2&m){const n=o.$implicit,a=t.MAs(5);t.xp6(2),t.hij("",n.label,":"),t.xp6(1),t.Q6J("ngIf",null==n?null:n.columnCellTemplate)("ngIfElse",a)}}function It(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"tr",62),t.ALo(1,"rowClasses"),t.YNc(2,St,1,1,"td",63),t.TgZ(3,"td",64),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C._onCellClick(0,d))})("keydown.enter",function(){t.CHM(n);const d=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C._isTreeRowFirstCell(0,d)&&C._toggleGroupRow(d))}),t.YNc(4,Pt,6,3,"div",65),t.qZA()()}if(2&m){const n=t.oxw().$implicit,a=t.oxw(3);t.Tol(t.xi3(1,8,n,a.rowsClass)),t.Q6J("secondary",!0),t.uIk("aria-selected",n.checked),t.xp6(2),t.Q6J("ngIf",a.selectionMode!==a.SELECTION_MODE.NONE),t.xp6(1),t.uIk("data-nesting-level",n.level+1)("aria-expanded",a._isTreeRow(n)?n.expanded:null),t.xp6(1),t.Q6J("ngForOf",a._poppingColumns)}}function Lt(m,o){if(1&m&&(t.ynx(0,38),t.YNc(1,pt,3,10,"tr",39),t.YNc(2,Dt,11,27,"tr",40),t.YNc(3,It,5,11,"tr",41),t.BQk()),2&m){const n=o.$implicit,a=t.oxw(3);t.Q6J("ngSwitch",n.type),t.xp6(1),t.Q6J("ngSwitchCase","group"),t.xp6(2),t.Q6J("ngIf","item"===n.type&&a._poppingColumns.length>0)}}function Bt(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"tbody",36),t.NdJ("itemDropped",function(d){t.CHM(n);const C=t.oxw(2);return t.KtG(C._dragDropItemDrop(d))}),t.YNc(1,Lt,4,3,"ng-container",37),t.qZA()}if(2&m){const n=t.oxw(2);t.Udp("transform",n._virtualScrollTransform),t.Q6J("noBorderX",n.noBorderX)("noBorderY",n.noBorderY)("tabIndex",n.pageScrolling?0:-1)("items",n._tableRows)("draggable",n._rowsDraggable)("dropMode",n.dropMode),t.xp6(1),t.Q6J("ngForOf",n._tableRowsInViewport)("ngForTrackBy",n._rowTrackBy)}}function wt(m,o){if(1&m&&t._UZ(0,"tbody"),2&m){const n=t.oxw(2);t.Udp("height",n._virtualScrollTotalHeight,"px")}}function Ft(m,o){if(1&m&&(t.TgZ(0,"div",15,16)(2,"table",17)(3,"thead",18)(4,"tr",19),t.YNc(5,nt,1,6,"th",20),t.YNc(6,it,4,11,"th",21),t.YNc(7,_t,8,59,"ng-container",22),t.YNc(8,ct,1,0,"th",23),t._UZ(9,"th",24),t.qZA()(),t.YNc(10,Bt,2,10,"tbody",25),t.YNc(11,wt,1,2,"tbody",26),t.qZA()()),2&m){const n=t.oxw(),a=t.MAs(9);t.Udp("height",n.bodyHeight),t.ekj("fdp-table__body--virtual-scroll",!!n.virtualScroll)("fixed-height",!!n.bodyHeight)("fd-table--fixed",n._freezableColumns.size||n.fixed),t.uIk("role",n.pageScrolling?"feed":null),t.xp6(2),t.ekj("fd-table--no-outer-border",n.noOuterBorders),t.Q6J("allCellsFocusable",!0)("popIn",n._poppingColumns.length>0),t.uIk("role",n.isTreeTable?"treegrid":"grid"),t.xp6(3),t.Q6J("ngIf",n.semanticHighlighting),t.xp6(1),t.Q6J("ngIf",n._isShownSelectionColumn),t.xp6(1),t.Q6J("ngForOf",n._visibleColumns)("ngForTrackBy",n._columnTrackBy),t.xp6(1),t.Q6J("ngIf",n._isShownNavigationColumn),t.xp6(1),t.ekj("fd-table__cell--mock-borderless",!n._cellMockVisible),t.xp6(1),t.Q6J("ngIf",!!n._tableRowsVisible.length)("ngIfElse",a),t.xp6(1),t.Q6J("ngIf",n.virtualScroll)}}function Ut(m,o){1&m&&(t.TgZ(0,"td",76),t._UZ(1,"fd-skeleton",77),t.qZA())}function Kt(m,o){if(1&m&&(t.TgZ(0,"tr",19),t.YNc(1,Ut,2,0,"td",75),t.qZA()),2&m){const n=t.oxw(3);t.xp6(1),t.Q6J("fdkRepeat",n._tableColumnsLength)}}function Zt(m,o){1&m&&(t.TgZ(0,"tbody",73),t.YNc(1,Kt,2,1,"tr",74),t.qZA()),2&m&&(t.xp6(1),t.Q6J("fdkRepeat",3))}function Wt(m,o){if(1&m&&(t._UZ(0,"div",83),t.ALo(1,"fdTranslate")),2&m){const n=t.oxw(3);t.Q6J("innerText",n.emptyTableMessage||t.lcZ(1,1,"platformTable.defaultEmptyMessage"))}}function Nt(m,o){if(1&m&&(t.TgZ(0,"tbody",78)(1,"tr",19)(2,"td",79)(3,"div",80),t.ynx(4),t.TgZ(5,"div",null,81),t.Hsn(7),t.qZA(),t.YNc(8,Wt,2,3,"div",82),t.BQk(),t.qZA()()()()),2&m){const n=t.MAs(6),a=t.oxw(2);t.xp6(2),t.uIk("colspan",a._tableColumnsLength),t.xp6(6),t.Q6J("ngIf",!n.hasChildNodes())}}function Gt(m,o){if(1&m&&(t.YNc(0,Zt,2,1,"tbody",71),t.YNc(1,Nt,9,2,"tbody",72)),2&m){const n=t.oxw();t.Q6J("ngIf",!n._firstLoadingDone),t.xp6(1),t.Q6J("ngIf",n._firstLoadingDone)}}function zt(m,o){if(1&m){const n=t.EpF();t.ynx(0),t.TgZ(1,"li",86),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().column,C=t.oxw();return t.KtG(C._columnHeaderSortBy(d.key,C.SORT_DIRECTION.ASC))})("keydown.enter",function(){t.CHM(n);const d=t.oxw().column,C=t.oxw();return t.KtG(C._columnHeaderSortBy(d.key,C.SORT_DIRECTION.ASC))}),t._UZ(2,"span",87),t.TgZ(3,"span",88),t._uU(4),t.ALo(5,"fdTranslate"),t.qZA()(),t.TgZ(6,"li",86),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().column,C=t.oxw();return t.KtG(C._columnHeaderSortBy(d.key,C.SORT_DIRECTION.DESC))})("keydown.enter",function(){t.CHM(n);const d=t.oxw().column,C=t.oxw();return t.KtG(C._columnHeaderSortBy(d.key,C.SORT_DIRECTION.DESC))}),t._UZ(7,"span",89),t.TgZ(8,"span",88),t._uU(9),t.ALo(10,"fdTranslate"),t.qZA()(),t.BQk()}2&m&&(t.xp6(1),t.Q6J("tabindex",0),t.xp6(3),t.Oqu(t.lcZ(5,4,"platformTable.headerMenuSortAsc")),t.xp6(2),t.Q6J("tabindex",0),t.xp6(3),t.Oqu(t.lcZ(10,6,"platformTable.headerMenuSortDesc")))}function Jt(m,o){if(1&m){const n=t.EpF();t.ynx(0),t.TgZ(1,"li",86),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().column,C=t.oxw();return t.KtG(C._columnHeaderGroupBy(d.key))})("keydown.enter",function(){t.CHM(n);const d=t.oxw().column,C=t.oxw();return t.KtG(C._columnHeaderGroupBy(d.key))}),t._UZ(2,"span",90),t.TgZ(3,"span",88),t._uU(4),t.ALo(5,"fdTranslate"),t.qZA()(),t.BQk()}2&m&&(t.xp6(1),t.Q6J("tabindex",0),t.xp6(3),t.Oqu(t.lcZ(5,2,"platformTable.headerMenuGroup")))}function Qt(m,o){1&m&&(t.TgZ(0,"span",88),t._uU(1),t.ALo(2,"fdTranslate"),t.qZA()),2&m&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"platformTable.headerMenuFreeze")))}function Ht(m,o){1&m&&(t.TgZ(0,"span",88),t._uU(1),t.ALo(2,"fdTranslate"),t.qZA()),2&m&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"platformTable.headerMenuEndFreeze")))}function kt(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"li",93),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2).column,C=t.oxw();return t.KtG(C.freezeToColumn(d.name,d.endFreezable))})("keyup.enter",function(){t.CHM(n);const d=t.oxw(2).column,C=t.oxw();return t.KtG(C.freezeToColumn(d.name,d.endFreezable))}),t._UZ(1,"span"),t.YNc(2,Qt,3,3,"span",94),t.YNc(3,Ht,3,3,"span",94),t.qZA()}if(2&m){const n=t.oxw(2).column;t.Q6J("tabindex",0),t.xp6(2),t.Q6J("ngIf",!n.endFreezable),t.xp6(1),t.Q6J("ngIf",n.endFreezable)}}function Yt(m,o){if(1&m){const n=t.EpF();t.TgZ(0,"li",93),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2).column,C=t.oxw();return t.KtG(C.unfreeze(d.name,d.endFreezable))})("keyup.enter",function(){t.CHM(n);const d=t.oxw(2).column,C=t.oxw();return t.KtG(C.unfreeze(d.name,d.endFreezable))}),t._UZ(1,"span"),t.TgZ(2,"span",88),t._uU(3),t.ALo(4,"fdTranslate"),t.qZA()()}2&m&&(t.Q6J("tabindex",0),t.xp6(3),t.Oqu(t.lcZ(4,2,"platformTable.headerMenuUnfreeze")))}function jt(m,o){if(1&m&&(t.ynx(0),t.YNc(1,kt,4,3,"li",91),t.YNc(2,Yt,5,4,"ng-template",null,92,t.W1O),t.BQk()),2&m){const n=t.MAs(3),a=t.oxw().column,d=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null!=d._freezableColumns&&d._freezableColumns.has(a.name)||null!=d._freezableEndColumns&&d._freezableEndColumns.has(a.name)))("ngIfElse",n)}}function Vt(m,o){if(1&m){const n=t.EpF();t.ynx(0),t.TgZ(1,"li",95),t._UZ(2,"i",96),t.TgZ(3,"div",97),t.NdJ("click",function(d){return d.stopPropagation()}),t.TgZ(4,"label",98),t._uU(5),t.ALo(6,"fdTranslate"),t.qZA(),t.TgZ(7,"input",99),t.NdJ("keydown.enter",function(d){t.CHM(n);const C=t.oxw().column,D=t.oxw();let z;return t.KtG(D._columnHeaderFilterBy(C.key,null==(z=d.target)?null:z.value))}),t.qZA()()(),t.BQk()}if(2&m){const n=t.oxw().column;t.xp6(1),t.Q6J("tabindex",0),t.xp6(2),t.Q6J("horizontal",!0),t.xp6(1),t.Q6J("for","fdp-table-column-filtering-"+n.name),t.xp6(1),t.Oqu(t.lcZ(6,5,"platformTable.headerMenuFilter")),t.xp6(2),t.Q6J("id","fdp-table-column-filtering-"+n.name)}}function $t(m,o){if(1&m&&(t.TgZ(0,"ul",84),t.YNc(1,zt,11,8,"ng-container",85),t.YNc(2,Jt,6,4,"ng-container",85),t.YNc(3,jt,4,2,"ng-container",85),t.YNc(4,Vt,8,7,"ng-container",85),t.qZA()),2&m){const n=o.column,a=t.oxw();t.Q6J("noBorder",!0),t.xp6(1),t.Q6J("ngIf",n.sortable),t.xp6(1),t.Q6J("ngIf",n.groupable),t.xp6(1),t.Q6J("ngIf",n.freezable||n.endFreezable),t.xp6(1),t.Q6J("ngIf",n.filterable&&!a._isFilteringFromHeaderDisabled)}}function Xt(m,o){1&m&&t.GkF(0)}function qt(m,o){1&m&&t._UZ(0,"fd-icon",105)}function el(m,o){if(1&m&&t._UZ(0,"fd-icon",106),2&m){const n=t.oxw(2).column,a=t.oxw();let d;t.Q6J("glyph",(null==(d=a._sortRulesMap.get(n.key))?null:d.direction)===a.SORT_DIRECTION.ASC?"sort-ascending":"sort-descending")}}function tl(m,o){if(1&m&&(t.TgZ(0,"div",102),t.YNc(1,qt,1,0,"fd-icon",103),t.YNc(2,el,1,1,"fd-icon",104),t.qZA()),2&m){const n=t.oxw().column,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a._filterRulesMap.has(n.key)),t.xp6(1),t.Q6J("ngIf",a._sortRulesMap.has(n.key))}}function ll(m,o){if(1&m&&(t.TgZ(0,"div",100),t.YNc(1,Xt,1,0,"ng-container",32),t.YNc(2,tl,3,2,"div",101),t.qZA()),2&m){const n=o.column,a=t.oxw(),d=t.MAs(15);t.ekj("fd-table__inner",a._sortRulesMap.has(n.key)||a._filterRulesMap.has(n.key)),t.xp6(1),t.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",t.VKq(5,he,n)),t.xp6(1),t.Q6J("ngIf",a._sortRulesMap.has(n.key)||a._filterRulesMap.has(n.key))}}function nl(m,o){1&m&&t.GkF(0)}function ol(m,o){if(1&m&&(t.ynx(0),t.YNc(1,nl,1,0,"ng-container",108),t.BQk()),2&m){const n=t.oxw().column;t.xp6(1),t.Q6J("ngTemplateOutlet",n.headerCellTemplate)}}function il(m,o){if(1&m&&t._uU(0),2&m){const n=t.oxw().column;t.hij(" ",null==n?null:n.label," ")}}function al(m,o){if(1&m&&(t.YNc(0,ol,2,1,"ng-container",69),t.YNc(1,il,1,1,"ng-template",null,107,t.W1O)),2&m){const n=o.column,a=t.MAs(2);t.Q6J("ngIf",null==n?null:n.headerCellTemplate)("ngIfElse",a)}}function sl(m,o){if(1&m&&(t.ynx(0),t.TgZ(1,"div",111),t._uU(2),t.qZA(),t.BQk()),2&m){const n=t.oxw().row;t.xp6(2),t.AsE(" ",null==n.value?null:n.value.value," - ",null==n.value?null:n.value.count," ")}}function rl(m,o){1&m&&t.GkF(0)}function _l(m,o){if(1&m&&(t.ynx(0),t.TgZ(1,"div",111),t.YNc(2,rl,1,0,"ng-container",32),t._uU(3),t.qZA(),t.BQk()),2&m){const n=t.oxw().row,a=t.oxw(),d=t.MAs(15);t.xp6(2),t.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",t.VKq(3,he,a._keyToColumnMap.get(null==n.value?null:n.value.field))),t.xp6(1),t.hij(": ",null==n.value?null:n.value.value," ")}}function cl(m,o){if(1&m&&(t.TgZ(0,"div",109),t._UZ(1,"span",110),t.YNc(2,sl,3,2,"ng-container",85),t.YNc(3,_l,4,5,"ng-container",85),t.qZA()),2&m){const n=o.row,a=t.oxw();t.xp6(1),t.ekj("fd-table__expand--open",n.expanded),t.xp6(1),t.Q6J("ngIf",1===a._groupRulesMap.size),t.xp6(1),t.Q6J("ngIf",1!==a._groupRulesMap.size)}}function dl(m,o){if(1&m&&t._UZ(0,"span",110),2&m){const n=t.oxw().row;t.ekj("fd-table__expand--open",n.expanded)}}function ul(m,o){1&m&&t.GkF(0)}const lt=function(m,o){return{$implicit:m,popping:!1,rowIndex:o}};function pl(m,o){if(1&m&&(t.ynx(0),t.YNc(1,ul,1,0,"ng-container",32),t.BQk()),2&m){const n=t.oxw(2),a=n.column,d=n.row;t.xp6(1),t.Q6J("ngTemplateOutlet",a.columnCellTemplate)("ngTemplateOutletContext",t.WLB(2,lt,d.value,d.index))}}function fl(m,o){if(1&m&&(t._uU(0),t.ALo(1,"valueByPath")),2&m){const n=t.oxw(2),a=n.row;t.hij(" ",t.xi3(1,1,null==a?null:a.value,n.column.key)," ")}}function gl(m,o){if(1&m&&(t.ynx(0),t.YNc(1,pl,2,5,"ng-container",69),t.YNc(2,fl,2,4,"ng-template",null,70,t.W1O),t.BQk()),2&m){const n=t.MAs(3),a=t.oxw().column;t.xp6(1),t.Q6J("ngIf",null==a?null:a.columnCellTemplate)("ngIfElse",n)}}function ml(m,o){1&m&&t.GkF(0)}function hl(m,o){if(1&m&&(t.ynx(0),t.YNc(1,ml,1,0,"ng-container",32),t.BQk()),2&m){const n=t.oxw(2),a=n.column,d=n.row;t.xp6(1),t.Q6J("ngTemplateOutlet",a.editableColumnCellTemplate)("ngTemplateOutletContext",t.WLB(2,lt,d.value,d.index))}}function bl(m,o){if(1&m&&(t._UZ(0,"fdp-table-editable-cell",116),t.ALo(1,"valueByPath")),2&m){const n=t.oxw(2),a=n.row,d=n.column;t.Q6J("row",a)("column",d)("columnValue",t.xi3(1,3,null==a?null:a.value,d.key))}}function Tl(m,o){if(1&m&&(t.YNc(0,hl,2,5,"ng-container",69),t.YNc(1,bl,2,6,"ng-template",null,115,t.W1O)),2&m){const n=t.MAs(2),a=t.oxw().column;t.Q6J("ngIf",null==a?null:a.editableColumnCellTemplate)("ngIfElse",n)}}function Cl(m,o){if(1&m&&(t.TgZ(0,"div",112),t.YNc(1,dl,1,2,"span",113),t.YNc(2,gl,4,2,"ng-container",69),t.YNc(3,Tl,3,2,"ng-template",null,114,t.W1O),t.qZA()),2&m){const n=o.column,a=o.row,d=o.colIdx,C=t.MAs(4),D=t.oxw();t.Q6J("fdTableTextClass",n.applyText)("noWrap",n.noWrap),t.xp6(1),t.Q6J("ngIf",D._isTreeRowFirstCell(d,a)),t.xp6(1),t.Q6J("ngIf","readonly"===a.state)("ngIfElse",C)}}const vl=[[["fdp-table-no-data-wrapper"]]];let xl=0;class de extends V.i{set dataSource(o){this._ds=o,o&&this._viewInitiated&&this._initializeDS(o)}get dataSource(){return this._ds}set state(o){this.setTableState(o||ee.vk)}get state(){return this.getTableState()}set noBorderX(o){this._noBorderX=o}get noBorderX(){return this._noBorderX||this.noBodyBorders}set noBorderY(o){this._noBorderY=o}get noBorderY(){return this._noBorderY||this.noBodyBorders}set semanticHighlighting(o){this._semanticHighlightingKey=o}get semanticHighlighting(){return!this._semanticHighlightingKey&&this._forceSemanticHighlighting?ee.H8:this._semanticHighlightingKey}set selectedKey(o){this._selectedKey=o}get selectedKey(){return this._selectedKey}set selectableKey(o){this._selectableKey=o}get selectableKey(){return this._selectableKey}get _groupRulesMap(){return this._groupRulesMapSubject.getValue()}get _isShownNavigationColumn(){return this._isShownNavigationColumnSubject.getValue()}get _headerCellFocused(){return"th"===document.activeElement?.tagName.toLowerCase()}get checkedState(){return!!this._checkedAll||!!this._checkedAny&&null}get _isShownSelectionColumn(){return this.selectionMode===J.oW.SINGLE||this.selectionMode===J.oW.MULTIPLE}get _cellMockVisible(){return this._tableColumnResizeService.fixedWidth&&(this.tableContainer?.nativeElement?.scrollWidth??0)>(this.table?.nativeElement?.scrollWidth??0)}get _rowsDraggable(){return this.isTreeTable&&!this._sortRulesMap.size&&!this._groupRulesMap.size&&!this._filterRulesMap.size&&!this._freezableColumns.size&&!this._freezableEndColumns.size}get _toolbarContext(){return{counter:this._totalItems,sortable:this._isShownSortSettingsInToolbar,filterable:this._isShownFilterSettingsInToolbar,groupable:this._isShownGroupSettingsInToolbar,columns:this._isShownColumnSettingsInToolbar}}get _selectionColumnWidth(){return this._isShownSelectionColumn?ee.p2.get(this.contentDensityObserver.value)??0:0}get _semanticHighlightingColumnWidth(){return this.semanticHighlighting?ee.Rh:0}get _fixedColumnsPadding(){return this._semanticHighlightingColumnWidth+this._selectionColumnWidth}get _tableWidthPx(){return this.tableContainer.nativeElement.getBoundingClientRect().width}get loadingState(){return this.loading??this._internalLoadingState}_onFocusOut(){this._focusinTimerId=setTimeout(()=>{this._focusedCellPosition=null})}_onFocusIn(){this._focusinTimerId&&(clearTimeout(this._focusinTimerId),this._focusinTimerId=null)}_onKeyDown(o){(s.yS$.isKeyCode(o,g.oh)||this._rtl&&s.yS$.isKeyCode(o,g.SV))&&o.shiftKey&&this._headerCellFocused?(this._tableColumnResizeService._processResize(-32),o.preventDefault(),o.stopImmediatePropagation()):(s.yS$.isKeyCode(o,g.SV)||this._rtl&&s.yS$.isKeyCode(o,g.oh))&&o.shiftKey&&this._headerCellFocused&&(this._tableColumnResizeService._processResize(32),o.preventDefault(),o.stopImmediatePropagation())}constructor(o,n,a,d,C,D,z,$,oe,se){super(),this._ngZone=o,this._cdr=n,this._tableService=a,this._tableScrollDispatcher=d,this._tableColumnResizeService=C,this._elRef=D,this._rtlService=z,this.contentDensityObserver=$,this.injector=oe,this._liveAnnouncer=se,this.name="platformTable",this.id="fdp-table-"+xl++,this.enableDragResize=!0,this.fixed=!0,this.selectionMode=J.oW.NONE,this.pageScrolling=!1,this.pageScrollingThreshold=80,this.noHorizontalBorders=!1,this.noVerticalBorders=!1,this.noBorders=!1,this.noBodyBorders=!1,this.noOuterBorders=!1,this._noBorderX=!1,this._noBorderY=!1,this.initialSortBy=[],this.initialFilterBy=[],this.initialGroupBy=[],this.rowNavigatable=!1,this.highlightNavigatedRow=!1,this.rowsActivable=!1,this._forceSemanticHighlighting=!1,this.expandOnInit=!1,this.cellFocusedEventAnnouncer=this._defaultCellFocusedEventAnnouncer,this.virtualScroll=!1,this.rowHeight=ee.dN.get(i.J3.COZY),this.renderAhead=40,this.dropMode="auto",this.presetChanged=new t.vpe,this.rowSelectionChange=new t.vpe,this.sortChange=new t.vpe,this.filterChange=new t.vpe,this.groupChange=new t.vpe,this.columnsChange=new t.vpe,this.columnFreeze=new t.vpe,this.rowToggleOpenState=new t.vpe,this.rowsRearrange=new t.vpe,this.rowActivate=new t.vpe,this.rowNavigate=new t.vpe,this.emptyRowAdded=new t.vpe,this.save=new t.vpe,this.cancel=new t.vpe,this.onDataRequested=new t.vpe,this.onDataReceived=new t.vpe,this._tableColumnsSubject=new b.X([]),this.tableColumnsStream=this._tableColumnsSubject.asObservable(),this.SORT_DIRECTION=J.Sr,this.SELECTION_MODE=J.oW,this._dataSourceItemsSubject=new b.X([]),this._tableRows=[],this._dataSourceTableRows=[],this._newTableRows=[],this._tableRowsVisible=[],this._sortRulesMap=new Map,this._filterRulesMap=new Map,this._groupRulesMapSubject=new b.X(new Map),this._isShownNavigationColumnSubject=new b.X(!1),this._keyToColumnMap=new Map,this._nameToColumnMap=new Map,this._freezableColumns=new Map,this._freezableEndColumns=new Map,this._isShownSortSettingsInToolbar=!1,this._isShownFilterSettingsInToolbar=!1,this._isShownGroupSettingsInToolbar=!1,this._isShownColumnSettingsInToolbar=!1,this._isFilteringFromHeaderDisabled=!1,this._tableColumnsLength=0,this._rtl=!1,this._checkedAll=!1,this._checkedAny=!1,this._totalItems=0,this._visibleColumns=[],this._poppingColumns=[],this._isGroupTable=!1,this._virtualScrollTotalHeight=0,this._virtualScrollTransform=null,this._tableRowsInViewport=[],this._subscriptions=new c.w0,this._viewInitiated=!1,this._dragDropInProgress=!1,this._firstLoadingDone=!1,this._addedItems=[],this._columnsWidthSet=!1,this._internalLoadingState=!1,this._rangeSelector=new s.Wh8,this._currentPreset={},this._initialStateSet=!1,this._virtualScrollCache={startNodeIndex:-1,visibleNodeCount:-1,totalNodeCount:-1},this._rowHeightManuallySet=!1}ngOnChanges(o){"loading"in o&&this._tableService.setTableLoading(this.loadingState),"trackBy"in o&&(this._rowTrackBy="function"==typeof this.trackBy?(n,a)=>this.trackBy(n,a.value):void 0),this._viewInitiated&&("selectionMode"in o&&this._rangeSelector.reset(),("selectionMode"in o||"freezeColumnsTo"in o||"freezeEndColumnsTo"in o||"semanticHighlighting"in o)&&this.recalculateTableColumnWidth(),"rowNavigatable"in o&&(this._tableRows.forEach(n=>n.navigatable=this._isRowNavigatable(n.value,this.rowNavigatable)),this._calculateIsShownNavigationColumn()),"rowHeight"in o&&(this._rowHeightManuallySet=!0),this.virtualScroll&&(o.rowHeight||o.virtualScroll||o.renderAhead)&&this._calculateVirtualScrollRows())}ngOnInit(){this._tableColumnResizeService.setTableRef(this),this._isGroupTable=this.initialGroupBy?.length>0}ngAfterViewInit(){this._viewInitiated=!0,this._setInitialState(),this._ds&&this._initializeDS(this._ds),this._listenToRtlChanges(),this._listenToTableStateChanges(),this._listenToColumns(),this._calculateVisibleColumns(),this._constructTableMetadata(),this._listenToTableRowsPipe(),this._listenToPageScrolling(),this._listenToVirtualScroll(),this._listenToRowHeightChange(),this._listenToColumnPropertiesChange(),this._listenToTableWidthChanges(),this._listenToTableContainerMouseLeave(),this._listenToLoadingAndRefocusCell(),this._cdr.detectChanges(),this.expandOnInit&&this.expandAll()}ngOnDestroy(){this._closeDataSource(),this._subscriptions.unsubscribe()}getTableState(){return this._tableService.getTableState()}setTableState(o){this._tableService.setTableState(o),this._cdr.markForCheck()}getTableColumns(){return this.columns?.toArray()||[]}getVisibleTableColumns(){return this._visibleColumns||[]}sort(o){this._tableService.setSort(o),this._cdr.markForCheck()}addSort(o){this._tableService.addSort(o),this._cdr.markForCheck()}filter(o){this._tableService.setFilters(o),this._cdr.markForCheck()}addFilter(o){this._tableService.addFilters(o),this._cdr.markForCheck()}removeFilter(o){this._tableService.removeFilters(o),this._cdr.markForCheck()}group(o){this._tableService.setGroups(o),this._cdr.markForCheck()}addGroup(o){this._tableService.addGroups(o),this._cdr.markForCheck()}setColumns(o){const a={columns:[],keys:[]};this.getTableColumns().filter(d=>o.includes(d.name)).sort((d,C)=>o.indexOf(d.name)-o.indexOf(C.name)).reduce((d,C)=>(d.columns.push(C.name),d.keys.push(C.key),d),a),this._tableService.setColumns(a.columns,a.keys),this._cdr.markForCheck()}freezeToColumn(o,n){n?this.freezeEndColumnsTo=o:this.freezeColumnsTo=o,this._tableService.freezeTo(o,n),this.recalculateTableColumnWidth(),this.columnHeaderPopovers.forEach(a=>{a.close()})}unfreeze(o,n){const a=n?this._freezableEndColumns:this._freezableColumns,d=a.get(o)??-1,C=a[d-1];n?this.freezeEndColumnsTo=C:this.freezeColumnsTo=C,this._tableService.freezeTo(C,n),this.recalculateTableColumnWidth(),this.columnHeaderPopovers.forEach(D=>{D.close()})}expandAll(){this._tableRows.forEach(o=>{o.expanded=!0,o.hidden=!1}),this._onTableRowsChanged()}collapseAll(){this._tableRows.forEach(o=>{o.expanded=!1,o.parent&&(o.hidden=!0)}),this._onTableRowsChanged()}search(o){this._tableService.search(o),this._cdr.markForCheck()}setCurrentPage(o){this._tableService.setCurrentPage(o),this._cdr.markForCheck()}showSortSettingsInToolbar(o){this._isShownSortSettingsInToolbar=o,this._cdr.detectChanges()}showFilterSettingsInToolbar(o){this._isShownFilterSettingsInToolbar=o,this._cdr.detectChanges()}showGroupSettingsInToolbar(o){this._isShownGroupSettingsInToolbar=o,this._cdr.detectChanges()}showColumnSettingsInToolbar(o){this._isShownColumnSettingsInToolbar=o,this._cdr.detectChanges()}setHeaderColumnFilteringDisabled(o){this._isFilteringFromHeaderDisabled=o}setRowNavigation(o,n){const a=this._tableRows[o];a&&(a.navigatable=this._isRowNavigatable(a.value,n),this._calculateIsShownNavigationColumn(),this._cdr.markForCheck())}toggleSelectableRow(o){const n=this._tableRows[o];!n||!1===n.value[this.selectableKey]||(this.selectionMode===J.oW.SINGLE?this._toggleSingleSelectableRow(n):this.selectionMode===this.SELECTION_MODE.MULTIPLE&&this._toggleMultiSelectRow(n))}setRowCheckedState(o,n){const a=this._tableRows[o];a&&a.checked!==n&&this.toggleSelectableRow(o)}removeRowNavigation(o){const n=this._tableRows[o];n&&(n.navigatable=!1,this._calculateIsShownNavigationColumn(),this._cdr.markForCheck())}recalculateTableColumnWidth(){this._tableColumnResizeService.setColumnNames(this._visibleColumns.map(o=>o.name)),this._setFreezableInfo()}getMaxAllowedFreezableColumnsWidth(){return this._freezableColumns.size?this._tableWidthPx-this._fixedColumnsPadding-12-1:0}getDataSource(){return this._tableDataSource}addRow(){this._forceSemanticHighlighting=!0;const o=this._buildNewRowSkeleton();o[this.semanticHighlighting]=ee.xK,this._addedItems.unshift(o);const n=this._createTableRowsByDataSourceItems([o]);this._newTableRows=[...n,...this._newTableRows],this._setTableRows(),this.emptyRowAdded.emit()}cancelEditing(){this._resetEditState(),this.cancel.emit()}saveRows(){const o=new te(()=>{this._tableDataSource.fetch(this.getTableState())},[...this._addedItems]),n=[...this.customEditableCells.toArray(),...this.editableCells.toArray()].map(a=>a.form);n.forEach(a=>a.onSubmit(null)),!n.some(a=>a.invalid)&&(this._resetEditState(),this.save.emit(o))}setPreset(o){this._currentPreset=o;const n=Object.assign({},this._getDefaultPresetState(),o);this._tableService.setSort(n.sortBy),this._tableService.setFilters(n.filterBy),this._tableService.setGroups(n.groupBy),this.setColumns(n.columns),this._tableService.search(n.searchInput),this._tableService.freezeTo(n.freezeToColumn),this.pageSize=n.page.pageSize,this._tableService.setCurrentPage(n.page.currentPage),this._tableService.setTableState(n)}getCurrentPreset(){if(!this._currentPreset)return this.getTableState();const o={...this._currentPreset},n=Object.keys(o),a=this.getTableState();return Object.keys(a).forEach(d=>{"columnKeys"===d||(!a[d]||Array.isArray(a[d])&&0===a[d]?.length)&&!n.includes(d)||(o[d]=a[d])}),o}toggleGroupRows(...o){let n=null;for(const a of o){if(n=n?n.children[a]:this._tableRows[a],n.type===J.AM.ITEM)break;this._toggleGroupRow(n)}this._cdr.detectChanges()}_isColumnHasHeaderMenu(o){return o.sortable||o.groupable||o.freezable||o.endFreezable||o.filterable&&!this._isFilteringFromHeaderDisabled}_isTreeRow(o){return o.type===J.AM.TREE}_isItemRow(o){return o.type===J.AM.ITEM}_isGroupRow(o){return o.type===J.AM.GROUP}_toggleMultiSelectRow(o,n){if(this.selectionMode!==J.oW.MULTIPLE)throw new Error("Unexpected selection mode");const a=o.checked=!o.checked,d=this._tableRows,C=this._tableRows.findIndex($=>$===o),D=[],z=[];this._rangeSelector.onRangeElementToggled(C,n),this._rangeSelector.applyValueToEachInRange($=>{const oe=d[$];(this._isItemRow(oe)||this._isTreeRow(oe))&&(oe.checked=a,a?z.push(oe):D.push(oe))}),this._emitRowSelectionChangeEvent(z,D),this._calculateCheckedAll()}_toggleSingleSelectableRow(o){if(this.selectionMode!==J.oW.SINGLE)throw new Error("Unexpected selection mode");const n=o.checked=!o.checked,a=[],d=[];this._getSelectableRows().forEach(C=>{C!==o&&C.checked&&(C.checked=!1,a.push(C))}),n?d.push(o):a.push(o),this._emitRowSelectionChangeEvent(d,a),this._calculateCheckedAll()}_toggleAllSelectableRows(o){const n=[],a=[];this._getSelectableRows().forEach(d=>{d.checked!==o&&(d.checked=o,o?a.push(d):n.push(d))}),this._rangeSelector.reset(),this._emitRowSelectionChangeEvent(a,n),this._calculateCheckedAll()}_emitRowSelectionChangeEvent(o,n){const a=this._getSelectableRows().filter(({checked:d})=>d).map(({value:d})=>d);this.rowSelectionChange.emit({source:this,selection:a,added:o.map(({value:d})=>d),removed:n.map(({value:d})=>d),index:o.concat(n).map(({index:d})=>d)})}_emitRowsRearrangeEvent(o,n,a){const d=this._tableRows.map(({value:C})=>C);this.rowsRearrange.emit(new G(o.value,n.value,a.draggedItemIndex,a.replacedItemIndex,a.insertAt,a.mode,d))}_columnHeaderGroupBy(o){this.group(1===this.state.groupBy?.length&&this.state.groupBy[0].field===o?[]:[{field:o,direction:J.Sr.NONE,showAsColumn:!0}]),this._closePopoverForColumnByFieldName(o)}_columnHeaderFilterBy(o,n){n?this.addFilter([{field:o,value:n,type:J.g.STRING,strategy:J.QA.CONTAINS,exclude:!1}]):this.removeFilter([o]),this._closePopoverForColumnByFieldName(o)}_columnHeaderSortBy(o,n){this.sort([{field:o,direction:n}]),this._closePopoverForColumnByFieldName(o)}_onCellClick(o,n){"readonly"===n.state&&this._isTreeRowFirstCell(o,n)&&this._toggleGroupRow(n)}_onRowClick(o,n){if("readonly"===o.state){if(n&&n instanceof KeyboardEvent&&s.yS$.isKeyCode(n,g.L_)){const a=n.target;("checkbox"===a.type||"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName)&&n.preventDefault()}o.navigatable&&this._emitRowNavigate(o),this.rowsActivable&&this._emitRowActivate(o)}}_emitRowActivate(o){if(!this.rowsActivable)return;const n=this._tableRows.indexOf(o);this.rowActivate.emit(new w(n,o.value))}_toggleGroupRow(o){if(this._dragDropInProgress)return;this._toggleExpandableTableRow(o);const n=this._tableRows.indexOf(o);this.rowToggleOpenState.emit(new S(n,o.value,o.expanded))}_isTreeRowFirstCell(o,n){return 0===o&&this._isTreeRow(n)}_dragDropStart(){this._dragDropInProgress=!0}_dragDropItemDrop(o){if(this._ngZone.runOutsideAngular(()=>{setTimeout(()=>this._dragDropInProgress=!1)}),this.isTreeTable&&o.draggedItemIndex!==o.replacedItemIndex){const n=this._tableRows.find(d=>d===this._tableRowsVisible[o.draggedItemIndex]),a=this._tableRows.find(d=>d===this._tableRowsVisible[o.replacedItemIndex]);if(!n||!a||this._isDroppedInsideItself(a,n))return;this._dragDropUpdateDragParentRowAttributes(n),this._dragDropRearrangeTreeRows(n,a,o),this._dragDropUpdateDropRowAttributes(n,a,o.mode),a.expanded||"group"!==o.mode?this._onTableRowsChanged():this._toggleExpandableTableRow(a),this._cdr.markForCheck(),this._emitRowsRearrangeEvent(n,a,o)}}_emitRowNavigate(o){if(!o.navigatable)return;const n=this._tableRows.indexOf(o);this.highlightNavigatedRow&&(this._navigatedRowIndex=n),this.rowNavigate.emit(new w(n,o.value))}_columnTrackBy(o,n){return n.name}_onCellFocused(o,n,a){var d=this;return(0,e.Z)(function*(){d._focusedCellPosition={rowIndex:o.rowIndex,colIndex:o.colIndex},d._scrollToOverlappedCell(),d.cellFocusedEventAnnouncer&&(d._liveAnnouncer.clear(),yield d._liveAnnouncer.announce(d.cellFocusedEventAnnouncer(o,n,a)))})()}fetch(){this._tableDataSource.fetch(this.getTableState())}_dragRowFromKeyboard(o,n,a,d){if(!this._rowsDraggable)return;let C;n.preventDefault(),C="up"===o?a-1:a+1,this._tableRowsVisible[C]&&(this._dragDropItemDrop({items:this._tableRowsVisible,draggedItemIndex:a,replacedItemIndex:C,insertAt:"down"===o?"after":"before",mode:d}),setTimeout(()=>{n.target.focus()}))}_closePopoverForColumnByFieldName(o){const n=this._visibleColumns.findIndex(a=>a.key===o);-1!==n&&this.columnHeaderPopovers.get(n)?.close()}_isDroppedInsideItself(o,n){return!!this._getRowParents(o).find(d=>d===n)}_dragDropUpdateDragParentRowAttributes(o){const n=o.parent;if(!n)return;const a=this._findRowChildren(n),d=this._findRowChildren(o);a.length-(d.length+1)==0&&(n.type=J.AM.ITEM)}_dragDropUpdateDropRowAttributes(o,n,a){o.parent&&o.parent.children.splice(o.parent.children.indexOf(o),1),o.level=n.level+("group"===a?1:0),"group"===a?(o.parent=n,this._isTreeRow(n)||(n.type=J.AM.TREE),n.children.push(o)):(o.parent=n.parent,n.parent?.children.push(o)),this._findRowChildren(o).forEach(C=>{C.level=this._getRowParents(C).length})}_dragDropRearrangeTreeRows(o,n,a){"shift"===a.mode?this._handleShiftDropAction(o,n,a):this._handleReplaceDropAction(o,n,a)}_getNewDragDropRowsPosition(o,n){const a=this._tableRows,d=a.findIndex(_e=>_e===o),C=this._findRowChildren(o),D=a.splice(d,C.length+1),z=a.findIndex(_e=>_e===n),oe=this._findRowChildren(n).length+1,se=a.splice(z+oe,a.length+oe),re=a.splice(z,oe);return{allRows:a,rowsToMove:D,rowsAfterDropRow:se,dropRowItems:re}}_handleShiftDropAction(o,n,a){const{allRows:d,rowsToMove:C,rowsAfterDropRow:D,dropRowItems:z}=this._getNewDragDropRowsPosition(o,n);this._tableRows=[...d,..."after"===a.insertAt?z:[],...C,..."after"===a.insertAt?[]:z,...D]}_handleReplaceDropAction(o,n,a){const{allRows:d,rowsToMove:C,rowsAfterDropRow:D,dropRowItems:z}=this._getNewDragDropRowsPosition(o,n);this._tableRows=[...d,...z,...C,...D]}_setInitialState(){const o=this.getTableState(),n=this.getTableColumns(),a=o.page,d=this.initialVisibleColumns||(o.columns.length?o.columns:n.map(({name:C})=>C));this.setTableState({...o,columns:d,columnKeys:n.filter(C=>d.includes(C.name)).map(C=>C.key),sortBy:this.initialSortBy||o.sortBy,filterBy:this.initialFilterBy||o.filterBy,groupBy:this.initialGroupBy||o.groupBy,freezeToColumn:this.freezeColumnsTo||o.freezeToColumn,freezeToEndColumn:this.freezeEndColumnsTo||o.freezeToEndColumn,page:{currentPage:a.currentPage||1,pageSize:this.pageSize||a.pageSize}})}_listenToTableRowsPipe(){this._subscriptions.add(this._dataSourceItemsSubject.pipe((0,F.U)(o=>this._createTableRowsByDataSourceItems(o)),(0,Z.w)(o=>this.isTreeTable?(0,T.of)(o):this._groupRulesMapSubject.pipe((0,F.U)(n=>this._groupTableRows(o,n.values()))))).subscribe(o=>{this._setTableRows(o)}))}_listenToTableStateChanges(){this._subscriptions.add(this._tableService.tableStateChanges$.subscribe(()=>{this.presetChanged.emit(this.getCurrentPreset())})),this._subscriptions.add((0,v.T)(this._tableService.sortChange,this._tableService.filterChange,this._tableService.searchChange,this._tableService.pageChange).pipe((0,F.U)(()=>this._tableService.getTableState()),(0,Q.h)(o=>!!o&&!!this._tableDataSource),(0,H.x)()).subscribe(o=>{this._tableDataSource.fetch(o)})),this._subscriptions.add(this._tableService.sortChange.subscribe(o=>{this._buildSortRulesMap(),this.sortChange.emit(new A(this,o.current,o.previous))})),this._subscriptions.add(this._tableService.filterChange.subscribe(o=>{this._buildFilterRulesMap(),this.filterChange.emit(new y(this,o.current,o.previous))})),this._subscriptions.add(this._tableService.freezeChange.subscribe(o=>{this.columnFreeze.emit(new P(this,o.current,o.previous)),this.fixed=!!this.fixed||!!this._freezableColumns.size||!!this._freezableEndColumns.size})),this._subscriptions.add(this._tableService.groupChange.subscribe(o=>{this._buildGroupRulesMap(),this._calculateVisibleColumns(),this.recalculateTableColumnWidth(),this.groupChange.emit(new B(this,o.current,o.previous))})),this._subscriptions.add(this._tableService.columnsChange.subscribe(o=>{this._calculateVisibleColumns(),this.recalculateTableColumnWidth(),this.columnsChange.emit(new U(this,o.current,o.previous))}))}_listenToRtlChanges(){this._rtlService&&this._subscriptions.add(this._rtlService.rtl.pipe((0,H.x)()).subscribe(o=>{this._rtl=o,this._cdr.markForCheck()}))}_createTableRowsByDataSourceItems(o){if(this.isTreeTable)return this._createTreeTableRowsByDataSourceItems(o);const n=this._getSelectionStatusByRowValue(o);return o.map((a,d)=>{const C=this._addedItems.includes(a),D=new K(J.AM.ITEM,a[this.selectedKey]??!!n.get(a),d,a);return D.navigatable=this._isRowNavigatable(a,this.rowNavigatable),D.state=C?"editable":"readonly",D})}_createTreeTableRowsByDataSourceItems(o){const n=[],a=this._getSelectionStatusByRowValue(o);return o.forEach((d,C)=>{const D=Object.prototype.hasOwnProperty.call(d,this.relationKey)&&Array.isArray(d[this.relationKey])&&d[this.relationKey].length,z=new K(D?J.AM.TREE:J.AM.ITEM,d[this.selectedKey]??!!a.get(d),C,d);if(z.expanded=!1,z.navigatable=this._isRowNavigatable(d,this.rowNavigatable),n.push(z),D){const $=this._createTreeTableRowsByDataSourceItems(d[this.relationKey]);$.forEach(oe=>{oe.parent=oe.parent||z,oe.level=oe.parent.level+1,oe.hidden=!0}),z.children.push(...$),n.push(...$)}}),n}_getSelectionStatusByRowValue(o){const n=new Map;return(this.selectionMode===J.oW.SINGLE||this.selectionMode===J.oW.MULTIPLE)&&"function"==typeof this.rowComparator&&this._tableRows.filter(d=>d.checked).forEach(d=>{const C=o.find(D=>this.rowComparator(d.value,D));C&&n.set(C,d.checked)}),n}_setTableRows(o=this._dataSourceTableRows){if(this._dataSourceTableRows=o,this._tableRows=[...this._newTableRows,...this._dataSourceTableRows],this._onTableRowsChanged(),this._calculateIsShownNavigationColumn(),this._rangeSelector.reset(),o.length&&!this._columnsWidthSet)return this.recalculateTableColumnWidth(),void(this._columnsWidthSet=!0);setTimeout(()=>{this._cdr.destroyed||this._cdr.detectChanges()})}_onTableRowsChanged(){this._calculateVisibleTableRows(),this._calculateCheckedAll()}_calculateVisibleTableRows(){this._tableRowsVisible=this._tableRows.filter(o=>!o.hidden),this.virtualScroll?this._calculateVirtualScrollRows():this._tableRowsInViewport=this._tableRowsVisible}_calculateVirtualScrollRows(){if(!this.virtualScroll||!this.bodyHeight)return;const o=this._tableRowsVisible.length;let n=Math.floor(this.tableScrollable.getScrollTop()/this.rowHeight)-this.renderAhead;n=Math.max(0,n);let a=Math.ceil(this.tableContainer.nativeElement.clientHeight/this.rowHeight)+2*this.renderAhead;a=Math.min(o-n,a),(n!==this._virtualScrollCache.startNodeIndex||a!==this._virtualScrollCache.visibleNodeCount||o!==this._virtualScrollCache.totalNodeCount||this._tableRowsVisible[n]!==this._tableRowsInViewport[0])&&(this._virtualScrollCache={startNodeIndex:n,visibleNodeCount:a,totalNodeCount:o},this._virtualScrollTotalHeight=o*this.rowHeight-a*this.rowHeight,this._virtualScrollTransform="translateY("+n*this.rowHeight+"px)",this._tableRowsInViewport=this._tableRowsVisible.slice(n,n+a),this._cdr.detectChanges())}_listenToRowHeightChange(){this._subscriptions.add(this.contentDensityObserver.pipe((0,Q.h)(()=>!this._rowHeightManuallySet)).subscribe(o=>{this.rowHeight=ee.dN.get(o)??ee.dN.get(i.J3.COZY),this._calculateVirtualScrollRows()}))}_listenToVirtualScroll(){this._subscriptions.add(this._tableScrollDispatcher.verticallyScrolled().pipe((0,Q.h)(()=>this.virtualScroll&&!!this.bodyHeight)).subscribe(()=>{this._calculateVirtualScrollRows()}))}_listenToColumns(){this.columns.changes.pipe((0,j.O)(null)).subscribe(()=>{const o=this.getTableColumns(),n=this._tableColumnsSubject.getValue().map(D=>D.name),a=o.map(D=>D.name),d=o.filter(D=>D.visible&&!n.includes(D.name)).map(D=>D.name),C=this.getTableState().columns;this._buildColumnsMap(o),this._tableColumnsSubject.next(o),this._initialStateSet&&this.setColumns([...C,...d]),this._initialStateSet=!0,this._tableService.columnsChange.emit({previous:a,current:n}),this._tableService.detectChanges()})}_calculateVisibleColumns(){const o=this.getTableColumns(),{columns:n,groupBy:a}=this.getTableState(),d=a.filter(({showAsColumn:D})=>!D).map(({field:D})=>D),C=n.map(D=>o.find(z=>z.name===D)).filter(D=>!!D).filter(({key:D})=>!d.includes(D));this._visibleColumns=C.filter(D=>"visible"===D.responsiveState),this._poppingColumns=C.filter(D=>"popping"===D.responsiveState),this._calculateTableColumnsLength()}_calculateTableColumnsLength(){this._tableColumnsLength=this._visibleColumns.length+(this._isShownSelectionColumn?1:0)}_calculateIsShownNavigationColumn(){this._isShownNavigationColumnSubject.next(this._tableRows.some(o=>o.navigatable))}_setFreezableInfo(){this._freezableColumns=this._getFreezableColumns(),this._freezableEndColumns=this._getFreezableEndColumns(),this.fixed=!!this.fixed||!!this._freezableColumns.size||!!this._freezableEndColumns.size}_getFreezableColumns(){const o=new Map,n=this._visibleColumns;if(!n.length||!this.freezeColumnsTo)return o;for(const a of n)if(a.name&&(o.set(a.name,o.size),a.name===this.freezeColumnsTo))return o;return new Map}_getFreezableEndColumns(){const o=new Map,n=this._visibleColumns;if(!n.length||!this.freezeEndColumnsTo)return o;for(let a=n.length-1;a>=0;a--)if(o.set(n[a].name,o.size),n[a].name===this.freezeEndColumnsTo)return o;return new Map}_constructTableMetadata(){const o=this.getTableState();this._buildSortRulesMap(o),this._buildGroupRulesMap(o),this._buildFilterRulesMap(o)}_buildGroupRulesMap(o=this.getTableState()){const n=new Map(o.groupBy.map(a=>[a.field,a]));this._groupRulesMapSubject.next(n),this._isGroupTable=n.size>0}_buildSortRulesMap(o=this.getTableState()){this._sortRulesMap=new Map(o.sortBy.filter(n=>n.field).map(n=>[n.field,n]))}_buildFilterRulesMap(o=this.getTableState()){this._filterRulesMap=o.filterBy.reduce((n,a)=>{const d=a.field;return n.has(d)||n.set(d,[]),n.get(d)?.push(a),n},new Map)}_buildColumnsMap(o=this._tableColumnsSubject.getValue()){this._keyToColumnMap=new Map(o.map(n=>[n.key,n])),this._nameToColumnMap=new Map(o.map(n=>[n.name,n]))}_createGroupedTableRowsTree(o,n,a=null,d=0){if(!(o=[...o]).length)return n.map($=>($.parent=a,$.level=d,$.hidden=!!a&&!a.expanded,$));const C=o.shift(),D=n.filter($=>"editable"!==$.state).reduce(($,oe)=>{const se=(0,u.Z)(oe.value,C.field);return $.has(se)||$.set(se,[]),$.get(se)?.push(oe),$},new Map);let z=[];n.some($=>"editable"===$.state)&&(z=n.filter($=>"editable"===$.state).map($=>($.parent=a,$.level=-1,$.hidden=!!a&&!a.expanded,$)));for(const[$,oe]of Array.from(D)){const se=n.filter(_e=>oe.includes(_e));if(0===se.length)continue;const re=new K(J.AM.GROUP,!1,0,{field:C.field,value:$,count:0},a,d,!0,!0,!!a&&!a.expanded);re._children=this._createGroupedTableRowsTree(o,se,re,d+1),re.value.count=re._children?.length,z.push(re)}return z}_sortTreeLikeGroupedRows(o){if(!o[0]||!this._isGroupRow(o[0]))return o;const n=o,a=n[0];n.forEach(z=>{z._children&&(z._children=this._sortTreeLikeGroupedRows(z._children))});const d=this._groupRulesMap.get(a.value.field);if(!d||d.direction===J.Sr.NONE)return n;const C=d.direction,D=C===J.Sr.ASC?1:C===J.Sr.DESC?-1:0;return n.slice().sort((z,$)=>{const oe=z.value.value,se=$.value.value,re=Number.parseFloat(oe),_e=Number.parseFloat(se);return Number.isNaN(re)||Number.isNaN(_e)?(oe>se?1:-1)*D:(re-_e)*D})}_convertTreeLikeToFlatList(o){let n=[];for(const a of o)n.push(a),Array.isArray(a._children)&&(n=n.concat(this._convertTreeLikeToFlatList(a._children)),delete a._children);return n}_groupTableRows(o,n){const a=Array.from(n);if(!a.length)return o.forEach(D=>{D.hidden=!1}),o;const d=this._createGroupedTableRowsTree(a,o),C=this._sortTreeLikeGroupedRows(d);return this._convertTreeLikeToFlatList(C)}_toggleExpandableTableRow(o){const n=o.expanded=!o.expanded;this._findRowChildren(o).forEach(a=>{n||(a.hidden=!0,a.expanded=!1),n&&(a.hidden=!this._getRowParents(a,o).every(d=>d.expanded))}),this._onTableRowsChanged()}_findRowChildren(o){const n=this._tableRows,a=n.length;let d=n.indexOf(o);const C=this._getRowParents(o),D=[];for(;d++<a;){const z=n[d];if(!z?.parent||C.includes(z.parent))break;D.push(z)}return D}_getRowParents(o,n=null){n=n||null;const a=[];let d=o.parent||null;for(;d&&d!==n;)a.push(d),d=d.parent||null;return a}_resetAllSelectedRows(o=!1){this._checkedAll=!1,this._checkedAny=!1;const n=[];this._getSelectableRows().forEach(a=>{o&&a.checked&&n.push(a),a.checked=!1}),o&&this._emitRowSelectionChangeEvent([],n)}_calculateCheckedAll(){const o=this._getSelectableRows(),n=o.filter(a=>a.checked);this._checkedAll=n.length===o.length&&0!==o.length,this._checkedAny=n.length>0}_getSelectableRows(){return this._tableRows.filter(o=>this._isSelectableRow(o))}_isSelectableRow(o){return(this._isItemRow(o)||this._isTreeRow(o))&&!1!==o.value[this.selectableKey]}_initializeDS(o){this._closeDataSource(),this._resetAllSelectedRows(),this._tableDataSource=this._openDataStream(o)}_closeDataSource(){this._tableDataSource&&(this._tableDataSource.close(),this._dsSubscription&&(this._dsSubscription.unsubscribe(),this._dsSubscription=null))}_openDataStream(o){const n=this._toDataStream(o);if(void 0===n)throw new Error("[TableDataSource] source did not match an Array, Observable, nor DataSource");this._dsOpenedStream=n.open(),this._dsSubscription=new c.w0;const a=this._dsOpenedStream.subscribe(d=>{this._totalItems=n.dataProvider.totalItems,this._dataSourceItemsSubject.next(d),this._cdr.markForCheck()});return this._dsSubscription.add(a),this._dsSubscription.add(n.onDataRequested().subscribe(()=>{this.onDataRequested.emit(),this._internalLoadingState=!0,this._tableService.setTableLoading(this.loadingState)})),this._dsSubscription.add(n.onDataReceived().subscribe(()=>{this.onDataReceived.emit(),this._internalLoadingState=!1,this._firstLoadingDone=!0,this._tableService.setTableLoading(this.loadingState)})),this._subscriptions.add(this._dsSubscription),n.fetch(this.getTableState()),n}_toDataStream(o){return(0,f.Z9)(o)?o:Array.isArray(o)?new le.Z(o):(0,E.b)(o)?new ne.Q(o):void 0}_listenToPageScrolling(){this._subscriptions.add(this._tableScrollDispatcher.scrolled().pipe((0,Q.h)(()=>this.pageScrolling),(0,Y.b)(50),(0,Q.h)(o=>o===this.tableScrollable),(0,F.U)(o=>o.getElementRef().nativeElement),(0,Q.h)(o=>!!o),(0,Q.h)(({scrollHeight:o,clientHeight:n,scrollTop:a})=>o-n-a<=this.pageScrollingThreshold),(0,Q.h)(()=>{const{page:{currentPage:o,pageSize:n}}=this.getTableState();return o<Math.ceil(this._totalItems/(n||this._totalItems))})).subscribe(()=>{const o=this.getTableState().page.currentPage;this._ngZone.run(()=>{this.setCurrentPage(o+1)})}))}_listenToColumnPropertiesChange(){this._subscriptions.add(this._tableService.markForCheck$.subscribe(()=>this._cdr.markForCheck())),this._subscriptions.add(this._tableService.detectChanges$.subscribe(()=>this._cdr.detectChanges()))}_listenToTableWidthChanges(){this._subscriptions.add((0,s.qYq)(this.tableContainer.nativeElement).pipe((0,Y.b)(100)).subscribe(()=>{this.recalculateTableColumnWidth(),(this._freezableColumns.size||this._freezableEndColumns.size)&&this._tableColumnResizeService.updateFrozenColumnsWidth()}))}_listenToTableContainerMouseLeave(){this._subscriptions.add((0,R.R)(this.tableContainer.nativeElement,"mouseleave").subscribe(()=>this._tableColumnResizeService.hideResizer()))}_isRowNavigatable(o,n){return!!o&&((0,f.HD)(n)?!!o[n]:!!n)}_buildNewRowSkeleton(){if(this.editableRowSkeleton)return(0,p.Z)(this.editableRowSkeleton);let o={};return this.columns.forEach(n=>{o=(0,h.Z)(o,n.key,void 0)}),o}_resetEditState(){this._newTableRows=[],this._addedItems=[],this._forceSemanticHighlighting=!1,this._setTableRows()}_getDefaultPresetState(){const o=this._tableService.getTableState();return{columnKeys:o.columnKeys,sortBy:[],filterBy:[],groupBy:[],columns:o.columns,searchInput:{category:null,text:""},freezeToColumn:null,freezeToEndColumn:null,page:{pageSize:0,currentPage:1}}}_listenToLoadingAndRefocusCell(){this._subscriptions.add(this._tableService.tableLoading$.pipe((0,Q.h)(o=>!o)).subscribe(()=>{setTimeout(()=>{this._focusedCellPosition&&this._focusableGrid.focusCell(this._focusedCellPosition)})}))}_defaultCellFocusedEventAnnouncer(o,n,a){return`${n},\n            column ${o.colIndex+1} of ${o.totalCols},\n            row: ${o.rowIndex+1} of ${o.totalRows}`+(null!==a?`, level: ${a+1}`:"")}_scrollToOverlappedCell(){const o=this.tableScrollable.getElementRef().nativeElement;if((this._freezableColumns.size||this._freezableEndColumns.size)&&o.scrollWidth>o.clientWidth){const n=document.activeElement;if(n&&!n.classList.contains("fd-table__cell--fixed")&&!n.classList.contains("fd-table__cell--fixed-end"))if(this._freezableColumns.size&&!this._freezableEndColumns.size)n.scrollIntoView({block:"nearest",inline:"end"});else if(!this._freezableColumns.size&&this._freezableEndColumns.size)n.scrollIntoView({block:"nearest",inline:"center"});else if(this._freezableColumns.size&&this._freezableEndColumns.size){const a=n.getBoundingClientRect().left,d=n.getBoundingClientRect().top,C=document.elementFromPoint(a,d);if(C&&!n.isSameNode(C)&&C.classList.contains("fd-table__cell--fixed-end")){const D=C.getBoundingClientRect().left,z=this._rtl?-1*(a+n.getBoundingClientRect().width-D):a+n.getBoundingClientRect().width-D;o.scrollBy({top:0,left:z})}else if(C&&!n.isSameNode(C)&&C.classList.contains("fd-table__cell--fixed")){const D=C.getBoundingClientRect().right,z=this._rtl?-1*(a-n.getBoundingClientRect().width-D):a-n.getBoundingClientRect().width-D;o.scrollBy({top:0,left:z})}}}}}de.\u0275fac=function(o){return new(o||de)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(X.w),t.Y36(N.C),t.Y36(L.o),t.Y36(t.SBq),t.Y36(s.qFd,8),t.Y36(i.c7),t.Y36(t.zs3),t.Y36(ae.Kd))},de.\u0275cmp=t.Xpm({type:de,selectors:[["fdp-table"]],contentQueries:function(o,n,a){if(1&o&&(t.Suo(a,k.Y,5),t.Suo(a,q.D,4),t.Suo(a,O.b,5)),2&o){let d;t.iGM(d=t.CRH())&&(n.tableToolbar=d.first),t.iGM(d=t.CRH())&&(n.columns=d),t.iGM(d=t.CRH())&&(n.customEditableCells=d)}},viewQuery:function(o,n){if(1&o&&(t.Gf(me,5),t.Gf(Ge,5),t.Gf(r.ac,5,t.SBq),t.Gf(s.Gzr,5),t.Gf(ze,5),t.Gf(O.b,5),t.Gf(r.DM,5),t.Gf(_.F,5)),2&o){let a;t.iGM(a=t.CRH())&&(n.tableScrollable=a.first),t.iGM(a=t.CRH())&&(n.tableContainer=a.first),t.iGM(a=t.CRH())&&(n.table=a.first),t.iGM(a=t.CRH())&&(n._focusableGrid=a.first),t.iGM(a=t.CRH())&&(n.columnHeaderPopovers=a),t.iGM(a=t.CRH())&&(n.editableCells=a),t.iGM(a=t.CRH())&&(n.tableRows=a),t.iGM(a=t.CRH())&&(n.editableCellForms=a)}},hostAttrs:[1,"fdp-table"],hostVars:11,hostBindings:function(o,n){1&o&&t.NdJ("focusout",function(){return n._onFocusOut()})("focusin",function(){return n._onFocusIn()})("keydown",function(d){return n._onKeyDown(d)}),2&o&&(t.uIk("id",n.id),t.ekj("fd-table--no-horizontal-borders",n.noHorizontalBorders||n.noBorders)("fd-table--no-vertical-borders",n.noVerticalBorders||n.noBorders)("fd-table--tree",n.isTreeTable)("fd-table--group",n._isGroupTable)("fdp-table--no-outer-border",n.noOuterBorders))},inputs:{name:"name",id:"id",enableDragResize:"enableDragResize",fixed:"fixed",dataSource:"dataSource",state:"state",freezeColumnsTo:"freezeColumnsTo",freezeEndColumnsTo:"freezeEndColumnsTo",selectionMode:"selectionMode",pageScrolling:"pageScrolling",pageSize:"pageSize",pageScrollingThreshold:"pageScrollingThreshold",bodyHeight:"bodyHeight",loading:"loading",emptyTableMessage:"emptyTableMessage",noHorizontalBorders:"noHorizontalBorders",noVerticalBorders:"noVerticalBorders",noBorders:"noBorders",noBodyBorders:"noBodyBorders",noOuterBorders:"noOuterBorders",noBorderX:"noBorderX",noBorderY:"noBorderY",initialVisibleColumns:"initialVisibleColumns",initialSortBy:"initialSortBy",initialFilterBy:"initialFilterBy",initialGroupBy:"initialGroupBy",isTreeTable:"isTreeTable",relationKey:"relationKey",rowNavigatable:"rowNavigatable",highlightNavigatedRow:"highlightNavigatedRow",rowsActivable:"rowsActivable",semanticHighlighting:"semanticHighlighting",selectedKey:"selectedKey",selectableKey:"selectableKey",trackBy:"trackBy",rowComparator:"rowComparator",rowsClass:"rowsClass",editableRowSkeleton:"editableRowSkeleton",expandOnInit:"expandOnInit",cellFocusedEventAnnouncer:"cellFocusedEventAnnouncer",virtualScroll:"virtualScroll",rowHeight:"rowHeight",renderAhead:"renderAhead",dropMode:"dropMode"},outputs:{presetChanged:"presetChanged",rowSelectionChange:"rowSelectionChange",sortChange:"sortChange",filterChange:"filterChange",groupChange:"groupChange",columnsChange:"columnsChange",columnFreeze:"columnFreeze",rowToggleOpenState:"rowToggleOpenState",rowsRearrange:"rowsRearrange",rowActivate:"rowActivate",rowNavigate:"rowNavigate",emptyRowAdded:"emptyRowAdded",save:"save",cancel:"cancel",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},features:[t._Bn([{provide:V.i,useExisting:de},X.w,N.C,L.o,M.x,(0,i.EQ)({supportedContentDensity:[i.J3.COMPACT,i.J3.COZY,i.J3.CONDENSED]}),{provide:f.ID,useExisting:de}]),t.qOj,t.TTD],ngContentSelectors:["fdp-table-no-data-wrapper"],decls:20,vars:5,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"loading","block"],[1,"fdp-table__container"],["tableContainer",""],[3,"ngTemplateOutlet"],["class","fdp-table__column-resizer",4,"ngIf"],["tableTemplate",""],["emptyTableTemplate",""],["headerPopoverTemplate",""],["tableHeaderCellTemplate",""],["tableHeaderCellContentTemplate",""],["tableCellExpandTemplate",""],["tableCellTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fdp-table__column-resizer"],["fdpTableScrollable","",1,"fdp-table__body","fd-scrollbar"],["tableScrollable","tableScrollable"],["fd-table","",1,"fdp-table__body-table",3,"allCellsFocusable","popIn"],["fd-table-header","",1,"fdp-table__header"],["fd-table-row",""],["fd-table-cell","","fd-table-status-indicator","","fdkDisabled","",3,"fd-table__cell--fixed","min-width","max-width",4,"ngIf"],["fd-table-cell","","class","fd-table__cell--checkbox",3,"fd-table__cell--fixed","style",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["fd-table-cell","","class","fdp-table__cell--navigation is-last-child","role","columnheader",4,"ngIf"],["fdkDisabled","",1,"fd-table__cell","fd-table__cell--mock"],["fd-table-body","","fd-dnd-list","",3,"noBorderX","noBorderY","tabIndex","items","draggable","dropMode","transform","itemDropped",4,"ngIf","ngIfElse"],[3,"height",4,"ngIf"],["fd-table-cell","","fd-table-status-indicator","","fdkDisabled",""],["fd-table-cell","",1,"fd-table__cell--checkbox"],["labelClass","fd-table__checkbox-label",3,"tristate","tristateSelectable","ngModel","ngModelChange",4,"ngIf"],["labelClass","fd-table__checkbox-label",3,"tristate","tristateSelectable","ngModel","ngModelChange"],["fd-table-cell","","role","columnheader",3,"focusable","fdpTableCellResizable","columnName","id","ngClass","ngStyle","fdPopoverTrigger","cellFocusedEventAnnouncer","cellFocused"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-table-popover","",3,"disabled","noArrow","focusAutoCapture","focusTrapped","triggers"],["columnHeaderPopover",""],["fd-table-cell","","role","columnheader",1,"fdp-table__cell--navigation","is-last-child"],["fd-table-body","","fd-dnd-list","",3,"noBorderX","noBorderY","tabIndex","items","draggable","dropMode","itemDropped"],[3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngSwitch"],["fd-table-row","",3,"height","click",4,"ngSwitchCase"],["fd-table-row","","fd-dnd-item","",3,"applyDragItemClass","class","tabindex","focusable","hoverable","activable","active","highlightActive","height","main","click","keydown.enter","keydown.space","keydown.alt.arrowup","keydown.alt.arrowdown","keydown.alt.shift.arrowup","keydown.alt.shift.arrowdown","started",4,"ngSwitchDefault"],["fd-table-row","",3,"secondary","class",4,"ngIf"],["fd-table-row","",3,"click"],["fd-table-cell","","tabindex","0","role","gridcell",1,"fd-table__cell--group","fd-table__cell--expand",3,"click","keydown.enter"],["fd-table-row","","fd-dnd-item","",3,"applyDragItemClass","tabindex","focusable","hoverable","activable","active","highlightActive","main","click","keydown.enter","keydown.space","keydown.alt.arrowup","keydown.alt.arrowdown","keydown.alt.shift.arrowup","keydown.alt.shift.arrowdown","started"],["fd-table-cell","","fd-table-status-indicator","","fdkDisabled","",3,"addDisabledClass","status",4,"ngIf"],[4,"ngSwitchCase"],["selectionMock",""],["fd-table-cell","","role","gridcell",3,"fdpTableCellResizable","columnName","headers","ngClass","fd-table__cell--fixed","fd-table__cell--fixed-last","fd-table__cell--fixed-end","fd-table__cell--fixed-end-last","fd-table__cell--expand","is-last-child","ngStyle","cellFocusedEventAnnouncer","cellFocused","click","keydown.enter",4,"ngFor","ngForOf"],["fd-table-cell","","class","fdp-table__cell--navigation is-last-child","fdkDisabled","",3,"addDisabledClass",4,"ngIf"],["fdkDisabled","",1,"fd-table__cell","fd-table__cell--mock",3,"addDisabledClass"],["fd-table-cell","","fd-table-status-indicator","","fdkDisabled","",3,"addDisabledClass","status"],["class","fd-table__cell--checkbox","role","rowheader","fd-table-cell","","fd-table-cell-selectable","",3,"fd-table__cell--fixed","style","click","keydown.enter","keydown.space",4,"ngIf","ngIfElse"],["role","rowheader","fd-table-cell","","fd-table-cell-selectable","",1,"fd-table__cell--checkbox",3,"click","keydown.enter","keydown.space"],["class","fd-table__cell--checkbox","role","cell","fd-table-cell","",3,"fd-table__cell--fixed","style",4,"ngIf","ngIfElse"],["role","cell","fd-table-cell","",1,"fd-table__cell--checkbox"],["labelClass","fd-table__checkbox-label",3,"ngModel","click","keydown.enter","keydown.space"],["role","gridcell","fd-table-cell","","fdkDisabled","",1,"fd-table__cell--checkbox",3,"addDisabledClass"],["fd-table-cell","","role","gridcell",3,"fdpTableCellResizable","columnName","headers","ngClass","ngStyle","cellFocusedEventAnnouncer","cellFocused","click","keydown.enter"],["fd-table-cell","","fdkDisabled","",1,"fdp-table__cell--navigation","is-last-child",3,"addDisabledClass"],["fd-table-icon","","class","fdp-table__navigation-indicator",3,"navigation","class",4,"ngIf"],["fd-table-icon","",1,"fdp-table__navigation-indicator",3,"navigation"],["fd-table-row","",3,"secondary"],["fd-table-cell","","fdkDisabled","",3,"addDisabledClass",4,"ngIf"],["fd-table-cell","","colspan","100%",3,"click","keydown.enter"],["fd-table-text","",4,"ngFor","ngForOf"],["fd-table-cell","","fdkDisabled","",3,"addDisabledClass"],["fd-table-text",""],["fd-form-label",""],[4,"ngIf","ngIfElse"],["defaultTableCellTemplate",""],["fd-table-body","",4,"ngIf"],["fd-table-body","","class","fdp-table__empty",4,"ngIf"],["fd-table-body",""],["fd-table-row","",4,"fdkRepeat"],["fd-table-cell","",4,"fdkRepeat"],["fd-table-cell",""],["type","text","textLines","1","width","60%",2,"margin","auto 0"],["fd-table-body","",1,"fdp-table__empty"],["fd-table-cell","",1,"fd-table__cell--no-data"],[1,"fdp-table__empty-table-message"],["noDataWrapper",""],[3,"innerText",4,"ngIf"],[3,"innerText"],["fd-list","",3,"noBorder"],[4,"ngIf"],["fd-list-item","",1,"fd-table__item--clickable",3,"tabindex","click","keydown.enter"],["fd-list-icon","","glyph","sort-ascending"],["fd-list-title",""],["fd-list-icon","","glyph","sort-descending"],["fd-list-icon",""],["class","fd-table__item--clickable","fd-list-item","",3,"tabindex","click","keyup.enter",4,"ngIf","ngIfElse"],["unfreezeTpl",""],["fd-list-item","",1,"fd-table__item--clickable",3,"tabindex","click","keyup.enter"],["fd-list-title","",4,"ngIf"],["fd-list-item","",3,"tabindex"],["fd-list-icon","","glyph","filter"],["fd-form-item","",3,"horizontal","click"],["fd-form-label","",3,"for"],["fd-form-control","",3,"id","keydown.enter"],[1,"fd-table__text--no-wrap"],["class","fd-table__column-header-icons",4,"ngIf"],[1,"fd-table__column-header-icons"],["fd-table-icon","","glyph","filter",4,"ngIf"],["fd-table-icon","",3,"glyph",4,"ngIf"],["fd-table-icon","","glyph","filter"],["fd-table-icon","",3,"glyph"],["defaultHeaderCellTemplate",""],[4,"ngTemplateOutlet"],[1,"fd-table__expand-wrapper"],["aria-hidden","true",1,"fd-table__expand"],[1,"fd-table__text","fd-table__text--no-wrap"],["fd-table-text","",3,"fdTableTextClass","noWrap"],["class","fd-table__expand","aria-hidden","true",3,"fd-table__expand--open",4,"ngIf"],["editModeCell",""],["defaultEditableTableCellTemplate",""],[3,"row","column","columnValue"]],template:function(o,n){if(1&o&&(t.F$t(vl),t.YNc(0,Je,1,2,"ng-container",0),t.TgZ(1,"fd-busy-indicator",1)(2,"div",2,3),t.GkF(4,4),t.YNc(5,Qe,1,0,"fdp-table-column-resizer",5),t.qZA()(),t.YNc(6,Ft,12,24,"ng-template",null,6,t.W1O),t.YNc(8,Gt,2,2,"ng-template",null,7,t.W1O),t.YNc(10,$t,5,5,"ng-template",null,8,t.W1O),t.YNc(12,ll,3,7,"ng-template",null,9,t.W1O),t.YNc(14,al,3,2,"ng-template",null,10,t.W1O),t.YNc(16,cl,4,4,"ng-template",null,11,t.W1O),t.YNc(18,Cl,5,5,"ng-template",null,12,t.W1O)),2&o){const a=t.MAs(7);t.Q6J("ngIf",n.tableToolbar),t.xp6(1),t.Q6J("loading",n.loadingState&&n._firstLoadingDone)("block",!0),t.xp6(3),t.Q6J("ngTemplateOutlet",a),t.xp6(1),t.Q6J("ngIf",n.enableDragResize)}},dependencies:[ie.mk,ie.sg,ie.O5,ie.tP,ie.PC,ie.RF,ie.n9,ie.ED,_.JJ,_.On,be.a,Te.v,Ce.f,ve.D,ue.t,pe.L,Ee.H,xe.s,Re.Q,De.A,Se.T,Me.J,Oe.h,ye.b,Ae.U,Pe.V,Ie.n,Le.G,Be.X,fe.E,He.o,ce.B,ke.P,we.Y,Ye._,je.G,Ve.F,Fe.k,$e.g,Xe.K,qe.g,et.o,ie.Ov,Ue.u,Ke.n,Ze.j,We.a,ge.r,Ne.A],styles:['/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-scrollbar{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:auto;padding:0;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-scrollbar:after,.fd-scrollbar:before{box-sizing:inherit;font-size:inherit}.fd-scrollbar.is-focus,.fd-scrollbar:focus{outline:none;z-index:5}.fd-scrollbar::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-scrollbar::-webkit-scrollbar-corner,.fd-scrollbar::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-scrollbar::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-scrollbar::-webkit-scrollbar-thumb:active,.fd-scrollbar::-webkit-scrollbar-thumb:hover{box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-scrollbar--container::-webkit-scrollbar-corner,.fd-scrollbar--container::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color);border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-corner,.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-corner,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}.fdp-table{display:block}.fdp-table .fdp-table__body-table,.fdp-table .fdp-table__header-table,.fdp-table .fdp-table__body-hs-table{table-layout:auto;width:100%;border-collapse:separate;border-spacing:0}.fdp-table .fd-table__body:focus{outline-offset:-.1875rem;outline-width:.0625rem;outline-width:var(--sapContent_FocusWidth, .0625rem);outline-color:#000;outline-color:var(--sapContent_FocusColor, #000);outline-style:dotted;outline-style:var(--sapContent_FocusStyle, dotted)}.fdp-table.fd-table--tree .fd-table__body .fd-table__row,.fdp-table.fd-table--tree .fd-table__body .fd-table__row .fd-replace-indicator,.fdp-table.fd-table--group .fd-table__body .fd-table__row,.fdp-table.fd-table--group .fd-table__body .fd-table__row .fd-replace-indicator{height:2.75rem}.fdp-table.fd-table--tree.fd-table--compact .fd-table__body .fd-table__row,.fdp-table.fd-table--tree.fd-table--compact .fd-table__body .fd-table__row .fd-replace-indicator,.fdp-table.fd-table--group.fd-table--compact .fd-table__body .fd-table__row,.fdp-table.fd-table--group.fd-table--compact .fd-table__body .fd-table__row .fd-replace-indicator{height:2rem}.fdp-table.fd-table--tree.fd-table--condensed .fd-table__body .fd-table__row,.fdp-table.fd-table--tree.fd-table--condensed .fd-table__body .fd-table__row .fd-replace-indicator,.fdp-table.fd-table--group.fd-table--condensed .fd-table__body .fd-table__row,.fdp-table.fd-table--group.fd-table--condensed .fd-table__body .fd-table__row .fd-replace-indicator{height:1.563rem}.fdp-table.fd-table--tree .fd-table__body .fd-table__row:hover{cursor:grab}.fdp-table.fd-table--tree .fd-table__body .fd-table__row:active{cursor:grabbing}[dir=rtl] .fdp-table.fd-table--tree .fd-table__body .fd-table__row.fd-dnd-on-drag.fd-dnd-placeholder,.fdp-table.fd-table--tree .fd-table__body .fd-table__row.fd-dnd-on-drag.fd-dnd-placeholder[dir=rtl]{padding-left:.5rem}.fdp-table.fd-table--tree .fd-table__body .fd-table__row.fd-dnd-on-drag:not(.fd-dnd-placeholder) .fdp-table__cell--selection{top:0;transform:translate(-100%)}[dir=rtl] .fdp-table.fd-table--tree .fd-table__body .fd-table__row.fd-dnd-on-drag:not(.fd-dnd-placeholder) .fdp-table__cell--selection,.fdp-table.fd-table--tree .fd-table__body .fd-table__row.fd-dnd-on-drag:not(.fd-dnd-placeholder) .fdp-table__cell--selection[dir=rtl]{transform:translate(100%)}.fdp-table.fd-table--tree .fd-table__body .fd-table__row .fd-replace-indicator{top:auto}.fdp-table.fd-table--tree.fd-table--condensed .fd-table__row.fd-dnd-on-drag.fd-dnd-placeholder,.fdp-table.fd-table--tree.fd-table--compact .fd-table__row.fd-dnd-on-drag.fd-dnd-placeholder{padding-left:2rem}[dir=rtl] .fdp-table.fd-table--tree.fd-table--condensed .fd-table__row.fd-dnd-on-drag.fd-dnd-placeholder,.fdp-table.fd-table--tree.fd-table--condensed .fd-table__row.fd-dnd-on-drag.fd-dnd-placeholder[dir=rtl],[dir=rtl] .fdp-table.fd-table--tree.fd-table--compact .fd-table__row.fd-dnd-on-drag.fd-dnd-placeholder,.fdp-table.fd-table--tree.fd-table--compact .fd-table__row.fd-dnd-on-drag.fd-dnd-placeholder[dir=rtl]{padding-left:.5rem}.fdp-table.fd-table--condensed .fd-table__body .fd-table__cell--checkbox .fd-checkbox__label{position:relative;margin-top:0}.fdp-table.fdp-table--no-outer-border .fdp-table__header,.fdp-table.fdp-table--no-outer-border .fdp-table__body,.fdp-table.fdp-table--no-outer-border .fdp-table__body-hs,[dir=rtl] .fdp-table.fdp-table--no-outer-border .fdp-table__header,.fdp-table.fdp-table--no-outer-border .fdp-table__header[dir=rtl],[dir=rtl] .fdp-table.fdp-table--no-outer-border .fdp-table__body,.fdp-table.fdp-table--no-outer-border .fdp-table__body[dir=rtl],[dir=rtl] .fdp-table.fdp-table--no-outer-border .fdp-table__body-hs,.fdp-table.fdp-table--no-outer-border .fdp-table__body-hs[dir=rtl]{border-left:none;border-right:none}[dir=rtl] .fdp-table.fdp-table--no-outer-border .fdp-table__header .fd-table__cell:first-child,.fdp-table.fdp-table--no-outer-border .fdp-table__header[dir=rtl] .fd-table__cell:first-child,[dir=rtl] .fdp-table.fdp-table--no-outer-border .fdp-table__body .fd-table__cell:first-child,.fdp-table.fdp-table--no-outer-border .fdp-table__body[dir=rtl] .fd-table__cell:first-child,[dir=rtl] .fdp-table.fdp-table--no-outer-border .fdp-table__body-hs .fd-table__cell:first-child,.fdp-table.fdp-table--no-outer-border .fdp-table__body-hs[dir=rtl] .fd-table__cell:first-child{border-right:none}.fdp-table.fdp-table--no-outer-border .fdp-table__header .fd-table__cell{border-top:none}.fdp-table.fdp-table--no-outer-border .fdp-table__body{border-bottom:none}.fdp-table__container{position:relative;overflow:hidden;outline:none}.fdp-table__header{z-index:2}.fdp-table__header .fd-table__cell,.fdp-table__header .fd-table__cell--mock{border-top:.0625rem solid #e4e4e4;border-top:var(--sapList_BorderWidth, .0625rem) solid var(--sapList_BorderColor, #e4e4e4);border-bottom:.0625rem solid #e4e4e4;border-bottom:var(--sapList_BorderWidth, .0625rem) solid var(--sapList_BorderColor, #e4e4e4)}.fdp-table__header .fd-table__cell{margin-top:0;max-height:100%;top:0}.fdp-table__header .fd-table__cell--fixed{position:sticky}.fdp-table__header .fd-table__cell .fd-table__popover--custom{display:none}.fdp-table__header .fd-table__cell .fdp-table__navigation-indicator{opacity:0;visibility:hidden}.fdp-table__body-hs{box-sizing:border-box;border-left:.0625rem solid #e4e4e4;border-left:var(--sapList_BorderWidth, .0625rem) solid var(--sapList_BorderColor, #e4e4e4);background:var(--fdScrollbar_Track_Color, #ffffff);padding-right:var(--fdScrollbar_Dimension)}[dir=rtl] .fdp-table__body-hs,.fdp-table__body-hs[dir=rtl]{padding-right:0;padding-left:var(--fdScrollbar_Dimension);border-left:none;border-right:.0625rem solid #e4e4e4;border-right:var(--sapList_BorderWidth, .0625rem) solid var(--sapList_BorderColor, #e4e4e4)}.fdp-table__body-hs-wrap{width:100%;position:relative}.fdp-table__body-hs-spacer{position:absolute;height:1px;visibility:hidden}.fdp-table__empty-table-message{box-sizing:border-box;padding:1rem;text-align:center;display:flex;align-items:center;justify-content:center;align-content:center;width:100%}.fdp-table__empty .fd-table__cell{width:100%}.fdp-table__empty .fd-table__body{border-left:none}[dir=rtl] .fdp-table__empty .fd-table__body,.fdp-table__empty .fd-table__body[dir=rtl]{border-left:.0625rem solid #e4e4e4;border-left:var(--sapList_BorderWidth, .0625rem) solid var(--sapList_BorderColor, #e4e4e4);border-right:none}.fdp-table__empty.fixed-height{background-color:#fff;background-color:var(--sapList_Background, #fff)}.fdp-table .fd-table__cell{z-index:0}.fdp-table .fd-table__cell--group{min-width:100%;border-left:none}.fdp-table .fd-table__cell--group:before{content:"";display:block;position:absolute;top:-.0625rem;left:0;right:0;border-top:.0625rem solid #e4e4e4;border-top:var(--sapList_BorderWidth, .0625rem) solid var(--sapList_BorderColor, #e4e4e4)}.fdp-table .fd-table__cell--status-indicator{border-left:none;border-right:.0625rem solid #e4e4e4;border-right:var(--sapList_BorderWidth, .0625rem) solid var(--sapList_BorderColor, #e4e4e4);min-width:.375rem}[dir=rtl] .fdp-table .fd-table__cell--status-indicator,.fdp-table .fd-table__cell--status-indicator[dir=rtl]{border-right:none}.fdp-table .fd-table__cell--mock.fd-table__cell--mock-borderless{border-left:none!important;border-right:none!important}.fdp-table .fd-table__cell .fdp-table__navigation-indicator{margin:auto}[dir=rtl] .fdp-table .fd-table__cell:nth-last-child(2):not(.fdp-table__cell--group),.fdp-table .fd-table__cell[dir=rtl]:nth-last-child(2):not(.fdp-table__cell--group){border-left:.0625rem solid #e4e4e4;border-left:var(--sapList_BorderWidth, .0625rem) solid var(--sapList_BorderColor, #e4e4e4)}.fdp-table .fd-dnd-item{position:inherit}.fdp-table .fd-table__cell--fixed{position:sticky;display:table-cell;z-index:1}.fdp-table .fd-table__cell--checkbox fd-checkbox{display:flex;height:100%}.fdp-table .fd-table__cell--checkbox fd-checkbox .fd-checkbox__label{align-self:center;margin:0}.fdp-table .fd-table__expand-wrapper{display:flex;align-items:center}.fdp-table__column-resizer{bottom:calc(var(--fdScrollbar_Dimension) + var(--sapList_BorderWidth, .0625rem))}.fdp-table__cell--navigation{width:4rem;min-width:4rem;max-width:4rem}.fdp-table__body-table.fd-table--pop-in .fd-table__row--secondary .fd-table__cell{border-bottom:var(--sapList_BorderWidth) solid var(--sapList_BorderColor)}.fdp-table__body-table.fd-table--pop-in .fdp-table__header .fd-table__cell .fd-table__text{margin-bottom:0}.fdp-table__body--virtual-scroll{position:relative;will-change:scroll-position}.fdp-table__body--virtual-scroll .fd-table__body{position:static;will-change:transform}.fdp-table.fd-table--no-vertical-borders .fd-table__cell--status-indicator{border-right-color:transparent}[dir=rtl] .fdp-table.fd-table--no-vertical-borders .fd-table__cell--status-indicator,.fdp-table.fd-table--no-vertical-borders .fd-table__cell--status-indicator[dir=rtl]{border-left-color:transparent}\n'],encapsulation:2,changeDetection:0})},6739:(W,x,l)=>{l.d(x,{w:()=>f});var e=l(94650),g=l(61135),t=l(77579),_=l(35684),s=l(12559),i=l.n(s),r=l(88293);class f{constructor(){this._tableStateSubject$=new g.X(r.vk),this._tableLoadingSubject$=new g.X(!1),this._markForCheck$=new t.x,this._detectChanges$=new t.x,this.tableState$=this._tableStateSubject$.asObservable(),this.tableLoading$=this._tableLoadingSubject$.asObservable(),this.tableStateChanges$=this.tableState$.pipe((0,_.T)(1)),this.searchChange=new e.vpe,this.sortChange=new e.vpe,this.filterChange=new e.vpe,this.groupChange=new e.vpe,this.freezeChange=new e.vpe,this.columnsChange=new e.vpe,this.pageChange=new e.vpe}get markForCheck$(){return this._markForCheck$}get detectChanges$(){return this._detectChanges$}getTableState(){return this._tableStateSubject$.getValue()}setTableState(h){this._tableStateSubject$.next(h)}setTableLoading(h){this._tableLoadingSubject$.next(h)}markForCheck(){this._markForCheck$.next()}detectChanges(){this._detectChanges$.next()}search(h){const b=this.getTableState(),c={...b,searchInput:h};this.setTableState(u(c,1)),this.searchChange.emit({current:h,previous:b.searchInput})}setSort(h){const b=this.getTableState(),c=b&&b.sortBy||[],T=h?[...h]:[],v={...b,sortBy:T};i()(c,v.sortBy)||(this.setTableState(u(v,1)),this.sortChange.emit({current:v.sortBy,previous:c}))}addSort(h){const b=this.getTableState(),c=b&&b.sortBy||[],T=[...c.filter(E=>!h.find(({field:R})=>R===E.field)),...h],v={...b,sortBy:T};i()(c,v.sortBy)||(this.setTableState(u(v,1)),this.sortChange.emit({current:v.sortBy,previous:c}))}setFilters(h){const b=this.getTableState(),c=b&&b.filterBy||[],T=h?[...h]:[],v={...b,filterBy:T};i()(c,v.filterBy)||(this.setTableState(u(v,1)),this.filterChange.emit({current:v.filterBy,previous:c}))}addFilters(h){const b=this.getTableState(),c=b&&b.filterBy||[],T=[...c.filter(E=>!h.find(({field:R})=>R===E.field)),...h],v={...b,filterBy:T};i()(c,v.filterBy)||(this.setTableState(u(v,1)),this.filterChange.emit({current:v.filterBy,previous:c}))}removeFilters(h){const b=this.getTableState(),c=b&&b.filterBy||[],T=c.filter(E=>!h.includes(E.field)),v={...b,filterBy:T};this.setTableState(u(v,1)),this.filterChange.emit({current:v.filterBy,previous:c})}setGroups(h){const b=this.getTableState(),c=b&&b.groupBy||[],T=h?[...h]:[],v={...b,groupBy:T};i()(c,v.groupBy)||(this.setTableState(v),this.groupChange.emit({current:v.groupBy,previous:c}))}addGroups(h){const b=this.getTableState(),c=b&&b.groupBy||[],T=[...c.filter(E=>!h.find(({field:R})=>R===E.field)),...h],v={...b,groupBy:T};i()(c,v.groupBy)||(this.setTableState(v),this.groupChange.emit({current:v.groupBy,previous:c}))}freezeTo(h,b){const c=this.getTableState();this.setTableState(b?{...c,freezeToEndColumn:h}:{...c,freezeToColumn:h}),this.freezeChange.emit({current:h,previous:b?c.freezeToEndColumn:c.freezeToColumn})}setColumns(h,b){const c=this.getTableState(),T=c&&c.columns||[],v=[...h],E=[...b],R={...c,columns:v,columnKeys:E};i()(T,R.columns)||(this.setTableState(R),this.columnsChange.emit({current:R.columns,previous:T}))}setCurrentPage(h){const b=this.getTableState(),c=b.page;if(c.currentPage===h)return;const T=u(b,h);this.setTableState(T),this.pageChange.emit({current:T.page,previous:c})}}function u(p,h){const b={...p.page,currentPage:h};return{...p,page:b}}f.\u0275fac=function(h){return new(h||f)},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac})},40978:(W,x,l)=>{l.d(x,{i:()=>g});var e=l(94650);class g{constructor(){this.openTableSortSettings=new e.vpe,this.openTableFilterSettings=new e.vpe,this.openTableGroupSettings=new e.vpe,this.openTableColumnSettings=new e.vpe}}},69484:(W,x,l)=>{l.d(x,{FC:()=>f,LG:()=>i}),l(56966);const i=(u,p)=>Array.from(u.reduce((h,b)=>(h.delete(b[p]),h.set(b[p],b),h),new Map).values());function f(u){return void 0!==u.type&&void 0!==u.strategy&&void 0!==u.value}},76829:W=>{W.exports=function l(e,g){if(e===g)return!0;if(e&&g&&"object"==typeof e&&"object"==typeof g){if(e.constructor!==g.constructor)return!1;var t,_,s;if(Array.isArray(e)){if((t=e.length)!=g.length)return!1;for(_=t;0!=_--;)if(!l(e[_],g[_]))return!1;return!0}if(e instanceof Map&&g instanceof Map){if(e.size!==g.size)return!1;for(_ of e.entries())if(!g.has(_[0]))return!1;for(_ of e.entries())if(!l(_[1],g.get(_[0])))return!1;return!0}if(e instanceof Set&&g instanceof Set){if(e.size!==g.size)return!1;for(_ of e.entries())if(!g.has(_[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(g)){if((t=e.length)!=g.length)return!1;for(_=t;0!=_--;)if(e[_]!==g[_])return!1;return!0}if(e.constructor===RegExp)return e.source===g.source&&e.flags===g.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===g.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===g.toString();if((t=(s=Object.keys(e)).length)!==Object.keys(g).length)return!1;for(_=t;0!=_--;)if(!Object.prototype.hasOwnProperty.call(g,s[_]))return!1;for(_=t;0!=_--;){var i=s[_];if(!l(e[i],g[i]))return!1}return!0}return e!=e&&g!=g}},19175:(W,x,l)=>{l.d(x,{Z:()=>u});var e=l(21481),g=l(25575),t=l(56667),_=l(71999),s=l(62168);const u=function f(p,h,b){return null==p?p:function i(p,h,b,c){if(!(0,_.Z)(p))return p;for(var T=-1,v=(h=(0,g.Z)(h,p)).length,E=v-1,R=p;null!=R&&++T<v;){var F=(0,s.Z)(h[T]),Z=b;if("__proto__"===F||"constructor"===F||"prototype"===F)return p;if(T!=E){var Q=R[F];void 0===(Z=c?c(Q,F,R):void 0)&&(Z=(0,_.Z)(Q)?Q:(0,t.Z)(h[T+1])?[]:{})}(0,e.Z)(R,F,Z),R=R[F]}return p}(p,h,b)}}}]);