"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2631],{2631:($e,ee,p)=>{p.r(ee),p.d(ee,{PlatformApprovalFlowDocsModule:()=>hn});var oe=p(77152),H=p(71467),j=p(15067),F=p(6738),e=p(5e3),S=p(91159),z=p(50727),pe=p(77579),R=p(56451),O=p(54968),Y=p(39841),M=p(59468),te=p(68675),ae=p(63900),J=p(69718),K=p(54004),b=p(71884),P=p(62389),Q=p(19977);function T(a){return"approved"===a.status}function V(a){return"not started"!==a.status}function le(a){return null==a?void 0:a.name}function E(a){return null==a?void 0:a.name}function We(a){return null==a?void 0:a.id}function Te(a,r){return a.name.toLowerCase().indexOf(r.toLowerCase())>-1}function q(a,r){var o;return null!==(o=null==r?void 0:r.id)&&void 0!==o?o:a}function $(a){return a.columns.reduce((r,o)=>r.concat(o.nodes),[])}function xe(){return{id:`blankId${(1e3*Math.random()).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",blank:!0}}function W(a,r){return a.targets.includes(r)}var u=p(69808),I=p(30514),G=p(34531),ne=p(79754),ie=p(93839),se=p(52985),fe=p(85677),ce=p(45277),_e=p(21382),ve=p(81353),ge=p(17923),me=p(68575),Ne=p(26069),re=p(9866),h=p(52382),Fe=p(4270),Se=p(60026),L=p(27946);function oo(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.userListSelectedItemsCountSingular")," "))}const to=function(a){return{count:a}};function ao(a,r){if(1&a&&(e._uU(0),e.ALo(1,"fdTranslate")),2&a){const o=e.oxw(2);e.hij(" ",e.xi3(1,1,"platformApprovalFlow.userListSelectedItemsCountPlural",e.VKq(4,to,o._selectedItems.length))," ")}}function lo(a,r){if(1&a&&(e.TgZ(0,"div",3),e.YNc(1,oo,3,3,"ng-container",4),e.YNc(2,ao,2,6,"ng-template",null,5,e.W1O),e.qZA()),2&a){const o=e.MAs(3),t=e.oxw();e.xp6(1),e.Q6J("ngIf",1===t._selectedItems.length)("ngIfElse",o)}}function no(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fdp-standard-list-item",6),e.NdJ("click",function(l){const d=e.CHM(o).$implicit,s=e.oxw();return l.stopPropagation(),e.KtG(s.onUserClick.emit(d))}),e.qZA()}if(2&a){const o=r.$implicit,t=e.oxw();e.Q6J("avatarSrc",o.imgUrl)("avatarTitle",o.name)("description",o.description)("ariaLabel",o.name)("title",o.name),e.uIk("id",t._idPrefix+o.id)}}let Ee=(()=>{class a{constructor(o){this._cdr=o,this.users=[],this.selectedUsers=[],this.isSelectable=!0,this.onUserClick=new e.vpe,this.onSelectionChange=new e.vpe,this._selectedItems=[],this._idPrefix="approval-node-user-",this._trackByFn=q,this._displayUsers=[]}ngAfterViewInit(){if(this.selectedUsers.length){const o=this.selectedUsers.map(t=>t.name);this._selectedItems=this.listItems.filter(t=>o.includes(t.avatarTitle)),this._selectedItems.forEach(t=>{t._selected=!0,this.list._selectItem(t)}),this._cdr.detectChanges()}}ngOnChanges(o){o.users&&this._collectDataProgressive()}ngOnDestroy(){this._killInterval()}_onSelect(o){this._selectedItems=o.selectedItems,this.onSelectionChange.emit(this._getUsersFromSelectedItems(o.selectedItems))}_getUsersFromSelectedItems(o){return o.map(t=>this.users.find(l=>`${this._idPrefix+l.id}`===t.itemEl.nativeElement.id)).filter(t=>!!t)}_collectDataProgressive(){var o;if(this._killInterval(),this._displayUsers=[],null===(o=this.users)||void 0===o||!o.length)return;const t={currentIndex:0};this._userCollectorIntervalFn(t),this._intervalID=window.setInterval(this._userCollectorIntervalFn.bind(this),10,t)}_userCollectorIntervalFn(o){const t=o.currentIndex+100,l=[];for(let n=o.currentIndex;n<=t;n++){if(n>=this.users.length){this._killInterval();break}l.push(this.users[n])}o.currentIndex+=100,this._displayUsers.push(...l),this._cdr.markForCheck()}_killInterval(){this._intervalID&&clearInterval(this._intervalID)}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow-user-list"]],viewQuery:function(o,t){if(1&o&&(e.Gf(re.ns,5),e.Gf(re.db,5)),2&o){let l;e.iGM(l=e.CRH())&&(t.list=l.first),e.iGM(l=e.CRH())&&(t.listItems=l)}},hostAttrs:[1,"fdp-approval-flow-user-list"],inputs:{users:"users",selectedUsers:"selectedUsers",isSelectable:"isSelectable"},outputs:{onUserClick:"onUserClick",onSelectionChange:"onSelectionChange"},features:[e.TTD],decls:3,vars:9,consts:[["class","fdp-approval-flow-user-list__selected-count",4,"ngIf"],[3,"selectionMode","selection","navigationIndicator","hasByLine","ngModel","selectedItems","ngModelChange","selectedItemChange"],[3,"avatarSrc","avatarTitle","description","ariaLabel","title","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fdp-approval-flow-user-list__selected-count"],[4,"ngIf","ngIfElse"],["multipleItems",""],[3,"avatarSrc","avatarTitle","description","ariaLabel","title","click"]],template:function(o,t){1&o&&(e.YNc(0,lo,4,2,"div",0),e.TgZ(1,"fdp-list",1),e.NdJ("ngModelChange",function(n){return t._selectedItems=n})("selectedItemChange",function(n){return t._onSelect(n)}),e.YNc(2,no,1,6,"fdp-standard-list-item",2),e.qZA()),2&o&&(e.Q6J("ngIf",t._selectedItems.length),e.xp6(1),e.Q6J("selectionMode",t.isSelectable?"multi":"none")("selection",t.isSelectable)("navigationIndicator",!0)("hasByLine",!0)("ngModel",t._selectedItems)("selectedItems",t._selectedItems),e.xp6(1),e.Q6J("ngForOf",t._displayUsers)("ngForTrackBy",t._trackByFn))},dependencies:[u.sg,u.O5,h.JJ,h.On,Fe.n,Se.d,L.n],styles:[".fdp-approval-flow-user-list{display:block;margin-top:-1rem}.fdp-approval-flow-user-list__selected-count{line-height:2rem;margin:0 -1rem;padding:0 1rem;background:#f2f2f2;background:var(--sapList_HeaderBackground, #f2f2f2)}\n"],encapsulation:2,changeDetection:0}),a})();var De=p(5982);const po=function(a){return{data:a}};function io(a,r){if(1&a&&(e.GkF(0,5),e.ALo(1,"async")),2&a){const o=e.oxw();e.Q6J("ngTemplateOutlet",o.detailsTemplate)("ngTemplateOutletContext",e.VKq(4,po,e.lcZ(1,2,o.details)))}}let ye=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow-user-details"]],hostAttrs:[1,"fdp-approval-flow-user-details"],inputs:{user:"user",details:"details",detailsTemplate:"detailsTemplate"},decls:8,vars:4,consts:[[1,"fdp-approval-flow-user-details__user-info"],["size","s",3,"image"],[1,"fdp-approval-flow-user-details__name"],[1,"fdp-approval-flow-user-details__description"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"fd-avatar",1),e.TgZ(2,"div")(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA()()(),e.YNc(7,io,2,6,"ng-container",4)),2&o&&(e.xp6(1),e.Q6J("image",t.user.imgUrl),e.xp6(3),e.Oqu(t.user.name),e.xp6(2),e.Oqu(t.user.description),e.xp6(1),e.Q6J("ngIf",t.detailsTemplate))},dependencies:[u.O5,u.tP,De.A,u.Ov],styles:[".fdp-approval-flow-user-details__user-info{display:flex;align-items:center;margin-bottom:1rem}.fdp-approval-flow-user-details__name{font-size:1rem}.fdp-approval-flow-user-details__description{color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70)}\n"],encapsulation:2,changeDetection:0}),a})();function so(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fd-icon",10),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._exitUserDetailsMode())})("keyup.space",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._exitUserDetailsMode())})("keyup.enter",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._exitUserDetailsMode())}),e.qZA()}if(2&a){const o=e.oxw(2);e.Q6J("glyph","navigation-"+(o._data.rtl?"right":"left")+"-arrow")}}function fo(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const o=e.oxw(2);let t;e.xp6(1),e.AsE("",null==o._data.node?null:o._data.node.description," (",null!==(t=null==o._data.node||null==o._data.node.approvers?null:o._data.node.approvers.length)&&void 0!==t?t:0,")")}}const co=function(){return[]};function _o(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fdp-search-field",11),e.NdJ("inputChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._onSearchStringChange(l.text))}),e.ALo(1,"fdTranslate"),e.qZA()}2&a&&e.Q6J("placeholder",e.lcZ(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",e.DdM(4,co))}function vo(a,r){if(1&a&&(e.TgZ(0,"p"),e.YNc(1,so,1,1,"fd-icon",7),e.YNc(2,fo,2,2,"ng-container",8),e.qZA(),e.YNc(3,_o,2,5,"fdp-search-field",9)),2&a){const o=e.oxw(),t=e.MAs(12);e.xp6(1),e.Q6J("ngIf",o._userToShowDetails&&(null==o._data.node?null:o._data.node.approvers)&&o._data.node.approvers.length>1),e.xp6(1),e.Q6J("ngIf",o._isListMode&&!o._userToShowDetails)("ngIfElse",t),e.xp6(1),e.Q6J("ngIf",!o._userToShowDetails&&o._isListMode)}}function go(a,r){if(1&a&&e._UZ(0,"fdp-approval-flow-user-details",12),2&a){const o=e.oxw();e.Q6J("user",o._userToShowDetails)("detailsTemplate",o._data.userDetailsTemplate)("details",o._userToShowDetailsData$)}}function mo(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fdp-approval-flow-user-list",13),e.NdJ("onUserClick",function(l){e.CHM(o);const n=e.oxw();return e.KtG(n._seeUserDetails(l))})("onSelectionChange",function(l){e.CHM(o);const n=e.oxw();return e.KtG(n._selectedUsers=l)}),e.qZA()}if(2&a){const o=e.oxw();e.Q6J("users",o._listItems)}}function uo(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fd-dialog-footer-button")(1,"button",14),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l._sendReminder())}),e.ALo(2,"fdTranslate"),e.qZA()()}if(2&a){const o=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,2,"platformApprovalFlow.userDetailsSendReminderBtnLabel"))("disabled",!o._data.allowSendReminder||o._isListMode&&!o._selectedUsers.length)}}function ho(a,r){1&a&&(e._uU(0),e.ALo(1,"fdTranslate")),2&a&&e.hij(" ",e.lcZ(1,1,"platformApprovalFlow.userDetailsHeader"),"\n")}let Ze=(()=>{class a{constructor(o,t){this.dialogRef=o,this._cdr=t,this._isListMode=!1,this._listItems=[],this._selectedUsers=[]}get _data(){return this.dialogRef.data}ngOnInit(){var o,t,l,n,d;if(this._isListMode=(null!==(t=null===(o=this._data.node)||void 0===o?void 0:o.approvers.length)&&void 0!==t?t:0)>1,this._isListMode)this._setListItems(null!==(n=null===(l=this._data.node)||void 0===l?void 0:l.approvers)&&void 0!==n?n:[]);else{const s=this._data.watcher||(null===(d=this._data.node)||void 0===d?void 0:d.approvers[0]);s?this._seeUserDetails(s):this.dialogRef.close()}}_setListItems(o=[]){this._listItems=[...o],this._cdr.detectChanges()}_exitUserDetailsMode(){this._userToShowDetails=void 0,this._isListMode=!0}_seeUserDetails(o){this._userToShowDetails=o,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",o.id]])),this._isListMode=!1,this._selectedUsers=[],this._cdr.detectChanges()}_sendReminder(){var o;const t=this._isListMode?this._selectedUsers:null===(o=this._data.node)||void 0===o?void 0:o.approvers;this.dialogRef.close(t)}_onSearchStringChange(o){var t,l;this._setListItems(o?null===(l=this._data.node)||void 0===l?void 0:l.approvers.filter(n=>Te(n,o)):null===(t=this._data.node)||void 0===t?void 0:t.approvers)}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(Q.zj),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow-approver-details"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-approver-details"],decls:13,vars:8,consts:[["fdTemplate","header"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"users","onUserClick","onSelectionChange",4,"ngIf"],["fdCompact",""],[4,"ngIf"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],["defaultHeader",""],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter",4,"ngIf"],[4,"ngIf","ngIfElse"],["fdCompact","",3,"placeholder","suggestions","inputChange",4,"ngIf"],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter"],["fdCompact","",3,"placeholder","suggestions","inputChange"],[3,"user","detailsTemplate","details"],[3,"users","onUserClick","onSelectionChange"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","disabled","click"]],template:function(o,t){1&o&&(e.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),e.YNc(2,vo,4,4,"ng-template",0),e.qZA(),e.TgZ(3,"fd-dialog-body"),e.YNc(4,go,1,3,"fdp-approval-flow-user-details",1),e.YNc(5,mo,1,1,"fdp-approval-flow-user-list",2),e.qZA(),e.TgZ(6,"fd-dialog-footer",3),e.YNc(7,uo,3,4,"fd-dialog-footer-button",4),e.TgZ(8,"fd-dialog-footer-button")(9,"button",5),e.NdJ("click",function(){return t.dialogRef.close("Cancel")}),e.ALo(10,"fdTranslate"),e.qZA()()()(),e.YNc(11,ho,2,3,"ng-template",null,6,e.W1O)),2&o&&(e.xp6(1),e.ekj("show-search",!t._userToShowDetails&&t._isListMode),e.xp6(3),e.Q6J("ngIf",t._userToShowDetails),e.xp6(1),e.Q6J("ngIf",t._isListMode),e.xp6(2),e.Q6J("ngIf",t._isListMode||t._userToShowDetails&&1===(null==t._data.node||null==t._data.node.approvers?null:t._data.node.approvers.length)),e.xp6(2),e.Q6J("label",e.lcZ(10,6,"platformApprovalFlow.userDetailsCancelBtnLabel")))},dependencies:[u.O5,I.$,G.r,ne.o,ie.a,se.H,fe.g,ce.A,_e.u,ve.r,ge.S,me.N,Ne.ri,Ee,ye,L.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n"],encapsulation:2,changeDetection:0}),a})();var ke=p(44604);let Ie=(()=>{class a{constructor(o){this.elRef=o,this.active=!1}_checkIfNodeDraggedInDropZone(o){this.active=!1;const t=this.elRef.nativeElement.getBoundingClientRect();t.top+t.height>o.top&&t.left+t.width>o.left&&t.bottom-t.height<o.bottom&&t.right-t.width<o.right&&(this.active=!0)}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(e.SBq))},a.\u0275dir=e.lG2({type:a,selectors:[["","fdp-approval-flow-drop-zone",""]],inputs:{placement:"placement"},exportAs:["fdp-approval-flow-drop-zone"]}),a})();var Le=p(2215),wo=p(21484),Ao=p(49034),Co=p(8451),bo=p(92899),To=p(66583),xo=p(11545);const No=["overflowMenuButton"],Fo=["nodeContent"];function So(a,r){if(1&a&&e._UZ(0,"div",9),2&a){const o=e.oxw();e.ekj("fdp-approval-flow-node__vertical-line-before-solid",o._isVerticalLineBeforeSolid)}}function Mo(a,r){if(1&a&&e._UZ(0,"div",10),2&a){const o=e.oxw();e.ekj("fdp-approval-flow-node__vertical-line-after-solid",o._isVerticalLineAfterSolid)}}function Eo(a,r){1&a&&e._UZ(0,"div",14)}function Do(a,r){1&a&&e._UZ(0,"div",15)}function yo(a,r){1&a&&e._UZ(0,"div",16)}function Zo(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Eo,1,0,"div",11),e.YNc(2,Do,1,0,"div",12),e.YNc(3,yo,1,0,"div",13),e.Hsn(4),e.BQk()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.renderArrow),e.xp6(1),e.Q6J("ngIf",o._isRoot&&0===(null==o.meta?null:o.meta.nodeIndex)),e.xp6(1),e.Q6J("ngIf",o._isFinal&&0===(null==o.meta?null:o.meta.nodeIndex))}}function ko(a,r){if(1&a&&(e.TgZ(0,"button",18),e.NdJ("click",function(t){return t.stopPropagation()}),e.qZA()),2&a){const o=e.oxw(2),t=e.MAs(14);e.Q6J("fdMenuTrigger",t)("disabled",o._isEditActionsAvailable)}}function Io(a,r){if(1&a&&e.YNc(0,ko,1,2,"button",17),2&a){const o=e.oxw();e.Q6J("ngIf",!(null!=o.node&&o.node.disableActions))}}function Lo(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const o=e.oxw(2);e.xp6(1),e.hij(" ",o.node.approvers[0].name," ")}}const ue=function(a){return{count:a}};function Jo(a,r){if(1&a&&(e._uU(0),e.ALo(1,"fdTranslate")),2&a){const o=e.oxw(2);e.hij(" ",e.xi3(1,1,"platformApprovalFlow.nodeMembersCount",e.VKq(4,ue,o.node.approvers.length))," ")}}function Po(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const o=e.oxw(2);e.xp6(1),e.hij(" ",o.node.approvers.length>1?o.node.description:null==o.node.approvers[0]?null:o.node.approvers[0].description," ")}}function Qo(a,r){1&a&&(e._uU(0),e.ALo(1,"fdTranslate")),2&a&&e.hij(" ",e.lcZ(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function Bo(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusApproved")))}function Uo(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusRejected")))}function Ro(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusInProgress")))}function Oo(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusNotStarted")))}function Yo(a,r){if(1&a&&(e.ynx(0)(1,26),e.YNc(2,Bo,3,3,"ng-container",27),e.YNc(3,Uo,3,3,"ng-container",27),e.YNc(4,Ro,3,3,"ng-container",27),e.YNc(5,Oo,3,3,"ng-container",27),e.BQk()()),2&a){const o=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",o.node.status),e.xp6(1),e.Q6J("ngSwitchCase","approved"),e.xp6(1),e.Q6J("ngSwitchCase","rejected"),e.xp6(1),e.Q6J("ngSwitchCase","in progress"),e.xp6(1),e.Q6J("ngSwitchCase","not started")}}function Go(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.nodeStatusDueToday")," "))}function Ho(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a){const o=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"platformApprovalFlow.nodeStatusDueInXDays",e.VKq(4,ue,o.dueDateThreshold-o._dueIn))," ")}}function jo(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a){const o=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"platformApprovalFlow.nodeStatusXDaysOverdue",e.VKq(4,ue,o._dueIn-o.dueDateThreshold))," ")}}function zo(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Go,3,3,"ng-container",2),e.YNc(2,Ho,3,6,"ng-container",2),e.YNc(3,jo,3,6,"ng-container",2),e.BQk()),2&a){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o._dueIn===o.dueDateThreshold),e.xp6(1),e.Q6J("ngIf",o._dueIn<o.dueDateThreshold),e.xp6(1),e.Q6J("ngIf",o._dueIn>o.dueDateThreshold)}}function Ko(a,r){if(1&a&&(e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,Lo,2,1,"ng-container",21),e.YNc(3,Jo,2,6,"ng-template",null,22,e.W1O),e.qZA(),e.TgZ(5,"div",23),e.YNc(6,Po,2,1,"ng-container",21),e.YNc(7,Qo,2,3,"ng-template",null,24,e.W1O),e.qZA(),e.TgZ(9,"fdp-object-status",25),e.YNc(10,Yo,6,5,"ng-container",2),e.YNc(11,zo,4,3,"ng-container",2),e.qZA()()),2&a){const o=e.MAs(4),t=e.MAs(8),l=e.oxw();e.xp6(1),e.ekj("fdp-approval-flow-node__name--members-count",l.node.approvers.length>1),e.Q6J("id",l.approvalFlowNodeId),e.xp6(1),e.Q6J("ngIf",1===l.node.approvers.length)("ngIfElse",o),e.xp6(4),e.Q6J("ngIf",!l.node.variousTeams)("ngIfElse",t),e.xp6(3),e.Q6J("status",l._objectStatus)("inverted",!0),e.xp6(1),e.Q6J("ngIf",!l.checkDueDate||!l._showDueDateWarning),e.xp6(1),e.Q6J("ngIf",l.checkDueDate&&l._showDueDateWarning)}}function Vo(a,r){1&a&&e.GkF(0)}const qo=function(){return{placement:"before-all"}};function $o(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Vo,1,0,"ng-container",28),e.BQk()),2&a){e.oxw();const o=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.DdM(2,qo))}}function Wo(a,r){1&a&&e.GkF(0)}const Xo=function(){return{placement:"before"}};function et(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Wo,1,0,"ng-container",28),e.BQk()),2&a){e.oxw();const o=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.DdM(2,Xo))}}function ot(a,r){1&a&&e.GkF(0)}const tt=function(){return{placement:"after"}};function at(a,r){if(1&a&&(e.ynx(0),e.YNc(1,ot,1,0,"ng-container",28),e.BQk()),2&a){e.oxw();const o=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.DdM(2,tt))}}function lt(a,r){1&a&&e.GkF(0)}const nt=function(){return{placement:"after-all"}};function rt(a,r){if(1&a&&(e.ynx(0),e.YNc(1,lt,1,0,"ng-container",28),e.BQk()),2&a){e.oxw();const o=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.DdM(2,nt))}}function dt(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(o);const l=e.oxw().placement,n=e.oxw();return e.KtG(n.onAdd.emit(l))}),e.qZA()}if(2&a){const o=e.oxw().placement,t=e.MAs(2),l=e.oxw();e.Udp("visibility",t.active?"hidden":""),e.ekj("fdp-approval-flow-node__add--blank",l._blank)("fdp-approval-flow-node__add--before",!l._blank&&("before"===o||"before-all"===o))("fdp-approval-flow-node__add--before-all",!l._blank&&"before-all"===o)("fdp-approval-flow-node__add--after",!l._blank&&("after"===o||"after-all"===o))("fdp-approval-flow-node__add--after-all","after-all"===o)}}function pt(a,r){if(1&a&&(e.YNc(0,dt,1,12,"button",29),e._UZ(1,"div",30,31)),2&a){const o=r.placement,t=e.MAs(2),l=e.oxw();e.Q6J("ngIf","approved"!==l.node.status),e.xp6(1),e.ekj("fdp-approval-flow-node__drop-zone--active",t.active)("fdp-approval-flow-node__drop-zone--blank",l.isNextNodeBlank)("fdp-approval-flow-node__drop-zone--partial",l._dropZonePartial(o)),e.Q6J("placement",o)}}function it(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.MAs(14).close(),e.KtG(l.onAdd.emit("before"))}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversBefore")))}function st(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.MAs(14).close(),e.KtG(l.onAdd.emit("after"))}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversAfter")))}function ft(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.MAs(14).close(),e.KtG(l.onAdd.emit("parallel"))}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversParallel")))}function ct(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.MAs(14).close(),e.KtG(l.onEdit.emit())}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&a&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"platformApprovalFlow.nodeActionEditApprover"),""))}function _t(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.MAs(14).close(),e.KtG(l.onDelete.emit())}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&a&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"platformApprovalFlow.nodeActionRemove"),""))}const vt=["*"],gt={approved:"positive",rejected:"negative","in progress":"informative","not started":""};let mt=0,Pe=(()=>{class a{constructor(o,t,l){this._elRef=o,this._cdr=t,this._rtlService=l,this.renderArrow=!1,this.checkDueDate=!1,this.dueDateThreshold=7,this.allNodesInColumnApproved=!1,this._showDueDateWarning=!1,this._dueIn=0,this.onAdd=new e.vpe,this.onEdit=new e.vpe,this.onDelete=new e.vpe,this.approvalFlowNodeId="fdp-approval-flow-node-"+mt++,this._subscriptions=new z.w0,this._translationResolver=new Le.en}get _blank(){var o;return!(null===(o=this.node)||void 0===o||!o.blank)}get _space(){var o;return!(null===(o=this.node)||void 0===o||!o.space)}get _isRoot(){var o;return null===(o=this.meta)||void 0===o?void 0:o.isRoot}get _isFinal(){var o;return null===(o=this.meta)||void 0===o?void 0:o.isFinal}get _renderLineBefore(){var o;return!(null!==(o=this.node)&&void 0!==o&&o.blank)}get _renderLineAfter(){var o;return!(null!==(o=this.node)&&void 0!==o&&o.blank)||this._isFinal}get _isApproved(){return this.node&&T(this.node)}get _isParentApproved(){var o,t,l;return null!==(t=null===(o=this.meta)||void 0===o?void 0:o.parents)&&void 0!==t&&t.length?this.meta.parents.every(n=>T(n)):!(null===(l=this.meta)||void 0===l||!l.rootNodesApproved)}get _isNodeSelected(){return this.isEdit&&this._isSelected}get _isParallelStart(){var o;return Boolean(null===(o=this.meta)||void 0===o?void 0:o.parallelStart)}get _isParallelEnd(){var o;return Boolean(null===(o=this.meta)||void 0===o?void 0:o.parallelEnd)}get _isFirstInParallel(){var o;return Boolean(null===(o=this.meta)||void 0===o?void 0:o.isFirstInParallel)}get _isLastInParallel(){var o;return Boolean(null===(o=this.meta)||void 0===o?void 0:o.isLastInParallel)}get _lastBlank(){return this._blank&&0===this.node.targets.length}get _isSelected(){return!!this.node.selected}get _nativeElement(){return this._elRef.nativeElement}get _isNotStarted(){return!V(this.node)}get _isEditActionsAvailable(){return"approved"===this.node.status||"rejected"===this.node.status}get _activeDropZones(){return this._dropZones.filter(o=>o.active)}get _isAnyDropZoneActive(){return this._activeDropZones.length>0}get _isVerticalLineBeforeSolid(){var o,t;return null!==(o=this.meta)&&void 0!==o&&o.parents.length?this.meta.parents.every(l=>T(l)):!(null===(t=this.meta)||void 0===t||!t.isVerticalLineBeforeSolid)}get _isVerticalLineAfterSolid(){var o,t;return null!==(o=this.node)&&void 0!==o&&o.targets.length?this._isVerticalLineBeforeSolid&&this.allNodesInColumnApproved:!(null===(t=this.meta)||void 0===t||!t.isVerticalLineAfterSolid)}get _showAddButton(){var o;return this.isEdit&&!this._blank&&!this._space&&!(null!==(o=this.node)&&void 0!==o&&o.disableActions)}get _showAfterAllAddButton(){var o;return this.isEdit&&!this._space&&!(null!==(o=this.node)&&void 0!==o&&o.disableActions)}_dropZonePartial(o){return!this._blank&&(!this.isNextNodeBlank||"before"===o)||this._lastBlank&&"after-all"===o}ngOnInit(){var o;this._checkNodeStatus(),this._subscriptions.add(null===(o=this._rtlService)||void 0===o?void 0:o.rtl.subscribe(()=>this._cdr.markForCheck()))}ngOnChanges(){this._checkNodeStatus()}ngOnDestroy(){this._subscriptions.unsubscribe()}_onMenuOpen(){this._menu.refreshPosition()}_focus(o){var t;null===(t=this._gridListItem)||void 0===t||t.focus(o)}_deactivateDropZones(){this._dropZones.forEach(o=>o.active=!1),this._cdr.detectChanges()}_checkIfNodeDraggedInDropZone(o){this._dropZones.forEach(t=>t._checkIfNodeDraggedInDropZone(o)),this._cdr.detectChanges()}_checkNodeStatus(){if(this.node){if(this.checkDueDate&&this.node.dueDate){const o=Number(new Date(this.node.dueDate))-864e5*this.dueDateThreshold,t=Date.now()-o;return this._dueIn=Math.round(t/864e5),this._showDueDateWarning=!T(this.node)&&o<Date.now(),this._objectStatus=this._showDueDateWarning?"critical":Qe(this.node.status),void this._cdr.detectChanges()}this._objectStatus=Qe(this.node.status),this._cdr.detectChanges()}}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(F.qF,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow-node"]],contentQueries:function(o,t,l){if(1&o&&e.Suo(l,P.Oh,5),2&o){let n;e.iGM(n=e.CRH())&&(t._gridListItem=n.first)}},viewQuery:function(o,t){if(1&o&&(e.Gf(ke.Mn,5),e.Gf(No,5),e.Gf(Fo,5),e.Gf(Ie,5)),2&o){let l;e.iGM(l=e.CRH())&&(t._menu=l.first),e.iGM(l=e.CRH())&&(t._overflowMenuButton=l.first),e.iGM(l=e.CRH())&&(t._nodeContent=l.first),e.iGM(l=e.CRH())&&(t._dropZones=l)}},hostAttrs:[1,"fdp-approval-flow-node"],hostVars:36,hostBindings:function(o,t){2&o&&e.ekj("fdp-approval-flow-node--first-root",null==t.meta?null:t.meta.firstOfMultipleRootNodes)("fdp-approval-flow-node--first-final",null==t.meta?null:t.meta.firstOfMultipleFinalNodes)("fdp-approval-flow-node--edit-mode",t.isEdit)("fdp-approval-flow-node--next-blank",t.isNextNodeBlank)("fdp-approval-flow-node--blank",t._blank)("fdp-approval-flow-node--space",t._space)("fdp-approval-flow-node--root",t._isRoot)("fdp-approval-flow-node--final",t._isFinal)("fdp-approval-flow-node--line-before",t._renderLineBefore)("fdp-approval-flow-node--line-after",t._renderLineAfter)("fdp-approval-flow-node--approved",t._isApproved)("fdp-approval-flow-node--parent-approved",t._isParentApproved)("fdp-approval-flow-node--selected",t._isNodeSelected)("fdp-approval-flow-node--parallel-start",t._isParallelStart)("fdp-approval-flow-node--parallel-end",t._isParallelEnd)("fdp-approval-flow-node--first-in-parallel",t._isFirstInParallel)("fdp-approval-flow-node--last-in-parallel",t._isLastInParallel)("fdp-approval-flow-node--last-blank",t._lastBlank)},inputs:{node:"node",meta:"meta",renderArrow:"renderArrow",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allNodesInColumnApproved:"allNodesInColumnApproved",isEdit:"isEdit",isNextNodeBlank:"isNextNodeBlank"},outputs:{onAdd:"onAdd",onEdit:"onEdit",onDelete:"onDelete"},features:[e.TTD],ngContentSelectors:vt,decls:20,vars:12,consts:[["class","fdp-approval-flow-node__vertical-line-before",3,"fdp-approval-flow-node__vertical-line-before-solid",4,"ngIf"],["class","fdp-approval-flow-node__vertical-line-after",3,"fdp-approval-flow-node__vertical-line-after-solid",4,"ngIf"],[4,"ngIf"],["overflowMenuButton",""],["nodeContent",""],["addNodeButton",""],["fdContentDensity","","placement","bottom-end",3,"isOpenChange"],["menu",""],["fd-menu-item","",3,"click",4,"ngIf"],[1,"fdp-approval-flow-node__vertical-line-before"],[1,"fdp-approval-flow-node__vertical-line-after"],["class","fdp-approval-flow-node__arrow",4,"ngIf"],["class","fdp-approval-flow-node__carousel-start-marker",4,"ngIf"],["class","fdp-approval-flow-node__carousel-end-marker",4,"ngIf"],[1,"fdp-approval-flow-node__arrow"],[1,"fdp-approval-flow-node__carousel-start-marker"],[1,"fdp-approval-flow-node__carousel-end-marker"],["class","fdp-approval-flow-node__menu-button","fd-button","","fdType","transparent","tabindex","0","glyph","overflow","title","Menu","fdCompact","",3,"fdMenuTrigger","disabled","click",4,"ngIf"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","title","Menu","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"fdMenuTrigger","disabled","click"],[1,"fdp-approval-flow-node__info"],[1,"fdp-approval-flow-node__name",3,"id"],[4,"ngIf","ngIfElse"],["multipleApprovers",""],[1,"fdp-approval-flow-node__description"],["variousTeams",""],[3,"status","inverted"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-button","","glyph","add","title","Add node","fdCompact","","class","fdp-approval-flow-node__add",3,"fdp-approval-flow-node__add--blank","fdp-approval-flow-node__add--before","fdp-approval-flow-node__add--before-all","fdp-approval-flow-node__add--after","fdp-approval-flow-node__add--after-all","visibility","click",4,"ngIf"],["fdp-approval-flow-drop-zone","",1,"fdp-approval-flow-node__drop-zone",3,"placement"],["dropZone","fdp-approval-flow-drop-zone"],["fd-button","","glyph","add","title","Add node","fdCompact","",1,"fdp-approval-flow-node__add",3,"click"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(o,t){1&o&&(e.F$t(),e.YNc(0,So,1,2,"div",0),e.YNc(1,Mo,1,2,"div",1),e.YNc(2,Zo,5,3,"ng-container",2),e.YNc(3,Io,1,1,"ng-template",null,3,e.W1O),e.YNc(5,Ko,12,11,"ng-template",null,4,e.W1O),e.YNc(7,$o,2,3,"ng-container",2),e.YNc(8,et,2,3,"ng-container",2),e.YNc(9,at,2,3,"ng-container",2),e.YNc(10,rt,2,3,"ng-container",2),e.YNc(11,pt,3,8,"ng-template",null,5,e.W1O),e.TgZ(13,"fd-menu",6,7),e.NdJ("isOpenChange",function(){return t._onMenuOpen()}),e.YNc(15,it,5,3,"li",8),e.YNc(16,st,5,3,"li",8),e.YNc(17,ft,5,3,"li",8),e.YNc(18,ct,5,3,"li",8),e.YNc(19,_t,5,3,"li",8),e.qZA()),2&o&&(e.Q6J("ngIf",null==t.meta?null:t.meta.renderVerticalLineBefore),e.xp6(1),e.Q6J("ngIf",null==t.meta?null:t.meta.renderVerticalLineAfter),e.xp6(1),e.Q6J("ngIf",!t._blank&&!t._space),e.xp6(5),e.Q6J("ngIf",t._showAddButton&&(null==t.meta?null:t.meta.canAddNodeBeforeAll)&&!(null!=t.node&&null!=t.node.actionsConfig&&t.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",t._showAddButton&&(null==t.meta?null:t.meta.canAddNodeBefore)&&!(null!=t.node&&null!=t.node.actionsConfig&&t.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",t._showAddButton&&(null==t.meta?null:t.meta.canAddNodeAfter)&&(null==t.meta?null:t.meta.renderAddNodeAfterButton)&&!(null!=t.node&&null!=t.node.actionsConfig&&t.node.actionsConfig.disableAddAfter)),e.xp6(1),e.Q6J("ngIf",t._showAfterAllAddButton&&(null==t.meta?null:t.meta.canAddNodeAfterAll)&&(null==t.meta?null:t.meta.renderAddNodeAfterButton)&&!(null!=t.node&&null!=t.node.actionsConfig&&t.node.actionsConfig.disableAddAfter)),e.xp6(5),e.Q6J("ngIf",(null==t.meta?null:t.meta.canAddNodeBefore)&&!(null!=t.node&&null!=t.node.actionsConfig&&t.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",(null==t.meta?null:t.meta.canAddNodeAfter)&&!(null!=t.node&&null!=t.node.actionsConfig&&t.node.actionsConfig.disableAddAfter)),e.xp6(1),e.Q6J("ngIf",(null==t.meta?null:t.meta.canAddParallel)&&!(null!=t.node&&null!=t.node.actionsConfig&&t.node.actionsConfig.disableAddParallel)),e.xp6(1),e.Q6J("ngIf",t._isNotStarted&&!(null!=t.node&&null!=t.node.actionsConfig&&t.node.actionsConfig.disableEdit)),e.xp6(1),e.Q6J("ngIf",!(null!=t.node&&null!=t.node.actionsConfig&&t.node.actionsConfig.disableRemove)))},dependencies:[u.O5,u.tP,u.RF,u.n9,I.$,G.r,wo.k,Ao.M,Co.qv,bo.K,To.h,xo.k,Ie,L.n],styles:[".fdp-approval-flow-node{display:block;box-sizing:border-box;position:relative;width:17.375rem;height:5.875rem;margin-bottom:1rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode{height:7.875rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-after:after{top:-4.9375rem;height:8.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{content:\"\";display:block;position:absolute;top:-3.9375rem;height:6.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before{left:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);-o-border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round;border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before-solid:before{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);-o-border-image:none;border-image:none}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{right:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);-o-border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round;border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after-solid:after{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);-o-border-image:none;border-image:none}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-before:before{left:auto;right:-2.0625rem}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-after:after{right:auto;left:-2.0625rem}.fdp-approval-flow-node .fdp-approval-flow-node__add{position:absolute;z-index:10;margin:calc(3.4375rem - 1px) auto auto;inset:0;border-radius:100%;min-width:1rem;max-width:1rem;min-height:1rem;max-height:1rem}.fdp-approval-flow-node .fdp-approval-flow-node__add fd-icon{line-height:1rem;font-size:.7rem;font-weight:900}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before{left:-2.5rem;right:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-2.8rem}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after{right:-2.5rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-2.8rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone{border-radius:.25rem;position:absolute;height:100%;z-index:1}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa);border:.125rem solid #0854a0;border:.125rem solid var(--sapButton_IconColor, #0854a0)}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--blank{width:100%;top:0}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--partial{width:10%;left:0;top:0}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank{background:transparent;box-shadow:none;pointer-events:none;cursor:default}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:before{content:\"\";display:block;position:absolute;width:calc(100% + 4rem);height:0;left:-2rem;top:calc(50% - .0625rem);border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);-o-border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round;border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{width:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:not(.fdp-approval-flow-node--last-blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{width:100%}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{content:\"\";width:2rem;height:0;display:block;position:absolute;top:calc(50% - .0625rem);bottom:0;pointer-events:none;border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);-o-border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round;border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{right:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--blank:before{border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);-o-border-image:none;border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parent-approved.fdp-approval-flow-node--line-before:before{left:-2rem;border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);-o-border-image:none;border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode.fdp-approval-flow-node--blank{pointer-events:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-end-marker{top:3.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__arrow{display:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{right:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{right:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{left:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{left:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{left:19.875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{right:-12.6875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:calc(100% + 4rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{width:4rem;left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{width:4rem;right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__add,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-after{visibility:hidden}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name{font-size:1rem;line-height:1.25rem;margin-bottom:.1rem;color:#32363a;color:var(--sapTextColor, #32363a)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__description{font-size:.875rem;line-height:1rem;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin-bottom:.4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow{width:0;height:0;border-style:solid;border-width:.375rem 0 .375rem .5rem;border-color:transparent transparent transparent #d9d9d9;border-color:transparent transparent transparent var(--sapGroup_TitleBorderColor, #d9d9d9);position:absolute;left:-.5rem;top:0;bottom:0;margin:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{z-index:1;background:#d9d9d9;background:var(--sapGroup_TitleBorderColor, #d9d9d9);display:block;position:absolute;width:.25rem;height:1rem;top:2.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__arrow{left:auto;right:-.5rem;border-width:.375rem .5rem .375rem 0;border-color:transparent #d9d9d9 transparent transparent;border-color:transparent var(--sapGroup_TitleBorderColor, #d9d9d9) transparent transparent}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-before:before{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-after:after{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count{direction:ltr;text-align:right}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before{right:-2.5rem;left:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-2.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after{left:-2.5rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-2.8rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{left:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{left:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{right:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{right:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{right:19.875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:calc(100% + 2rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{left:-12.6875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:calc(100% + 4rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{left:0}\n"],encapsulation:2,changeDetection:0}),a})();function Qe(a){return gt[a]}var C=(()=>{return(a=C||(C={})).SELECT_TEAM="SELECT_TEAM",a.SELECT_USER="SELECT_USER",a.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",a.USER_DETAILS="USER_DETAILS",C;var a})();let Be=(()=>{class a{constructor(){this.onViewChange=new e.vpe}get isUserDetailsMode(){return this.currentView===C.USER_DETAILS}get isTeamMembersMode(){return this.currentView===C.VIEW_TEAM_MEMBERS}get isSelectUserMode(){return this.currentView===C.SELECT_USER}get isSelectTeamMode(){return this.currentView===C.SELECT_TEAM}get team(){return this.selectedTeam}setCurrentView(o){this.currentView=o,this.onViewChange.emit()}resetView(){this.currentView=void 0,this.onViewChange.emit()}selectTeam(o){this.selectedTeam=o}resetTeam(){this.selectedTeam=void 0}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();var he=p(94834),Ue=p(67909),ut=p(65005),ht=p(46786),wt=p(81009),At=p(21418),we=p(89789),Ct=p(82551),Re=p(7892),Oe=p(15203);function bt(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"div",2)(1,"fd-radio-button",3),e.NdJ("ngModelChange",function(l){e.CHM(o);const n=e.oxw();return e.KtG(n.selectedTeamId=l)})("click",function(){const n=e.CHM(o).$implicit,d=e.oxw();return e.KtG(d.onTeamRadioClick.emit(n))}),e.qZA(),e.TgZ(2,"fdp-standard-list-item",4),e.NdJ("click",function(){const n=e.CHM(o).$implicit,d=e.oxw();return e.KtG(d._showTeamDetails(n))}),e.qZA(),e._UZ(3,"fd-icon",5),e.qZA()}if(2&a){const o=r.$implicit,t=r.index,l=e.oxw();e.xp6(1),e.Q6J("value",o.id)("name","team-radio"+t)("ngModel",l.selectedTeamId),e.uIk("id","team-radio"+t),e.xp6(1),e.Q6J("avatarSrc","")("avatarTitle",o.name)("description",o.description||o.members.length+" members")("title",o.name),e.uIk("id","approval-team-"+o.id),e.xp6(1),e.Q6J("glyph","navigation-"+(l.isRtl?"left":"right")+"-arrow")}}let Tt=(()=>{class a{constructor(){this.teams=[],this.isRtl=!1,this.onTeamClick=new e.vpe,this.onTeamRadioClick=new e.vpe,this._trackByFn=q}_showTeamDetails(o){this.onTeamClick.emit(o)}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow-team-list"]],hostAttrs:[1,"fdp-approval-flow-team-list"],inputs:{teams:"teams",isRtl:"isRtl",selectedTeamId:"selectedTeamId"},outputs:{onTeamClick:"onTeamClick",onTeamRadioClick:"onTeamRadioClick"},decls:3,vars:3,consts:[["fdCompact","",3,"hasByLine"],["fd-form-item","",4,"ngFor","ngForOf","ngForTrackBy"],["fd-form-item",""],[3,"value","name","ngModel","ngModelChange","click"],[3,"avatarSrc","avatarTitle","description","title","click"],[3,"glyph"]],template:function(o,t){1&o&&(e.TgZ(0,"fdp-list",0)(1,"fd-form-group"),e.YNc(2,bt,4,10,"div",1),e.qZA()()),2&o&&(e.Q6J("hasByLine",!0),e.xp6(2),e.Q6J("ngForOf",t.teams)("ngForTrackBy",t._trackByFn))},dependencies:[u.sg,h.JJ,h.On,I.$,ne.o,Fe.n,Se.d,we.J,Re.H,Oe._],styles:[".fdp-approval-flow-team-list .fd-form-item{position:relative;margin-bottom:0}.fdp-approval-flow-team-list .fd-form-item fd-radio-button{position:absolute;z-index:1;top:1.4rem}.fdp-approval-flow-team-list .fd-form-item .fd-list__item{padding-left:2rem!important;cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-icon{position:absolute;right:1rem;top:2rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-avatar{color:#fff;color:var(--sapBaseColor, #fff)}[dir=rtl] .fdp-approval-flow-team-list .fd-form-item fd-icon,.fdp-approval-flow-team-list[dir=rtl] .fd-form-item fd-icon{right:auto;left:1rem}[dir=rtl] .fdp-approval-flow-team-list .fd-list__item,.fdp-approval-flow-team-list[dir=rtl] .fd-list__item{padding-right:2rem!important;padding-left:0!important}\n"],encapsulation:2,changeDetection:0}),a})();function xt(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApprovers")," "))}function Nt(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderEditApprover")," "))}function Ft(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApproverTeam")," "))}function St(a,r){if(1&a){const o=e.EpF();e.ynx(0),e.TgZ(1,"fd-icon",5),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._exitTeamMembersMode())}),e.qZA(),e._uU(2),e.BQk()}if(2&a){const o=e.oxw(2);let t;e.xp6(1),e.Q6J("glyph",o._headerArrowGlyph),e.xp6(1),e.AsE(" ",null!==(t=null==o.viewService.team?null:o.viewService.team.name)&&void 0!==t?t:""," (",null!==(t=null==o.viewService.team||null==o.viewService.team.members?null:o.viewService.team.members.length)&&void 0!==t?t:0,") ")}}function Mt(a,r){if(1&a){const o=e.EpF();e.ynx(0),e.TgZ(1,"fd-icon",5),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._exitUserDetailsMode())}),e.qZA(),e._uU(2),e.ALo(3,"fdTranslate"),e.BQk()}if(2&a){const o=e.oxw(2);e.xp6(1),e.Q6J("glyph",o._headerArrowGlyph),e.xp6(1),e.hij(" ",e.lcZ(3,2,"platformApprovalFlow.addNodeDialogHeaderDetail")," ")}}const Et=function(){return[]};function Dt(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fdp-search-field",6),e.NdJ("inputChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._onSearchStringChange(l.text))}),e.ALo(1,"fdTranslate"),e.qZA()}2&a&&e.Q6J("placeholder",e.lcZ(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",e.DdM(4,Et))}function yt(a,r){if(1&a&&(e.TgZ(0,"p"),e.YNc(1,xt,3,3,"ng-container",2),e.YNc(2,Nt,3,3,"ng-container",2),e.YNc(3,Ft,3,3,"ng-container",2),e.YNc(4,St,3,3,"ng-container",2),e.YNc(5,Mt,4,4,"ng-container",2),e.qZA(),e.YNc(6,Dt,2,5,"fdp-search-field",4)),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o._selectMode&&!o._data.isEdit),e.xp6(1),e.Q6J("ngIf",!o._selectMode&&o._data.isEdit),e.xp6(1),e.Q6J("ngIf",o.viewService.isSelectUserMode||o.viewService.isSelectTeamMode),e.xp6(1),e.Q6J("ngIf",o.viewService.isTeamMembersMode),e.xp6(1),e.Q6J("ngIf",o.viewService.isUserDetailsMode),e.xp6(1),e.Q6J("ngIf",o._selectMode&&!o._userToShowDetails)}}function Zt(a,r){if(1&a&&(e.TgZ(0,"li",16),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&a){const o=e.oxw().$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",e.lcZ(2,2,"platformApprovalFlow.addNodeDialogNodeTypeSerial")," ")}}function kt(a,r){if(1&a&&(e.TgZ(0,"li",16),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&a){const o=e.oxw().$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",e.lcZ(2,2,"platformApprovalFlow.addNodeDialogNodeTypeParallel")," ")}}function It(a,r){if(1&a&&(e.ynx(0)(1,14),e.YNc(2,Zt,3,4,"li",15),e.YNc(3,kt,3,4,"li",15),e.BQk()()),2&a){const o=r.$implicit,t=e.oxw(3);e.xp6(1),e.Q6J("ngSwitch",o),e.xp6(1),e.Q6J("ngSwitchCase",t._nodeTypes.SERIAL),e.xp6(1),e.Q6J("ngSwitchCase",t._nodeTypes.PARALLEL)}}function Lt(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"div",8)(1,"label",9),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA(),e.TgZ(4,"fd-select",10),e.NdJ("valueChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._nodeType=l)}),e.YNc(5,It,4,3,"ng-container",11),e.qZA()()}if(2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,3,"platformApprovalFlow.addNodeDialogNodeType")," "),e.xp6(2),e.Q6J("value",o._nodeType),e.xp6(1),e.Q6J("ngForOf",o._nodeTypesArray)}}function Jt(a,r){if(1&a&&(e.TgZ(0,"li",16),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&a){const o=e.oxw().$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",e.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeUser")," ")}}function Pt(a,r){if(1&a&&(e.TgZ(0,"li",16),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&a){const o=e.oxw().$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",e.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamAnyone")," ")}}function Qt(a,r){if(1&a&&(e.TgZ(0,"li",16),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&a){const o=e.oxw().$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",e.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamEveryone")," ")}}function Bt(a,r){if(1&a&&(e.ynx(0)(1,14),e.YNc(2,Jt,3,4,"li",15),e.YNc(3,Pt,3,4,"li",15),e.YNc(4,Qt,3,4,"li",15),e.BQk()()),2&a){const o=r.$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",o),e.xp6(1),e.Q6J("ngSwitchCase",t._approverTypes.SINGLE_USER),e.xp6(1),e.Q6J("ngSwitchCase",t._approverTypes.ANYONE),e.xp6(1),e.Q6J("ngSwitchCase",t._approverTypes.EVERYONE)}}function Ut(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fd-multi-input",17),e.NdJ("ngModelChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._selectedApprovers=l)})("openChange",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._goToSelectMode())})("selectedChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._setSelectedApprovers(l))}),e.qZA()}if(2&a){const o=e.oxw(2);e.Q6J("showAllButton",!1)("dropdownValues",o._selectedApprovers)("ngModel",o._selectedApprovers)("displayFn",o._displayUserFn)}}function Rt(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fd-multi-input",18),e.NdJ("ngModelChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._selectedTeamArray=l)})("openChange",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._goToSelectMode())}),e.qZA()}if(2&a){const o=e.oxw(2);e.Q6J("showAllButton",!1)("dropdownValues",o._selectedTeamArray)("ngModel",o._selectedTeamArray)("displayFn",o._displayTeamFn)}}function Ot(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"div",8)(1,"fd-checkbox",19),e.NdJ("ngModelChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._addToNextSerial=l)}),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA()()}if(2&a){const o=e.oxw(2);e.xp6(1),e.Q6J("ngModel",o._addToNextSerial),e.xp6(1),e.hij(" ",e.lcZ(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}function Yt(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"div",8)(1,"label",9),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA(),e.TgZ(4,"fd-date-picker",20),e.NdJ("ngModelChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._dueDate=l)}),e.qZA()()}if(2&a){const o=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"platformApprovalFlow.addNodeDialogDueDate")),e.xp6(2),e.Q6J("state",o._dueDate?null:"error")("ngModel",o._dueDate)}}function Gt(a,r){if(1&a){const o=e.EpF();e.ynx(0),e.YNc(1,Lt,6,5,"div",7),e.TgZ(2,"div",8)(3,"label",9),e._uU(4),e.ALo(5,"fdTranslate"),e.qZA(),e.TgZ(6,"fd-select",10),e.NdJ("valueChange",function(l){e.CHM(o);const n=e.oxw();return e.KtG(n._approverType=l)}),e.YNc(7,Bt,5,4,"ng-container",11),e.qZA()(),e.TgZ(8,"div",8)(9,"label",9),e._uU(10),e.ALo(11,"fdTranslate"),e.qZA(),e.YNc(12,Ut,1,4,"fd-multi-input",12),e.YNc(13,Rt,1,4,"fd-multi-input",13),e.qZA(),e.YNc(14,Ot,4,4,"div",7),e.YNc(15,Yt,5,5,"div",7),e.BQk()}if(2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o._data.showNodeTypeSelect),e.xp6(3),e.hij(" ",e.lcZ(5,9,"platformApprovalFlow.addNodeDialogApproverType")," "),e.xp6(2),e.Q6J("value",o._approverType),e.xp6(1),e.Q6J("ngForOf",o._approverTypesArray),e.xp6(3),e.Oqu(e.lcZ(11,11,"platformApprovalFlow.addNodeDialogUserOrTeam")),e.xp6(2),e.Q6J("ngIf",o._isSingleUserMode),e.xp6(1),e.Q6J("ngIf",!o._isSingleUserMode),e.xp6(1),e.Q6J("ngIf",o._nodeType===o._nodeTypes.PARALLEL),e.xp6(1),e.Q6J("ngIf",o._checkDueDate)}}function Ht(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fdp-approval-flow-team-list",23),e.NdJ("onTeamClick",function(l){e.CHM(o);const n=e.oxw(3);return e.KtG(n._viewTeamMembers(l))})("onTeamRadioClick",function(l){e.CHM(o);const n=e.oxw(3);return e.KtG(n._setSelectedTeam(l))}),e.qZA()}if(2&a){const o=e.oxw(3);e.Q6J("isRtl",o._data.rtl)("teams",o._teams)("selectedTeamId",null==o._selectedTeam?null:o._selectedTeam.id)}}function jt(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Ht,1,3,"fdp-approval-flow-team-list",22),e.BQk()),2&a){const o=e.oxw(2),t=e.MAs(10);e.xp6(1),e.Q6J("ngIf",!o._data.teamDataSource.isDataLoading)("ngIfElse",t)}}function zt(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fdp-approval-flow-user-list",25),e.NdJ("onUserClick",function(l){e.CHM(o);const n=e.oxw(3);return e.KtG(n._seeUserDetails(l))})("onSelectionChange",function(l){e.CHM(o);const n=e.oxw(3);return e.KtG(n._selectedApprovers=l)}),e.qZA()}if(2&a){const o=e.oxw(3);e.Q6J("users",o.viewService.isSelectUserMode?o._approvers:o._filteredTeamMembers)("isSelectable",o.viewService.isSelectUserMode)("selectedUsers",o._selectedApprovers)}}function Kt(a,r){if(1&a&&(e.ynx(0),e.YNc(1,zt,1,3,"fdp-approval-flow-user-list",24),e.BQk()),2&a){const o=e.oxw(2),t=e.MAs(10);e.xp6(1),e.Q6J("ngIf",o.viewService.isSelectUserMode||!o._data.userDataSource.isDataLoading)("ngIfElse",t)}}function Vt(a,r){if(1&a&&e._UZ(0,"fdp-approval-flow-user-details",26),2&a){const o=e.oxw(2);e.Q6J("user",o._userToShowDetails)("detailsTemplate",o._data.userDetailsTemplate)("details",o._userToShowDetailsData$)}}function qt(a,r){if(1&a&&(e.ynx(0),e.YNc(1,jt,2,2,"ng-container",2),e.YNc(2,Kt,2,2,"ng-container",2),e.YNc(3,Vt,1,3,"fdp-approval-flow-user-details",21),e.BQk()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.viewService.isSelectTeamMode),e.xp6(1),e.Q6J("ngIf",o.viewService.isSelectUserMode||o.viewService.isTeamMembersMode),e.xp6(1),e.Q6J("ngIf",o.viewService.isUserDetailsMode&&o._userToShowDetails)}}function $t(a,r){if(1&a){const o=e.EpF();e.ynx(0),e.TgZ(1,"fd-dialog-footer-button")(2,"button",27),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l._submit())}),e.ALo(3,"fdTranslate"),e.qZA()(),e.TgZ(4,"fd-dialog-footer-button")(5,"button",28),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.dialogRef.close())}),e.ALo(6,"fdTranslate"),e.qZA()(),e.BQk()}if(2&a){const o=e.oxw();e.xp6(2),e.Q6J("label",e.lcZ(3,3,"platformApprovalFlow.addNodeAddActionBtnLabel"))("disabled",o._isMainSubmitButtonDisabled),e.xp6(3),e.Q6J("label",e.lcZ(6,5,"platformApprovalFlow.addNodeCancelActionBtnLabel"))}}function Wt(a,r){if(1&a){const o=e.EpF();e.ynx(0),e.TgZ(1,"fd-dialog-footer-button")(2,"button",29),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._confirmSelectedApprovers())}),e.ALo(3,"fdTranslate"),e.qZA()(),e.TgZ(4,"fd-dialog-footer-button")(5,"button",30),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._exitSelectMode())}),e.ALo(6,"fdTranslate"),e.qZA()(),e.BQk()}if(2&a){const o=e.oxw(2);e.xp6(2),e.Q6J("label",e.lcZ(3,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!o._selectedApprovers.length),e.xp6(3),e.Q6J("label",e.lcZ(6,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Xt(a,r){if(1&a){const o=e.EpF();e.ynx(0),e.TgZ(1,"fd-dialog-footer-button")(2,"button",29),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._confirmSelectedTeam())}),e.ALo(3,"fdTranslate"),e.qZA()(),e.TgZ(4,"fd-dialog-footer-button")(5,"button",30),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._exitSelectMode())}),e.ALo(6,"fdTranslate"),e.qZA()(),e.BQk()}if(2&a){const o=e.oxw(2);e.xp6(2),e.Q6J("label",e.lcZ(3,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!o._selectedTeam&&!o.viewService.team),e.xp6(3),e.Q6J("label",e.lcZ(6,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function ea(a,r){if(1&a){const o=e.EpF();e.ynx(0),e.TgZ(1,"fd-dialog-footer-button")(2,"button",30),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._exitTeamMembersMode())}),e.ALo(3,"fdTranslate"),e.qZA()(),e.BQk()}2&a&&(e.xp6(2),e.Q6J("label",e.lcZ(3,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function oa(a,r){if(1&a){const o=e.EpF();e.ynx(0),e.TgZ(1,"fd-dialog-footer-button")(2,"button",30),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._exitUserDetailsMode())}),e.ALo(3,"fdTranslate"),e.qZA()(),e.BQk()}2&a&&(e.xp6(2),e.Q6J("label",e.lcZ(3,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function ta(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Wt,7,7,"ng-container",2),e.YNc(2,Xt,7,7,"ng-container",2),e.YNc(3,ea,4,3,"ng-container",2),e.YNc(4,oa,4,3,"ng-container",2),e.BQk()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.viewService.isSelectUserMode),e.xp6(1),e.Q6J("ngIf",o.viewService.isSelectTeamMode),e.xp6(1),e.Q6J("ngIf",o.viewService.isTeamMembersMode),e.xp6(1),e.Q6J("ngIf",o.viewService.isUserDetailsMode)}}function aa(a,r){1&a&&e._UZ(0,"fd-busy-indicator",31),2&a&&e.Q6J("loading",!0)("block",!0)}var x=(()=>{return(a=x||(x={})).SERIAL="SERIAL",a.PARALLEL="PARALLEL",x;var a})(),B=(()=>{return(a=B||(B={})).SINGLE_USER="SINGLE_USER",a.ANYONE="ANYONE",a.EVERYONE="EVERYONE",B;var a})();let Ye=(()=>{class a{constructor(o,t,l){this.dialogRef=o,this.viewService=t,this._cdr=l,this._nodeType=x.SERIAL,this._nodeTypes=x,this._nodeTypesArray=Object.keys(x),this._approverType=B.SINGLE_USER,this._approverTypes=B,this._approverTypesArray=Object.keys(B),this._dueDate=H._U.getNow(),this._selectMode=!1,this._approvers=[],this._teams=[],this._selectedApprovers=[],this._selectedTeamArray=[],this._selectedTeamMembers=[],this._filteredTeamMembers=[],this._checkDueDate=!1,this._displayUserFn=E,this._displayTeamFn=le,this._trackByFn=q,this._addToNextSerial=!1}get _data(){return this.dialogRef.data}get _isSingleUserMode(){return this._approverType===this._approverTypes.SINGLE_USER}get _isMainSubmitButtonDisabled(){return!(this._isSingleUserMode?this._selectedApprovers:this._selectedTeamArray).length||this._checkDueDate&&!this._dueDate}get _headerArrowGlyph(){return"navigation-"+(this._data.rtl?"right":"left")+"-arrow"}ngOnInit(){this._data.teamDataSource.match(),this._data.userDataSource.match();const o=this._data.teamDataSource.open(),t=this._data.userDataSource.open();switch(this._dataSourceSub=(0,Y.a)([o,t]).subscribe(([l,n])=>{var d,s,i,f,c;if(this._teams=l,this._approvers=n,this._data.isEdit){this._checkDueDate=!!this._data.checkDueDate,this._checkDueDate&&(null===(d=this._data.node)||void 0===d?void 0:d.dueDate)&&(this._dueDate=H._U.getFdDateByDate(new Date(this._data.node.dueDate))),this._selectedApprovers=[...null!==(i=null===(s=this._data.node)||void 0===s?void 0:s.approvers)&&void 0!==i?i:[]];const g=(null===(f=this._data.node)||void 0===f?void 0:f.approvalTeamId)&&this._teams.find(m=>{var w;return m.id===(null===(w=this._data.node)||void 0===w?void 0:w.approvalTeamId)});g&&(this.viewService.selectTeam(g),this._selectedTeam=g,this._selectedTeamArray=[g],this._approverType=null!==(c=this._data.node)&&void 0!==c&&c.isEveryoneApprovalNeeded?this._approverTypes.EVERYONE:this._approverTypes.ANYONE)}this._cdr.detectChanges()}),this._viewChangeSub=this.viewService.onViewChange.subscribe(()=>{this._onSearchStringChange(""),this._cdr.detectChanges()}),this._data.nodeTarget){case"empty":case"before":case"after":this._nodeType=this._nodeTypes.SERIAL;break;case"parallel":this._nodeType=this._nodeTypes.PARALLEL}}ngOnDestroy(){this._viewChangeSub.unsubscribe(),this._dataSourceSub.unsubscribe(),this._data.userDataSource.close(),this._data.teamDataSource.close()}_goToSelectMode(){this._selectMode=!0,this.viewService.setCurrentView(this._isSingleUserMode?C.SELECT_USER:C.SELECT_TEAM),this._cdr.detectChanges()}_exitSelectMode(){var o,t;this._selectedApprovers.length&&!(null!==(o=this._data.node)&&void 0!==o&&o.approvers.length)&&(this._selectedApprovers=[]),!this._data.isEdit&&!(null!==(t=this._data.node)&&void 0!==t&&t.approvalTeamId)&&this.viewService.resetTeam(),this._selectMode=!1,this.viewService.resetView(),this._cdr.detectChanges()}_setSelectedApprovers(o){this._selectedApprovers=o,this._confirmSelectedApprovers()}_confirmSelectedApprovers(){var o;!this._data.node||(this._data.node.approvers=this._selectedApprovers,this._data.node.variousTeams=this._data.node.approvers.some(t=>t.teamId!==this._data.node.approvers[0].teamId),this._data.node.description=this._data.node.variousTeams?"":null===(o=this._selectedApprovers[0])||void 0===o?void 0:o.description,delete this._data.node.approvalTeamId,delete this._data.node.isEveryoneApprovalNeeded,this._exitSelectMode())}_setSelectedTeam(o){this.viewService.selectTeam(o)}_confirmSelectedTeam(){!this.viewService.team||(this._selectedTeam=this.viewService.team,this._selectedTeamArray=[this.viewService.team],this._data.node&&(this._data.node.variousTeams=!1,this._data.node.approvalTeamId=this.viewService.team.id,this._data.node.description=this.viewService.team.name,this._data.node.isEveryoneApprovalNeeded=this._approverType===B.EVERYONE),this._exitSelectMode())}_seeUserDetails(o){this.viewService.setCurrentView(C.USER_DETAILS),this._userToShowDetails=o,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",o.id]])),this._cdr.detectChanges()}_exitUserDetailsMode(){this.viewService.setCurrentView(this.viewService.team?C.VIEW_TEAM_MEMBERS:C.SELECT_USER),this._userToShowDetails=void 0,this._userToShowDetailsData$=void 0,this._cdr.detectChanges()}_viewTeamMembers(o){this.viewService.selectTeam(o),this.viewService.setCurrentView(C.VIEW_TEAM_MEMBERS),this._selectedTeamMembers=o.members,this._setFilteredTeamMembers(this._selectedTeamMembers),this._cdr.detectChanges()}_exitTeamMembersMode(){this.viewService.setCurrentView(C.SELECT_TEAM),this.viewService.resetTeam(),this._selectedTeamMembers=[],this._cdr.detectChanges()}_submit(){this._data.node&&!this._isSingleUserMode&&this._selectedTeam&&(this._data.node.approvers=[...this._selectedTeam.members]),this._data.node&&this._checkDueDate&&(this._data.node.dueDate=this._dueDate.toDate()),this.dialogRef.close({node:this._data.node,nodeType:this._nodeType,toNextSerial:this._addToNextSerial})}_onSearchStringChange(o=""){const t=new Map([["query",o]]);this.viewService.isSelectUserMode?this._data.userDataSource.match(t):this.viewService.isSelectTeamMode?this._data.teamDataSource.match(t):this.viewService.isTeamMembersMode&&this._setFilteredTeamMembers(this._selectedTeamMembers.filter(l=>Te(l,o)))}_setFilteredTeamMembers(o){this._filteredTeamMembers=[...o],this._cdr.detectChanges()}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(Q.zj),e.Y36(Be),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow-add-node"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-add-node"],decls:11,vars:8,consts:[["fdCompact",""],["fdTemplate","header"],[4,"ngIf"],["loadingTpl",""],[3,"placeholder","suggestions","inputChange",4,"ngIf"],[3,"glyph","click"],[3,"placeholder","suggestions","inputChange"],["fd-form-item","",4,"ngIf"],["fd-form-item",""],["fd-form-label",""],[3,"value","valueChange"],[4,"ngFor","ngForOf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange",4,"ngIf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange",4,"ngIf"],[3,"ngSwitch"],["fd-option","",3,"value",4,"ngSwitchCase"],["fd-option","",3,"value"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange"],[3,"ngModel","ngModelChange"],["type","single",3,"state","ngModel","ngModelChange"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick",4,"ngIf","ngIfElse"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange",4,"ngIf","ngIfElse"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange"],[3,"user","detailsTemplate","details"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],["fd-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fd-initial-focus","","fdType","transparent",3,"label","click"],[3,"loading","block"]],template:function(o,t){1&o&&(e.TgZ(0,"fd-dialog",0)(1,"fd-dialog-header"),e.YNc(2,yt,7,6,"ng-template",1),e.qZA(),e.TgZ(3,"fd-dialog-body"),e.YNc(4,Gt,16,13,"ng-container",2),e.YNc(5,qt,4,3,"ng-container",2),e.qZA(),e.TgZ(6,"fd-dialog-footer"),e.YNc(7,$t,7,7,"ng-container",2),e.YNc(8,ta,5,4,"ng-container",2),e.qZA()(),e.YNc(9,aa,1,2,"ng-template",null,3,e.W1O)),2&o&&(e.xp6(1),e.ekj("show-search",t._selectMode&&!t._userToShowDetails),e.xp6(2),e.ekj("fd-dialog__body--auto-height",t.viewService.isUserDetailsMode),e.xp6(1),e.Q6J("ngIf",!t._selectMode),e.xp6(1),e.Q6J("ngIf",t._selectMode),e.xp6(2),e.Q6J("ngIf",!t._selectMode),e.xp6(1),e.Q6J("ngIf",t._selectMode))},dependencies:[u.sg,u.O5,u.RF,u.n9,h.JJ,h.On,I.$,G.r,ne.o,ie.a,se.H,fe.g,ce.A,_e.u,ve.r,ge.S,me.N,Ne.ri,he.L,Ue.b,ut.Hr,ht.x,wt.L,At.B,we.J,Ct.h,Ee,ye,Tt,L.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n",".fdp-approval-flow-add-node .fd-dialog__body{width:20rem;height:27rem}.fdp-approval-flow-add-node .fd-dialog__body--auto-height{height:auto}\n"],encapsulation:2,changeDetection:0}),a})();function la(a,r){1&a&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.selectTypeDialogMoveApproverAs")))}function na(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"div",4)(1,"fd-checkbox",10),e.NdJ("ngModelChange",function(l){e.CHM(o);const n=e.oxw();return e.KtG(n._toNextSerial=l)}),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA()()}if(2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngModel",o._toNextSerial),e.xp6(1),e.hij(" ",e.lcZ(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}let ra=(()=>{class a{constructor(o){this._dialogRef=o,this._nodeType=x.SERIAL,this._nodeTypes=x,this._toNextSerial=!1}_submit(){this._dialogRef.close({type:this._nodeType,toNextSerial:this._toNextSerial})}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(Q.zj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow-select-type"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-select-type"],decls:25,vars:20,consts:[["fdTemplate","header"],["fdCompact",""],[1,"fd-form-label"],[1,"fdp-approval-flow-select-type__form"],["fd-form-item",""],["id","select-type-parallel","name","select-type-parallel",3,"value","ngModel","ngModelChange"],["id","select-type-serial","name","select-type-serial",3,"value","ngModel","ngModelChange"],["fd-form-item","",4,"ngIf"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","click"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],[3,"ngModel","ngModelChange"]],template:function(o,t){1&o&&(e.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),e.YNc(2,la,3,3,"ng-template",0),e.qZA(),e.TgZ(3,"fd-dialog-body",1)(4,"span",2),e._uU(5),e.ALo(6,"fdTranslate"),e.qZA(),e.TgZ(7,"fd-form-group",3)(8,"div",4)(9,"fd-radio-button",5),e.NdJ("ngModelChange",function(n){return t._nodeType=n}),e._uU(10),e.ALo(11,"fdTranslate"),e.qZA()(),e.TgZ(12,"div",4)(13,"fd-radio-button",6),e.NdJ("ngModelChange",function(n){return t._nodeType=n}),e._uU(14),e.ALo(15,"fdTranslate"),e.qZA()(),e.YNc(16,na,4,4,"div",7),e.qZA()(),e.TgZ(17,"fd-dialog-footer",1),e.ynx(18),e.TgZ(19,"fd-dialog-footer-button")(20,"button",8),e.NdJ("click",function(){return t._submit()}),e.ALo(21,"fdTranslate"),e.qZA()(),e.TgZ(22,"fd-dialog-footer-button")(23,"button",9),e.NdJ("click",function(){return t._dialogRef.close()}),e.ALo(24,"fdTranslate"),e.qZA()(),e.BQk(),e.qZA()()),2&o&&(e.xp6(5),e.hij(" ",e.lcZ(6,10,"platformApprovalFlow.selectTypeDialogParallelOrSerial")," "),e.xp6(4),e.Q6J("value",t._nodeTypes.PARALLEL)("ngModel",t._nodeType),e.xp6(1),e.hij(" ",e.lcZ(11,12,"platformApprovalFlow.selectTypeDialogNodeTypeParallel")," "),e.xp6(3),e.Q6J("value",t._nodeTypes.SERIAL)("ngModel",t._nodeType),e.xp6(1),e.hij(" ",e.lcZ(15,14,"platformApprovalFlow.selectTypeDialogNodeTypeSerial")," "),e.xp6(2),e.Q6J("ngIf",t._nodeType===t._nodeTypes.PARALLEL),e.xp6(4),e.Q6J("label",e.lcZ(21,16,"platformApprovalFlow.selectTypeDialogConfirmButton")),e.xp6(3),e.Q6J("label",e.lcZ(24,18,"platformApprovalFlow.selectTypeDialogCancelButton")))},dependencies:[u.O5,h.JJ,h.On,I.$,G.r,ie.a,se.H,fe.g,ce.A,_e.u,ve.r,ge.S,me.N,Ue.b,we.J,Re.H,Oe._,L.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n",".fdp-approval-flow-select-type .fd-dialog__body{width:24rem}.fdp-approval-flow-select-type .fd-dialog__body .fd-form-item{margin-bottom:0}\n"],encapsulation:2,changeDetection:0}),a})();function Ge(a,r){const o=[];let t,l;for(let n=a;n>0;n--)t=Object.assign({},xe(),{targets:l?[l]:[],status:r}),l=t.id,o.unshift(t);return o}var D=p(5126),N=p(46698),Ta=p(5698),xa=p(45371),Na=p(47551),Fa=p(33201),Sa=p(57648),Ma=p(5182),Ea=p(9334),Da=p(83112),ya=p(45757),Za=p(79101),ka=p(40999),He=p(44409),Ia=p(30891),La=p(6941),Ja=p(76314),Pa=p(67755),Qa=p(67604);function Ba(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesApproverAddedSuccess")," "))}function Ua(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesTeamAddedSuccess")," "))}function Ra(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeEdited")," "))}function Oa(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeRemovedSingular")," "))}function Ya(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeRemovedPlural")," "))}function Ga(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesTeamRemoved")," "))}function Ha(a,r){1&a&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesErrorBuildGraph")," "))}function ja(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"a",5),e.NdJ("click",function(l){e.CHM(o);const n=e.oxw().index,d=e.oxw();return e.KtG(d._undoLastAction(n,l))})("keyup.enter",function(l){e.CHM(o);const n=e.oxw().index,d=e.oxw();return e.KtG(d._undoLastAction(n,l))})("keyup.space",function(l){e.CHM(o);const n=e.oxw().index,d=e.oxw();return e.KtG(d._undoLastAction(n,l))}),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesUndoAction")," "))}function za(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fd-message-strip",1),e.NdJ("onDismiss",function(){const n=e.CHM(o).index,d=e.oxw();return e.KtG(d._dismissMessage(n))}),e.TgZ(1,"bdi")(2,"span",2),e.YNc(3,Ba,3,3,"ng-container",3),e.YNc(4,Ua,3,3,"ng-container",3),e.YNc(5,Ra,3,3,"ng-container",3),e.YNc(6,Oa,3,3,"ng-container",3),e.YNc(7,Ya,3,3,"ng-container",3),e.YNc(8,Ga,3,3,"ng-container",3),e.YNc(9,Ha,3,3,"ng-container",3),e.qZA(),e.YNc(10,ja,3,3,"a",4),e.qZA()()}if(2&a){const o=r.$implicit,t=e.oxw();e.Q6J("type","error"===o.type?"error":"success")("dismissible","error"!==o.type),e.xp6(2),e.Q6J("ngSwitch",o.type),e.xp6(1),e.Q6J("ngSwitchCase","approverAddSuccess"),e.xp6(1),e.Q6J("ngSwitchCase","teamAddSuccess"),e.xp6(1),e.Q6J("ngSwitchCase","nodeEdit"),e.xp6(1),e.Q6J("ngSwitchCase","nodeRemove"),e.xp6(1),e.Q6J("ngSwitchCase","nodesRemove"),e.xp6(1),e.Q6J("ngSwitchCase","teamRemove"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngIf",t.undoLastActionAvailable)}}let Ka=(()=>{class a{constructor(){this.messages=[],this.undoLastActionAvailable=!1,this.messagesChange=new e.vpe,this.undoLastAction=new e.vpe,this._trackByFn=q}_dismissMessage(o){this.messages.splice(o,1)}_undoLastAction(o,t){t.preventDefault(),this._dismissMessage(o),this.undoLastAction.emit()}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow-messages"]],hostAttrs:[1,"fdp-approval-flow-messages"],inputs:{messages:"messages",undoLastActionAvailable:"undoLastActionAvailable"},outputs:{messagesChange:"messagesChange",undoLastAction:"undoLastAction"},decls:1,vars:1,consts:[["class","fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss"],[3,"ngSwitch"],[4,"ngSwitchCase"],["href","#",3,"click","keyup.enter","keyup.space",4,"ngIf"],["href","#",3,"click","keyup.enter","keyup.space"]],template:function(o,t){1&o&&e.YNc(0,za,11,11,"fd-message-strip",0),2&o&&e.Q6J("ngForOf",t.messages)},dependencies:[u.sg,u.O5,u.RF,u.n9,Qa.h,L.n],styles:[".fdp-approval-flow-messages__item:not(:last-child){margin-bottom:1rem}\n"],encapsulation:2,changeDetection:0}),a})();function Va(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l._addNode("empty"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&a&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddStepButton"))}function qa(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.enterEditMode.emit())}),e.ALo(1,"fdTranslate"),e.qZA()}2&a&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarEditButton"))}function $a(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._addNode("before"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&a&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversBefore"))}function Wa(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._addNode("after"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&a&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversAfter"))}function Xa(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._addNode("parallel"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&a&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversParallel"))}function el(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l.deleteSelectedNodes.emit())}),e.ALo(1,"fdTranslate"),e.qZA()}2&a&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarRemove"))}function ol(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(2);return e.KtG(l._editSelectedNode())}),e.ALo(1,"fdTranslate"),e.qZA()}2&a&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarEditApprover"))}function tl(a,r){if(1&a&&(e.ynx(0),e.YNc(1,$a,2,3,"button",1),e.YNc(2,Wa,2,3,"button",1),e.YNc(3,Xa,2,3,"button",1),e.YNc(4,el,2,3,"button",1),e.YNc(5,ol,2,3,"button",1),e.BQk()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o._canAddBefore),e.xp6(1),e.Q6J("ngIf",o._canAddAfter),e.xp6(1),e.Q6J("ngIf",o._canAddParallel),e.xp6(1),e.Q6J("ngIf",o._canRemoveSelectedNodes),e.xp6(1),e.Q6J("ngIf",o._canEditNode)}}let al=(()=>{class a{constructor(){this.isEditMode=!1,this.enterEditMode=new e.vpe,this.addNode=new e.vpe,this.editSelectedNode=new e.vpe,this.deleteSelectedNodes=new e.vpe,this._canRemoveSelectedNodes=!1,this._selectedNodes=[]}set selectedNodes(o){this._selectedNodes=o,this._canRemoveSelectedNodes=!!this.selectedNodes.length&&this.selectedNodes.every(t=>{var l;return!(t.disableActions||null!==(l=t.actionsConfig)&&void 0!==l&&l.disableRemove)})}get selectedNodes(){return this._selectedNodes}get _notApprovedSelectedNode(){return 1!==this.selectedNodes.length||T(this.selectedNodes[0])?null:this.selectedNodes[0]}get _canAddBefore(){var o;const t=this._notApprovedSelectedNode;return!(!t||t.disableActions||null!==(o=t.actionsConfig)&&void 0!==o&&o.disableAddBefore||!this.graphMetadata[t.id].canAddNodeBefore)}get _canAddAfter(){var o;const t=this._notApprovedSelectedNode;return!(!t||t.disableActions||null!==(o=t.actionsConfig)&&void 0!==o&&o.disableAddAfter||!this.graphMetadata[t.id].canAddNodeAfter)}get _canAddParallel(){var o;const t=this._notApprovedSelectedNode;return!(!this._notApprovedSelectedNode||null!=t&&t.disableActions||null!==(o=null==t?void 0:t.actionsConfig)&&void 0!==o&&o.disableAddParallel||!this.graphMetadata[t.id].canAddParallel)}get _canEditNode(){var o;const t=this._notApprovedSelectedNode;return!(!t||t.disableActions||null!==(o=t.actionsConfig)&&void 0!==o&&o.disableEdit)}_addNode(o){this.addNode.emit({node:this.selectedNodes[0],target:o})}_editSelectedNode(){this.editSelectedNode.emit(this.selectedNodes[0])}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow-toolbar-actions"]],hostAttrs:[1,"fdp-approval-flow-toolbar-actions"],inputs:{graph:"graph",graphMetadata:"graphMetadata",selectedNodes:"selectedNodes",isEditMode:"isEditMode"},outputs:{enterEditMode:"enterEditMode",addNode:"addNode",editSelectedNode:"editSelectedNode",deleteSelectedNodes:"deleteSelectedNodes"},decls:4,vars:3,consts:[["fdCompact",""],["fd-button","",3,"label","click",4,"ngIf"],[4,"ngIf"],["fd-button","",3,"label","click"]],template:function(o,t){1&o&&(e.ynx(0,0),e.YNc(1,Va,2,3,"button",1),e.YNc(2,qa,2,3,"button",1),e.YNc(3,tl,6,5,"ng-container",2),e.BQk()),2&o&&(e.xp6(1),e.Q6J("ngIf",!(null!=t.graph&&null!=t.graph.columns&&t.graph.columns.length||null!=t.graph&&t.graph.errors)),e.xp6(1),e.Q6J("ngIf",!(null==t.graph||null==t.graph.columns||!t.graph.columns.length||t.isEditMode)),e.xp6(1),e.Q6J("ngIf",t.isEditMode))},dependencies:[u.O5,I.$,G.r,L.n],styles:[".fdp-approval-flow-toolbar-actions .fd-button:not(:last-child){margin-right:.5rem}[dir=rtl] .fdp-approval-flow-toolbar-actions .fd-button:not(:last-child),.fdp-approval-flow-toolbar-actions[dir=rtl] .fd-button:not(:last-child){margin-right:0;margin-left:.5rem}\n"],encapsulation:2,changeDetection:0}),a})();const ll=["graphContainerEl"],nl=["graphEl"],rl=["gridList"];function dl(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fdp-approval-flow-toolbar-actions",10),e.NdJ("enterEditMode",function(){e.CHM(o);const l=e.oxw();return e.KtG(l._enterEditMode())})("addNode",function(l){e.CHM(o);const n=e.oxw();return e.KtG(n._addNode(l.node,l.target))})("editSelectedNode",function(l){e.CHM(o);const n=e.oxw();return e.KtG(n._editNode(l))})("deleteSelectedNodes",function(){e.CHM(o);const l=e.oxw();return e.KtG(l._deleteSelectedNodes())}),e.qZA()}if(2&a){const o=e.oxw();e.Q6J("graph",o._graph)("selectedNodes",o._selectedNodes)("graphMetadata",o._graphMetadata)("isEditMode",o._isEditMode)}}function pl(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fd-avatar",15),e.NdJ("avatarClicked",function(l){const d=e.CHM(o).$implicit,s=e.oxw(3);return e.KtG(s._onWatcherClick(d,l))}),e.qZA()}if(2&a){const o=r.$implicit;e.Q6J("image",o.imgUrl||"")("label",o.name)("clickable",!0)("circle",!0)}}function il(a,r){if(1&a&&(e.ynx(0),e.YNc(1,pl,1,4,"fd-avatar",14),e.BQk()),2&a){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==o._approvalProcess?null:o._approvalProcess.watchers)("ngForTrackBy",o._trackByFn)}}function sl(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"div",16)(1,"fd-multi-input",17),e.NdJ("ngModelChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._selectedWatcherIds=l)})("ngModelChange",function(l){e.CHM(o);const n=e.oxw(2);return e.KtG(n._watchersSelectionChanged(l))}),e.ALo(2,"fdTranslate"),e.qZA()()}if(2&a){const o=e.oxw(2);e.xp6(1),e.Q6J("dropdownValues",o._usersForWatchersList)("placeholder",e.lcZ(2,6,"platformApprovalFlow.watchersInputPlaceholder"))("displayFn",o._displayUserFn)("valueFn",o._userValueFn)("showAllButton",!0)("ngModel",o._selectedWatcherIds)}}function fl(a,r){if(1&a&&(e.TgZ(0,"div",11)(1,"p",12),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA(),e.YNc(4,il,2,2,"ng-container",7),e.YNc(5,sl,3,8,"div",13),e.qZA()),2&a){const o=e.oxw();e.uIk("aria-label",o.watchersLabel),e.xp6(2),e.hij(" ",o.watchersLabel||e.lcZ(3,4,"platformApprovalFlow.defaultWatchersLabel")," "),e.xp6(2),e.Q6J("ngIf",!o._isEditMode),e.xp6(1),e.Q6J("ngIf",o._isEditMode)}}function cl(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(4);return e.KtG(l.nextSlide(-1))}),e.ALo(1,"fdTranslate"),e._UZ(2,"fd-icon",30),e._uU(3),e.qZA()}if(2&a){const o=e.oxw(4);e.uIk("aria-label",e.lcZ(1,3,"platformApprovalFlow.prevButtonAriaLabel")),e.xp6(2),e.Q6J("glyph","navigation-"+(o._rtl?"right":"left")+"-arrow"),e.xp6(1),e.hij(" ",o._carouselStepsLeft," ")}}function _l(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(o);const l=e.oxw(4);return e.KtG(l.nextSlide())}),e.ALo(1,"fdTranslate"),e._uU(2),e._UZ(3,"fd-icon",30),e.qZA()}if(2&a){const o=e.oxw(4);e.uIk("aria-label",e.lcZ(1,3,"platformApprovalFlow.nextButtonAriaLabel")),e.xp6(2),e.hij(" ",o._carouselStepsRight," "),e.xp6(1),e.Q6J("glyph","navigation-"+(o._rtl?"left":"right")+"-arrow")}}function vl(a,r){if(1&a&&(e.TgZ(0,"div",26),e.YNc(1,cl,4,5,"button",27),e.YNc(2,_l,4,5,"button",28),e.qZA()),2&a){const o=e.oxw(3);e.ekj("fdp-approval-flow-carousel-controls--edit-mode",o._isEditMode),e.xp6(1),e.Q6J("ngIf",o._carouselStepsLeft>0),e.xp6(1),e.Q6J("ngIf",o._carouselStepsRight>0)}}function gl(a,r){if(1&a&&(e.ynx(0),e.GkF(1,39),e.BQk()),2&a){e.oxw();const o=e.MAs(1);e.xp6(1),e.Q6J("ngTemplateOutlet",o._overflowMenuButton)}}function ml(a,r){if(1&a&&e.GkF(0,39),2&a){e.oxw();const o=e.MAs(1);e.Q6J("ngTemplateOutlet",o._nodeContent)}}function ul(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"fdp-approval-flow-node",34,35),e.NdJ("onAdd",function(l){const d=e.CHM(o).$implicit,s=e.oxw(4);return e.KtG(s._addNode(d,l))})("onEdit",function(){const n=e.CHM(o).$implicit,d=e.oxw(4);return e.KtG(d._editNode(n))})("onDelete",function(){const n=e.CHM(o).$implicit,d=e.oxw(4);return e.KtG(d._onNodeDelete(n))})("keydown",function(l){const d=e.CHM(o).$implicit,s=e.oxw(4);return e.KtG(s._onNodeKeyDown(l,d))})("cdkDragStarted",function(){e.CHM(o);const l=e.oxw(4);return e.KtG(l._dragDropInProgress=!0)})("cdkDragReleased",function(l){const d=e.CHM(o).$implicit,s=e.oxw(4);return e.KtG(s._onNodeDrop(d,l.source))})("cdkDragMoved",function(){const n=e.CHM(o).$implicit,d=e.oxw(4);return e.KtG(d._onNodeDragMoved(n))}),e.TgZ(2,"fd-grid-list-item",36),e.NdJ("press",function(){const n=e.CHM(o).$implicit,d=e.oxw(4);return e.KtG(d._onNodeClick(n))}),e.TgZ(3,"fd-grid-list-item-toolbar"),e.YNc(4,gl,2,1,"ng-container",7),e.qZA(),e._UZ(5,"fd-avatar",37),e.YNc(6,ml,1,1,"ng-template",38),e.qZA()()}if(2&a){const o=r.$implicit,t=r.index,l=e.MAs(1),n=e.oxw(),d=n.index,s=n.$implicit,i=e.oxw(3);e.Q6J("cdkDragDisabled",i._isCdkDragDisabled(o))("node",o)("meta",i._graphMetadata[o.id])("isEdit",i._isEditMode)("isNextNodeBlank",i._isNextNodeBlank(o,d,t))("checkDueDate",i.checkDueDate)("dueDateThreshold",i.dueDateThreshold)("renderArrow",d>0)("allNodesInColumnApproved",!!s.allNodesApproved),e.xp6(2),e.ekj("fdp-approval-flow__graph-node-inner--edit",i._isEditMode),e.Q6J("value",o)("selected",!!o.selected)("ariaLabelledBy",l.approvalFlowNodeId)("disableToolbarClick",!0),e.xp6(2),e.Q6J("ngIf",i._isEditMode),e.xp6(1),e.Q6J("image",1===o.approvers.length?o.approvers[0].imgUrl:null)("label",o.approvers.length>1?o.description:null)("circle",!0)}}function hl(a,r){if(1&a&&(e.TgZ(0,"div",32),e.YNc(1,ul,7,19,"fdp-approval-flow-node",33),e.qZA()),2&a){const o=r.$implicit,t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",o.nodes)("ngForTrackBy",t._trackByFn)}}function wl(a,r){if(1&a&&(e.ynx(0),e.TgZ(1,"div",19),e.YNc(2,vl,3,4,"div",20),e.TgZ(3,"div",21,22)(5,"div",23,24),e.YNc(7,hl,2,2,"div",25),e.qZA()()(),e.BQk()),2&a){const o=e.oxw(2);e.xp6(1),e.ekj("fdp-approval-flow__container--extra-padding-start",!0)("fdp-approval-flow__container--extra-padding-end",!0),e.xp6(1),e.Q6J("ngIf",o._scrollDiff>0),e.xp6(1),e.ekj("fdp-approval-flow__graph-container--multiple-root-nodes",o._multipleRootNodes)("fdp-approval-flow__graph-container--multiple-final-nodes",o._multipleFinalNodes),e.xp6(2),e.ekj("fdp-approval-flow__graph--edit-mode",o._isEditMode),e.xp6(2),e.Q6J("ngForOf",o._graph.columns)}}function Al(a,r){if(1&a&&(e.ynx(0),e.YNc(1,wl,8,12,"ng-container",18),e.BQk()),2&a){const o=e.oxw(),t=e.MAs(12);e.xp6(1),e.Q6J("ngIf",o._graph.columns.length)("ngIfElse",t)}}function Cl(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"fd-bar-element")(3,"button",42),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l._saveEditModeChanges())}),e.ALo(4,"fdTranslate"),e.qZA()(),e.TgZ(5,"fd-bar-element")(6,"button",43),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l._exitEditMode())}),e.ALo(7,"fdTranslate"),e.qZA()()()()}if(2&a){const o=e.oxw();e.xp6(3),e.Q6J("label",e.lcZ(4,4,"platformApprovalFlow.editModeSaveButtonLabel"))("disabled",o.disableSaveButton),e.xp6(3),e.Q6J("label",e.lcZ(7,6,"platformApprovalFlow.editModeExitButtonLabel"))("disabled",o.disableExitButton)}}function bl(a,r){if(1&a&&(e.TgZ(0,"figure",44)(1,"figcaption",45)(2,"h3",46),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA(),e.TgZ(5,"p",47),e._uU(6),e.ALo(7,"fdTranslate"),e.qZA()()(),e.TgZ(8,"div",48),e.O4$(),e.TgZ(9,"svg",49),e._UZ(10,"path",50)(11,"path",51)(12,"path",52)(13,"path",53)(14,"path",54)(15,"path",55)(16,"path",56),e.qZA()()),2&a){const o=e.oxw();e.Q6J("svgConfig",o._emptyApprovalFlowSpotConfig),e.xp6(3),e.hij(" ",e.lcZ(4,3,"platformApprovalFlow.emptyTitle")," "),e.xp6(3),e.hij(" ",e.lcZ(7,5,"platformApprovalFlow.emptyHint")," ")}}let Tl=0,je=(()=>{class a{constructor(o,t,l,n,d){this._dialogService=o,this._cdr=t,this._injector=l,this.providers=n,this._rtlService=d,this.checkDueDate=!1,this.dueDateThreshold=7,this.allowSendRemindersForStatuses=["in progress","not started"],this.isEditAvailable=!1,this.allowAddParallelNodes=!0,this.disableSaveButton=!1,this.disableExitButton=!1,this.nodeClick=new e.vpe,this.afterNodeAdd=new e.vpe,this.afterNodeEdit=new e.vpe,this.valueChange=new e.vpe,this.sendReminders=new e.vpe,this.onDataRequested=new e.vpe,this.onDataReceived=new e.vpe,this._isCarousel=!1,this._graphMetadata={},this._isEditMode=!1,this._usersForWatchersList=[],this._selectedWatchers=[],this._selectedWatcherIds=[],this._messages=[],this._displayUserFn=E,this._userValueFn=We,this._trackByFn=q,this._emptyApprovalFlowSpotConfig={spot:{url:"",id:"sapIllus-Spot-NoData"}},this._multipleRootNodes=!1,this._multipleFinalNodes=!1,this._dragDropInProgress=!1,this.approvalFlowUniqueId="fdp-approval-flow-"+ ++Tl,this._subscriptions=new z.w0,this._dataSourceChanged$=new pe.x,this._getNextHorizontalNode=(s,i,f)=>{const c="right"===f?1:-1,g=this._graph.columns[i+c],m=null==g?void 0:g.nodes[s];if(m)return m.blank||m.space?this._getNextHorizontalNode(s,i+c,f):m},this._getNextVerticalNode=(s,i,f)=>{const c="down"===f?1:-1,m=this._graph.columns[i].nodes[s+c];if(m)return m.blank||m.space?this._getNextVerticalNode(s+c,i,f):m}}get approvalProcess(){return(0,N.Z)(this._approvalProcess)}get _rtl(){var o;return null===(o=this._rtlService)||void 0===o?void 0:o.rtl.getValue()}get _selectedNodes(){return $(this._graph).filter(o=>o.selected)}ngOnInit(){var o,t,l;if(!this.userDataSource){const n=this.usersDataProviderEntityKey&&(null===(o=this.providers)||void 0===o?void 0:o.get(this.usersDataProviderEntityKey));n?this.userDataSource=new D._1(n):console.error("Could not resolve users data source")}if(!this.watcherDataSource){const n=this.watchersDataProviderEntityKey&&(null===(t=this.providers)||void 0===t?void 0:t.get(this.watchersDataProviderEntityKey));n?this.watcherDataSource=new D._1(n):console.error("Could not resolve watchers data source")}if(!this.teamDataSource){const n=this.teamsDataProviderEntityKey&&(null===(l=this.providers)||void 0===l?void 0:l.get(this.teamsDataProviderEntityKey));n?this.teamDataSource=new D.L8(n):console.error("Could not resolve teams data source")}this._listenOnResize(),this._setupDataSourceSubscription()}ngOnChanges(o){var t;if(o.value){const l=null!==(t=this.value)&&void 0!==t?t:{watchers:[],nodes:[]};this._initialApprovalProcess=(0,N.Z)(l),this._buildView(l)}(o.userDataSource||o.watcherDataSource||o.teamDataSource)&&this._dataSourceChanged$.next()}ngOnDestroy(){this._subscriptions.unsubscribe()}_isNextNodeBlank(o,t,l){var n,d;const s=null===(n=this._graph.columns[t+1])||void 0===n?void 0:n.nodes[l],f=null===(d=this._graphMetadata[null==s?void 0:s.id])||void 0===d?void 0:d.parallelEnd;return!o.blank&&!!(null==s?void 0:s.blank)&&!f}_isCdkDragDisabled(o){return!this._isEditMode||o.blank||o.space||"not started"!==o.status}_onNodeClick(o){this._dragDropInProgress||(this._dialogService.open(Ze,{data:Object.assign({node:o,allowSendReminder:this.allowSendRemindersForStatuses.includes(o.status)},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(l=>{Array.isArray(l)&&this.sendReminders.emit({users:l,node:o})}),this.nodeClick.emit(o))}_onNodeAdd(o){this.afterNodeAdd.emit(o)}_onNodeEdit(o){this.afterNodeEdit.emit(o)}_onNodeSelectionChange(o){this._graph.columns.forEach(t=>{t.nodes.forEach(l=>{l.selected=!!o.selection.find(n=>n.id===l.id)})})}_onWatcherClick(o,t){t.preventDefault(),this._dialogService.open(Ze,{data:Object.assign({watcher:o},this._defaultDialogOptions)})}getNodeMetadataByNodeId(o){return this._graphMetadata[o]}nextSlide(o=1){let l=0;l=1===o?this._carouselStepSize*(this._carouselStepsCount-this._carouselStepsRight+1)+(1===this._carouselStepsRight?0:1)-this._graphEl.nativeElement.clientWidth:this._carouselStepSize*(this._carouselStepsLeft-1)-(1===this._carouselStepsLeft?0:1),this._setScrollPosition(l),this._cdr.detectChanges()}_setScrollPosition(o){this._graphContainerEl.nativeElement.scrollTo({left:o,behavior:"smooth"})}_moveColInView(o){const t=this._graphEl.nativeElement.children[o].firstElementChild;if(!t)return;const{x:l,width:n}=t.getBoundingClientRect(),s=l-this._graphContainerEl.nativeElement.getBoundingClientRect().x,i=s+n;s<0?this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+s):i>this._graphEl.nativeElement.clientWidth&&this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+i-this._graphEl.nativeElement.clientWidth)}_onNodeKeyDown(o,t){if(!F.yS.isKeyCode(o,[S.LH,S.JH,S.SV,S.oh]))return;const{nodeIndex:l,columnIndex:n}=this._graphMetadata[t.id];let d;o.preventDefault(),"number"==typeof l&&"number"==typeof n&&(F.yS.isKeyCode(o,S.LH)?l>0&&(d=this._getNextVerticalNode(l,n,"up")):F.yS.isKeyCode(o,S.JH)?d=this._getNextVerticalNode(l,n,"down"):F.yS.isKeyCode(o,S.oh)?d=this._getNextHorizontalNode(l,n,this._rtl?"right":"left"):F.yS.isKeyCode(o,S.SV)&&(d=this._getNextHorizontalNode(l,n,this._rtl?"left":"right"))),d&&this._focusNode(d)}_enterEditMode(){this.watcherDataSource.match(),this._editModeInitSub=this.watcherDataSource.open().subscribe(o=>{this._usersForWatchersList=o,this._selectedWatchers=this._approvalProcess.watchers,this._selectedWatcherIds=this._selectedWatchers.map(t=>t.id),this._isEditMode=!0,this._initialApprovalProcess=(0,N.Z)(this._approvalProcess),this._cdr.detectChanges()}),this._subscriptions.add(this._editModeInitSub)}_saveEditModeChanges(){var o;null===(o=this._editModeInitSub)||void 0===o||o.unsubscribe(),this.watcherDataSource.close(),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[];const t=Object.assign(Object.assign({},this._approvalProcess),{watchers:this._selectedWatchers});this._buildView(t),this.valueChange.emit(t)}_exitEditMode(){var o;null===(o=this._editModeInitSub)||void 0===o||o.unsubscribe(),this.watcherDataSource.close(),this._approvalProcess=(0,N.Z)(this._initialApprovalProcess),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[],this._buildView(this._approvalProcess)}_watchersSelectionChanged(o){const t=new Set(o);this._selectedWatchers=(0,Ta.Z)(this._selectedWatchers.concat(this._usersForWatchersList).filter(l=>t.has(l.id)),l=>l.id)}_undoLastAction(){this._approvalProcess=(0,N.Z)(this._previousApprovalProcess),this._previousApprovalProcess=void 0,this._buildView(this._approvalProcess)}_addNode(o,t){var l;const n="before"===t&&!(null!==(l=o.actionsConfig)&&void 0!==l&&l.disableAddParallel);this._dialogService.open(Ye,{data:Object.assign({nodeTarget:t,showNodeTypeSelect:n,node:Object.assign(xe(),{blank:!1}),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(s=>{var i;if(!s)return;const{node:f,nodeType:c,toNextSerial:g}=s;if(f){switch(this._cacheCurrentApprovalProcess(),f.id=`tempId${(1e3*Math.random()).toFixed()}`,t){case"empty":this._enterEditMode();break;case"before":c===x.SERIAL&&(f.targets=[o.id],this._replaceTargets(o.id,[f.id])),c===x.PARALLEL&&this._processAddingParallelNode(f,o,g);break;case"before-all":f.targets=this._graph.columns[0].nodes.map(m=>m.id);break;case"after":f.targets=o.targets,o.targets=[f.id];break;case"after-all":(null===(i=this._graphMetadata[o.targets[0]])||void 0===i?void 0:i.parents)?(f.targets=o.targets,this._replaceTargets(o.id,[f.id]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(w=>w.id!==o.id)):this._graph.columns[this._graph.columns.length-1].nodes.forEach(w=>w.targets.push(f.id));break;case"parallel":this._processAddingParallelNode(f,o,g)}this._showMessage(f.approvalTeamId?"teamAddSuccess":"approverAddSuccess"),this._approvalProcess.nodes.push(f),this._buildView(this._approvalProcess),this._onNodeAdd(f)}})}_editNode(o){this._dialogService.open(Ye,{data:Object.assign({isEdit:!0,node:Object.assign({},o),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(l=>{const n=null==l?void 0:l.node;!n||(this._cacheCurrentApprovalProcess(),this._updateNode(n),this._showMessage("nodeEdit"),this._buildView(this._approvalProcess),this._onNodeEdit(o))})}_onNodeDelete(o){this._cacheCurrentApprovalProcess(),this._deleteNode(o),this._showMessage(o.approvalTeamId?"teamRemove":"nodeRemove"),this._buildView(this._approvalProcess)}_deleteSelectedNodes(){this._cacheCurrentApprovalProcess(),this._nodeComponents.filter(t=>t._isSelected).map(t=>t.node).forEach(t=>{this._deleteNode(t),this._buildView(this._approvalProcess)}),this._showMessage("nodesRemove")}_onNodeDragMoved(o){var t;const l=null===(t=this._nodeComponents.find(n=>n.node===o))||void 0===t?void 0:t._nativeElement.getBoundingClientRect();!l||this._nodeComponents.forEach(n=>{n.node!==o&&Boolean(n._dropZones.length)&&n._checkIfNodeDraggedInDropZone(l)})}_onNodeDrop(o,t){var l,n;t.reset(),setTimeout(()=>this._dragDropInProgress=!1);const d=this._nodeComponents.find(i=>i._isAnyDropZoneActive);if(!d)return;this._cacheCurrentApprovalProcess();const s=d._activeDropZones[0].placement;if(this._nodeComponents.forEach(i=>i._deactivateDropZones()),"after"===s){this._deleteNode(o),this._buildView(this._approvalProcess);const i=$(this._graph).find(f=>f.id===d.node.targets[0]);null!=i&&i.blank&&(this._deleteNode(i),this._buildView(this._approvalProcess)),o.targets=null!==(n=null===(l=this._approvalProcess.nodes.find(f=>f.id===d.node.id))||void 0===l?void 0:l.targets)&&void 0!==n?n:[],d.node.targets=[o.id],this._finishDragDropProcess(o)}else"before"===s?this._dialogService.open(ra,void 0,this._injector).afterClosed.subscribe(f=>{if(!f)return;const{type:c,toNextSerial:g}=f;this._deleteNode(o),this._buildView(this._approvalProcess),c===x.SERIAL&&(this._replaceTargets(d.node.id,[o.id]),o.targets=[d.node.id]),c===x.PARALLEL&&this._processAddingParallelNode(o,d.node,g),this._finishDragDropProcess(o)}):"before-all"===s?(this._deleteNode(o),o.targets=this._graph.columns[0].nodes.map(f=>f.id),this._finishDragDropProcess(o)):"after-all"===s&&(this._deleteNode(o),this._buildView(this._approvalProcess),o.targets=[...d.node.targets],0===d.node.targets.length?this._graph.columns[this._graph.columns.length-1].nodes.forEach(f=>f.targets.push(o.id)):(this._approvalProcess.nodes=this._approvalProcess.nodes.filter(i=>i.id!==d.node.id),this._replaceTargets(d.node.id,[o.id])),this._finishDragDropProcess(o))}_finishDragDropProcess(o){this._approvalProcess.nodes.push(o),this._buildView(this._approvalProcess)}_showMessage(o){this._messages=[{type:o}]}_buildView(o){var t;if(o.nodes||(o.nodes=[]),o.watchers||(o.watchers=[]),this._approvalProcess=o,this._graph=function da(a){const r={columns:[],errors:!1};if(!a.length)return r;const o=function ia(a){return a.filter(r=>a.every(o=>!W(o,r.id)))}(a),t=function sa(a){return a.filter(r=>!r.targets.length)}(a);if(!o.length||!t.length)return console.warn("Err: Not possible to build graph because root or final nodes aren't present!"),r.errors=!0,r;const l=function fa(a,r){const o=[],t=[];for(let l=0;l<a.length;l++)for(t.push([a[l]]);t.length;){const n=t.pop();let d;if(n&&(d=n[n.length-1]),!d)return[];d.targets.length?d.targets.forEach(s=>{const i=r.find(c=>c.id===s);if(!i)return;const f=[...n,i];t.push(f)}):o.push(n)}return o}(o,a);if(!l.length)return console.warn("Err: Not possible to build graph!"),r.errors=!0,r;const n=function ca(a){const r=[];return a.forEach(o=>{let t=o.length-1;for(let l=o.length-1;l>0&&o[l].blank;--l)t=l-1;o[t].targets=[],r.push(o.slice(0,t+1))}),r}(l),d=function _a(a){const r=[],o=a.map(l=>l.length),t=Math.max(...o);return a.forEach(l=>{l.length!==t?(l.forEach((n,d)=>{var s;let i=function va(a,r){const o=[],t=r.find(l=>{var n;const d=l.indexOf(a);return d>-1&&(null===(n=l[d+1])||void 0===n?void 0:n.blank)});if(t){const l=t.indexOf(a)+1,n=t.findIndex((d,s)=>s>l&&!d.blank);o.push(...t.slice(l,n>0?n:void 0))}return o}(n,r);if(i.length&&i[0].id!==(null===(s=l[d+1])||void 0===s?void 0:s.id))return void l.splice(d+1,0,...i);const f=a.map(g=>g.indexOf(n)),c=Math.max(...f);return d<c?(i=Ge(c-d,l[d-1].status),i[i.length-1].targets=[n.id],l[d-1].targets=[i[0].id],void l.splice(d,0,...i)):d===c&&d===l.length-1?(i=Ge(t-l.length,l[d].status),l[d].targets=[i[0].id],void l.splice(d+1,0,...i)):void 0}),r.push(l)):r.push(l)}),r}(n),s=function ga(a){if(1===a.length)return a;let r=[],o=0;a.forEach((n,d)=>{for(let s=0;s<a.length;s++)if(d!==s&&!r.some(i=>d===i[1]&&s===i[0])){o=0;for(let i=0;i<n.length;i++)n[i].id===a[s][i].id&&o++;r.push([d,s,o])}}),r=r.sort((n,d)=>n[2]>d[2]?-1:1);const t=[],l=[];return r.forEach(n=>{t.some(d=>d===n[0])||(l.push(a[n[0]]),t.push(n[0])),t.some(d=>d===n[1])||(l.push(a[n[1]]),t.push(n[1]))}),l}(d),i=function ma(a){const r=[];return a.forEach((o,t)=>{o.forEach(l=>{a.forEach((n,d)=>{d!==t&&n.indexOf(l)>-1&&n.splice(n.indexOf(l),1,function eo(){return{id:`spaceId${(1e3*Math.random()).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",space:!0}}())})}),r.push(o)}),r}(s),f=function ua(a){return a.reduce((r,o)=>(o.every(t=>t.space)||r.push(o),r),[])}(i),c=function ha(a){const r=[];let o=[];for(let t=0;t<a[0].length;t++){o=[];for(let l=0;l<a.length;l++)o.push(a[l][t]);r.push(o)}return r}(f),g=function wa(a){const r=[];return a.forEach(o=>{let t;for(let l=o.length-1;l>=0;l--)if(!o[l].space){t=l;break}r.push(t<o.length?o.slice(0,t+1):o)}),r}(c),m=function Aa(a){const r=[];return a.forEach(o=>{o.every(l=>l.blank||l.space)?o.forEach(l=>{l.blank&&function Ca(a,r,o){o.forEach(t=>{t.forEach(l=>{W(l,a)&&(l.targets=l.targets.filter(n=>n!==a),l.targets.push(...r))})})}(l.id,l.targets,a)}):r.push(o)}),r}(g);return r.columns=function ba(a){const r=[];return a.forEach((o,t)=>{o.forEach(l=>l.colIndex=t),r.push({nodes:o,index:t,allNodesApproved:o.every(l=>T(l))})}),r}(m),r}(this._approvalProcess.nodes),this._graph.errors)return void this._showMessage("error");this._graphMetadata=function pa(a){const r=$(a),o={};return a.columns.forEach((t,l)=>{t.nodes.forEach((n,d)=>{var s;const i=function Xe(a,r){return r.filter(o=>W(o,a.id))}(n,r),f=!!i.length&&i.every(A=>T(A)),c=!i.length&&!n.space,g=!n.targets.length&&!n.space,m=i.length>1,w=0===l&&t.nodes.length>1&&0===d,y=l===a.columns.length-1&&t.nodes.length>1&&0===d;o[n.id]={parents:i,isRoot:c,isFinal:g,parallelStart:n.targets.length>1,parallelEnd:m,columnIndex:l,nodeIndex:d,canAddNodeBefore:!V(n)&&!f,canAddNodeBeforeAll:c&&w,canAddNodeAfter:!T(n),canAddNodeAfterAll:!T(n)&&(g&&y||m&&n.blank),canAddParallel:!T(n),isVerticalLineBeforeSolid:n.space&&(null===(s=a.columns[l-1])||void 0===s?void 0:s.allNodesApproved),isVerticalLineAfterSolid:n.space&&t.allNodesApproved,firstOfMultipleRootNodes:w,firstOfMultipleFinalNodes:y,rootNodesApproved:0===l&&t.allNodesApproved}})}),a.columns.forEach(t=>{t.nodes.forEach((l,n)=>{var d,s,i;const f=o[l.id];f.isLastInParallel=null===(d=o[l.targets[0]])||void 0===d?void 0:d.parallelEnd,f.isFirstInParallel=null===(i=o[null===(s=f.parents[0])||void 0===s?void 0:s.id])||void 0===i?void 0:i.parallelStart;const c=t.index,g=c?a.columns[c-1]:void 0,m=c?a.columns[c+1]:void 0,w=null==g?void 0:g.nodes[n],y=null==m?void 0:m.nodes[n];f.renderAddNodeAfterButton=f.canAddNodeAfter&&(f.isFinal||f.parallelStart||f.isLastInParallel||(null==y?void 0:y.blank));const A=null==m?void 0:m.nodes;if(f.parallelStart&&A){const X=A.filter(k=>l.targets.includes(k.id)),be=A.findIndex(k=>k.id===X[0].id),Z=A.findIndex(k=>k.id===X[X.length-1].id);for(let k=be+1;k<=Z;k++)o[A[k].id].renderVerticalLineBefore=!0}const de=null==g?void 0:g.nodes;if(f.parallelEnd&&de){const X=de.findIndex(Z=>Z.id===f.parents[0].id),be=de.findIndex(Z=>Z.id===f.parents[f.parents.length-1].id);for(let Z=X+1;Z<=be;Z++)o[de[Z].id].renderVerticalLineAfter=!0}f.renderVerticalLineBefore=!!f.renderVerticalLineBefore||n>0&&!w,f.renderVerticalLineAfter=!!f.renderVerticalLineAfter||n>0&&!y})}),o}(this._graph);const l=$(this._graph);this._approvalProcess.nodes=l.filter(n=>!n.space),this._multipleRootNodes=l.filter(n=>this._graphMetadata[n.id].isRoot).length>1,this._multipleFinalNodes=l.filter(n=>this._graphMetadata[n.id].isFinal).length>1,this._cdr.detectChanges(),null===(t=this._gridList)||void 0===t||t.clearSelection(),this._isEditMode||this._setScrollPosition(0)}_listenOnResize(){this._subscriptions.add((0,R.T)((0,O.R)(window,"resize"),(0,O.R)(this._graphContainerEl.nativeElement,"scroll")).pipe((0,M.p)(50,void 0,{leading:!0,trailing:!0})).subscribe(()=>{this._cdr.detectChanges()}))}_focusNode(o){var t;const l=this._nodeComponents.find(n=>n.node===o);!l||(this._moveColInView(null!==(t=o.colIndex)&&void 0!==t?t:0),l._focus({preventScroll:!0}))}_updateNode(o){const t=this._approvalProcess.nodes.findIndex(l=>l.id===o.id);t>-1&&(this._approvalProcess.nodes[t]=o)}_deleteNode(o){var t,l,n;const d=[o],s=$(this._graph);let f,i=s.find(A=>A.id===o.id);do{1===(null==i?void 0:i.targets.length)&&(f=s.find(A=>A.id===(null==i?void 0:i.targets[0])),(null==f?void 0:f.blank)&&1===this._graphMetadata[f.id].parents.length&&(d.push(f),i=f,f=s.find(A=>A.id===(null==i?void 0:i.targets[0]))))}while((null==f?void 0:f.blank)&&1===this._graphMetadata[f.id].parents.length);const c=this._graphMetadata[o.id].parents[0],m=null===(t=this._graphMetadata[null==c?void 0:c.id])||void 0===t?void 0:t.parallelStart,w=null===(l=this._graphMetadata[o.targets[0]])||void 0===l?void 0:l.parallelEnd,y=m&&w||d.length>1?[]:null!==(n=null==i?void 0:i.targets)&&void 0!==n?n:[];this._replaceTargets(o.id,y),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(A=>!d.includes(A))}_addParallelTargets(o,t){this._approvalProcess.nodes.forEach(l=>{W(l,o)&&l.targets.push(t)})}_replaceTargets(o,t){this._approvalProcess.nodes.forEach(l=>{W(l,o)&&(l.targets=l.targets.filter(n=>n!==o),l.targets.push(...t))})}_cacheCurrentApprovalProcess(){this._previousApprovalProcess=(0,N.Z)(this._approvalProcess)}get _carouselStepSize(){return this._graphEl.nativeElement.scrollWidth/this._carouselStepsCount}get _scrollDiff(){return this._graphEl?this._graphEl.nativeElement.scrollWidth-this._graphEl.nativeElement.clientWidth:0}get _carouselStepsCount(){return this._graphEl.nativeElement.children.length}get _carouselStepsLeft(){return Math.ceil(this._graphContainerEl.nativeElement.scrollLeft/this._carouselStepSize)}get _carouselStepsRight(){return Math.ceil((this._scrollDiff-Math.round(this._graphContainerEl.nativeElement.scrollLeft))/this._carouselStepSize)}get _defaultDialogOptions(){return{teamDataSource:this.teamDataSource,userDataSource:this.userDataSource,userDetailsTemplate:this.userDetailsTemplate,rtl:this._rtl}}_findSerialNode(o,t){if(Number.isInteger(o)&&(null==t?void 0:t.some(d=>{var s;const i=null===(s=this._graphMetadata[d])||void 0===s?void 0:s.nodeIndex;return Number.isInteger(i)&&i<=o-1})))return null!=t?t:[];const n=this._approvalProcess.nodes.find(d=>d.id===(null==t?void 0:t[0]));return this._findSerialNode(o,null==n?void 0:n.targets)}_processAddingParallelNode(o,t,l=!1){var n,d;if(o.targets=t.targets,this._addParallelTargets(t.id,o.id),l){let s=this._graphMetadata[t.id].nodeIndex,i=t.targets;if(0===s){const f=this._graphMetadata[t.id],g=(null===(d=null===(n=this._graph.columns)||void 0===n?void 0:n[f.columnIndex])||void 0===d?void 0:d.nodes).find((m,w)=>w>0&&!m.space);return g?(s=this._graphMetadata[g.id].columnIndex,i=g.targets,void(o.targets=this._findSerialNode(s,i))):void(o.targets=t.targets)}o.targets=this._findSerialNode(s,i)}}_setupDataSourceSubscription(){const o=this._dataSourceChanged$.pipe((0,te.O)(null),(0,ae.w)(()=>{const t=[this.teamDataSource,this.userDataSource,this.watcherDataSource].filter(Boolean).map(l=>(0,R.T)(l.onDataRequested().pipe((0,J.h)(!0)),l.onDataReceived().pipe((0,J.h)(!1))).pipe((0,te.O)(l.isDataLoading)));return(0,Y.a)(t)}),(0,K.U)(t=>t.some(Boolean)),(0,b.x)()).subscribe(t=>{t?this.onDataRequested.emit():this.onDataReceived.emit()});this._subscriptions.add(o)}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(Q.xA),e.Y36(e.sBO),e.Y36(e.zs3),e.Y36(D.Or,8),e.Y36(F.qF,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-approval-flow"]],viewQuery:function(o,t){if(1&o&&(e.Gf(ll,5),e.Gf(nl,5),e.Gf(rl,5),e.Gf(Pe,5)),2&o){let l;e.iGM(l=e.CRH())&&(t._graphContainerEl=l.first),e.iGM(l=e.CRH())&&(t._graphEl=l.first),e.iGM(l=e.CRH())&&(t._gridList=l.first),e.iGM(l=e.CRH())&&(t._nodeComponents=l)}},inputs:{title:"title",value:"value",userDataSource:"userDataSource",watcherDataSource:"watcherDataSource",teamDataSource:"teamDataSource",userDetailsTemplate:"userDetailsTemplate",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allowSendRemindersForStatuses:"allowSendRemindersForStatuses",isEditAvailable:"isEditAvailable",watchersLabel:"watchersLabel",allowAddParallelNodes:"allowAddParallelNodes",disableSaveButton:"disableSaveButton",disableExitButton:"disableExitButton",usersDataProviderEntityKey:"usersDataProviderEntityKey",teamsDataProviderEntityKey:"teamsDataProviderEntityKey",watchersDataProviderEntityKey:"watchersDataProviderEntityKey"},outputs:{nodeClick:"nodeClick",afterNodeAdd:"afterNodeAdd",afterNodeEdit:"afterNodeEdit",valueChange:"valueChange",sendReminders:"sendReminders",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},features:[e.TTD],decls:13,vars:10,consts:[["fdCompact",""],[3,"messages","undoLastActionAvailable","messagesChange","undoLastAction"],[1,"fdp-approval-flow__toolbar",3,"selectionMode","selectionChange"],["gridList",""],[3,"title"],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes",4,"ngIf"],["class","fdp-approval-flow__watchers",4,"ngIf"],[4,"ngIf"],["fd-bar","",4,"ngIf"],["emptyApprovalFlowGraph",""],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes"],[1,"fdp-approval-flow__watchers"],[1,"fdp-approval-flow__watchers-title"],["class","fdp-approval-flow__watchers-input-container",4,"ngIf"],["size","xs",3,"image","label","clickable","circle","avatarClicked",4,"ngFor","ngForOf","ngForTrackBy"],["size","xs",3,"image","label","clickable","circle","avatarClicked"],[1,"fdp-approval-flow__watchers-input-container"],[3,"dropdownValues","placeholder","displayFn","valueFn","showAllButton","ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],[1,"fdp-approval-flow__container"],["class","fdp-approval-flow-carousel-controls",3,"fdp-approval-flow-carousel-controls--edit-mode",4,"ngIf"],[1,"fdp-approval-flow__graph-container"],["graphContainerEl",""],[1,"fdp-approval-flow__graph"],["graphEl",""],["class","fdp-approval-flow__graph-column",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-carousel-controls"],["class","fdp-approval-flow-carousel-controls__button--prev-slide",3,"click",4,"ngIf"],["class","fdp-approval-flow-carousel-controls__button--next-slide",3,"click",4,"ngIf"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide",3,"click"],[3,"glyph"],[1,"fdp-approval-flow-carousel-controls__button--next-slide",3,"click"],[1,"fdp-approval-flow__graph-column"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved"],["approvalFlowNode",""],["type","active",1,"fdp-approval-flow__graph-node-inner",3,"value","selected","ariaLabelledBy","disableToolbarClick","press"],["fd-grid-list-item-image","","size","xs",3,"image","label","circle"],["fd-grid-list-item-body",""],[3,"ngTemplateOutlet"],["fd-bar",""],["fd-bar-right",""],["fd-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fdType","transparent",3,"label","disabled","click"],["fd-illustrated-message","","type","spot",3,"svgConfig"],["fd-illustrated-message-figcaption",""],["fd-illustrated-message-title",""],["fd-illustrated-message-text",""],[2,"display","none"],["xmlns","http://www.w3.org/2000/svg","width","128","height","128","viewBox","0 0 128 128","id","sapIllus-Spot-NoData"],["d","M41.6179,32.7174H84.6273a1,1,0,0,1,.723.3092l7.2445,7.5824,7.4817,7.8491a1,1,0,0,1,.2761.69l-.0046,55.6069a4.1038,4.1038,0,0,1-.8787,2.1212A4.0564,4.0564,0,0,1,98.1,107.9631l-56.3858.0313a2.6167,2.6167,0,0,1-3.0812-3.2309l-.0152-69.0594Z",1,"sapIllus_PatternShadow",2,"fill","var(--sapIllus_PatternShadow)"],["d","M35.7928,27.4987H78.8022a1,1,0,0,1,.723.3092L86.77,35.39l7.4816,7.8492a1,1,0,0,1,.2762.69l-.0046,55.6069a3,3,0,0,1-3,3H35.808a2.9946,2.9946,0,0,1-3-2.9913c-.01-12.0564-.0423-57.0116-.0152-69.0595A2.9943,2.9943,0,0,1,35.7928,27.4987Z",1,"sapIllus_ObjectFillColor",2,"fill","var(--sapIllus_ObjectFillColor)"],["d","M93.2978,44.5335H78.8208a.9925.9925,0,0,1-.974-1.01V28.5108a.97.97,0,0,1,1.6628-.7143L93.9865,42.8092A1.0151,1.0151,0,0,1,93.2978,44.5335Z",1,"sapIllus_BrandColorSecondary",2,"fill","var(--sapIllus_BrandColorSecondary)"],["d","M104.608,38.9485l5.9157-1.7721c1.32-.3954.7584-2.5258-.5689-2.1282L104.0392,36.82c-1.32.3953-.7584,2.5258.5688,2.1282Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M85.2973,21.2465l.9718-5.9331c.2154-1.3151-1.777-1.8807-1.9941-.5554l-.9718,5.9332c-.2155,1.3151,1.777,1.8807,1.9941.5553Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M95.3034,29.0015a1.01,1.01,0,0,1-.6837-.267,1.0783,1.0783,0,0,1-.0864-1.4932l5.9511-6.8857a1.01,1.01,0,0,1,1.4538-.0884,1.0785,1.0785,0,0,1,.0865,1.4932l-5.9511,6.8858A1.0164,1.0164,0,0,1,95.3034,29.0015Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M94.8747,42.8861,80.0855,27.4623a1.5152,1.5152,0,0,0-1.0885-.4636H35.807a3.509,3.509,0,0,0-3.5146,3.4836c-.0294,13.2857.0137,66.7559.0157,69.0257a3.5076,3.5076,0,0,0,3.5146,3.4894H91.7709a3.5106,3.5106,0,0,0,3.5146-3.4982l.005-55.5785A1.49,1.49,0,0,0,94.8747,42.8861Zm-16.21-14.8355a1.15,1.15,0,0,1,.2561-.0309,1.04,1.04,0,0,1,.51.2134l14.276,14.8837.0194.02a.5891.5891,0,0,1,.0968.6251c-.1016.1764-.4086.24-.69.24L78.8355,44a.6031.6031,0,0,1-.5472-.6131c-.0087-4.9588-.017-9.9015-.0035-14.8689A.5189.5189,0,0,1,78.6646,28.0506Zm13.1062,73.95H35.8188a2.5045,2.5045,0,0,1-2.5107-2.491c-.002-2.2694-.0451-55.74-.0157-69.0248a2.5054,2.5054,0,0,1,2.5107-2.4861H77.3684a1.49,1.49,0,0,0-.0976.5106V43.4934A1.5145,1.5145,0,0,0,78.7894,45H78.92L94.286,47.9749l-.0046,51.5269A2.5074,2.5074,0,0,1,91.7708,102.0006Z",1,"sapIllus_StrokeDetailColor",2,"fill","var(--sapIllus_StrokeDetailColor)"]],template:function(o,t){1&o&&(e.ynx(0,0),e.TgZ(1,"fdp-approval-flow-messages",1),e.NdJ("messagesChange",function(n){return t._messages=n})("undoLastAction",function(){return t._undoLastAction()}),e.qZA(),e.TgZ(2,"fd-grid-list",2,3),e.NdJ("selectionChange",function(n){return t._onNodeSelectionChange(n)}),e.TgZ(4,"fd-grid-list-title-bar",4),e.ALo(5,"fdTranslate"),e._UZ(6,"fd-grid-list-title-bar-spacer"),e.YNc(7,dl,1,4,"fdp-approval-flow-toolbar-actions",5),e.qZA(),e.YNc(8,fl,6,6,"div",6),e.YNc(9,Al,2,2,"ng-container",7),e.qZA(),e.YNc(10,Cl,8,8,"div",8),e.YNc(11,bl,17,7,"ng-template",null,9,e.W1O),e.BQk()),2&o&&(e.xp6(1),e.Q6J("messages",t._messages)("undoLastActionAvailable",!!t._previousApprovalProcess),e.xp6(1),e.Q6J("selectionMode",t._isEditMode?"multiSelect":"none"),e.xp6(2),e.Q6J("title",t.title||e.lcZ(5,8,"platformApprovalFlow.defaultTitle")),e.xp6(3),e.Q6J("ngIf",t.isEditAvailable),e.xp6(1),e.Q6J("ngIf",(null==t._approvalProcess||null==t._approvalProcess.watchers?null:t._approvalProcess.watchers.length)||t._isEditMode),e.xp6(1),e.Q6J("ngIf",!t._graph.errors),e.xp6(1),e.Q6J("ngIf",t._isEditMode))},dependencies:[u.sg,u.O5,u.tP,h.JJ,h.On,De.A,xa.R,Na.M,Fa.J,I.$,G.r,ne.o,Sa.o,Ma.O,Ea.L,Da.a,ya.n,Za.s,ka.D,he.L,He.Zt,Ia.z,La.N,Ja.I,Pa.C,Pe,Ka,al,L.n],styles:[".fdp-approval-flow__watchers{margin-bottom:.5rem;padding-left:.5rem}.fdp-approval-flow__watchers-title{font-size:.875em;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin:1rem 0 .5rem}.fdp-approval-flow__watchers fd-avatar{margin-right:.5rem;cursor:pointer}.fdp-approval-flow__watchers fd-avatar:focus{outline-offset:.0625rem;outline-width:.0625rem;outline-style:dotted;outline-color:#0854a0;outline-color:var(--sapContent_FocusColor, #0854a0)}.fdp-approval-flow__watchers .fdp-approval-flow__watchers-input-container{width:17.375rem}[dir=rtl] .fdp-approval-flow__watchers,.fdp-approval-flow__watchers[dir=rtl]{padding-right:.5rem}[dir=rtl] .fdp-approval-flow__watchers fd-avatar,.fdp-approval-flow__watchers[dir=rtl] fd-avatar{margin-left:.5rem;margin-right:0}.fdp-approval-flow__container{max-width:100%;position:relative;padding:0 .5rem}.fdp-approval-flow__container--extra-padding-start{padding-left:2rem}.fdp-approval-flow__container--extra-padding-end{padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start{padding-left:.5rem;padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-end{padding-right:.5rem;padding-left:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end{padding-right:2rem;padding-left:2rem}.fdp-approval-flow__graph-container{position:relative;overflow:auto;padding-top:.5rem;padding-bottom:2rem;padding-left:2rem}.fdp-approval-flow__graph-container--multiple-root-nodes{padding-left:4rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-root-nodes,.fdp-approval-flow__graph-container--multiple-root-nodes[dir=rtl]{padding-right:2rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-final-nodes,.fdp-approval-flow__graph-container--multiple-final-nodes[dir=rtl]{padding-left:0}.fdp-approval-flow-carousel-controls{position:absolute;display:flex;align-items:center;width:100%;height:6.375rem;padding-top:.5rem;left:0}.fdp-approval-flow-carousel-controls--edit-mode{height:8.375rem}.fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--next-slide{position:absolute;border:none;background:transparent;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);display:flex;justify-content:space-between;width:2rem;align-items:center;cursor:pointer}.fdp-approval-flow-carousel-controls__button--prev-slide fd-icon,.fdp-approval-flow-carousel-controls__button--next-slide fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;top:.0625rem}.fdp-approval-flow-carousel-controls__button--prev-slide{left:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--prev-slide[dir=rtl]{left:auto;right:0}.fdp-approval-flow-carousel-controls__button--next-slide{right:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--next-slide,.fdp-approval-flow-carousel-controls__button--next-slide[dir=rtl]{left:0;right:auto}.fdp-approval-flow__graph{display:flex;align-items:flex-start;position:relative;left:0;transition:left .3s}.fdp-approval-flow__graph-column{margin-right:4rem;position:relative}[dir=rtl] .fdp-approval-flow__graph-column:first-child,.fdp-approval-flow__graph-column[dir=rtl]:first-child{margin-right:2rem}.fdp-approval-flow__graph fdp-approval-flow-node+fdp-approval-flow-node:not(:last-child){margin-bottom:1rem}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner{padding:0}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content{margin-left:auto}[dir=rtl] .fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content,.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content[dir=rtl]{margin-left:0;margin-right:auto}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--actions{display:none}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner:not(.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner--edit) .fd-toolbar.fd-grid-list__item-toolbar{display:none}.cdk-overlay-container{z-index:1002!important}\n"],encapsulation:2,changeDetection:0}),a})();var xl=p(13246),Nl=p(59052),Fl=p(14257),Sl=p(72738),Ml=p(43357),El=p(10826),Dl=p(80686),yl=p(70494),Zl=p(39650),kl=p(78249),Il=p(89146),Ll=p(30087),Jl=p(99778),Pl=p(31358);let Ql=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[Be],imports:[u.ez,h.u5,xl.F,Nl.Fh,Fl.hJ,Dl.Q,P.Tw,Q.Su,Jl.t,re._d,re.Ep,Pl.K2,j.Qj,Zl.H,Sl.nD,Le.LU,ke.$9,Il.An,Ml.I$,Ll.UH,El.ej,He._t,kl.dU,yl.bz]}),a})();var ze=p(25900),U=p(370),Bl=p(86418),Ul=p(10728),Rl=p(38631),Ol=p(48208),Yl=p(82861),Gl=p(19086),Hl=p(62448);let jl=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["fd-approval-flow-header"]],decls:17,vars:1,consts:[["label","SAP Ariba Component","title","SAP Ariba Component","color","8"],["module","PlatformApprovalFlowModule","subPackage","approval-flow"],[3,"hasI18n"]],template:function(o,t){1&o&&(e.TgZ(0,"fd-doc-page")(1,"header"),e._uU(2,"Approval Flow"),e.qZA(),e._UZ(3,"fd-info-label",0),e.TgZ(4,"description"),e._uU(5," The Approval Flow component is a complex component which tracks and manages the approval process for a business object. From the Approval Flow component a user is able to: "),e.TgZ(6,"ul")(7,"li"),e._uU(8,"See the progress of the approval process"),e.qZA(),e.TgZ(9,"li"),e._uU(10,"Add, edit, move (drag and drop) and delete approvers"),e.qZA(),e.TgZ(11,"li"),e._uU(12,"Add and remove watchers"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"Send reminder notifications to approvers"),e.qZA()()(),e._UZ(15,"import",1)(16,"fd-header-tabs",2),e.qZA()),2&o&&(e.xp6(16),e.Q6J("hasI18n",!0))},dependencies:[Ul.k,Rl.G,Ol.c,Yl.w,Gl.e,Hl.i]}),a})();var zl=p(7754),Kl=p(5592),Vl=p(49505),Ae=p(39646),Ke=p(91005);const ql=["reminderTemplate"];function $l(a,r){if(1&a&&(e.TgZ(0,"p",27)(1,"span"),e._uU(2,"Mobile"),e.qZA(),e.TgZ(3,"a",28),e._uU(4),e.qZA()()),2&a){const o=e.oxw().data;e.xp6(3),e.Q6J("href","tel:"+o.phone,e.LSH),e.xp6(1),e.Oqu(o.phone)}}function Wl(a,r){if(1&a&&(e.TgZ(0,"p",27)(1,"span"),e._uU(2,"Phone"),e.qZA(),e.TgZ(3,"a",28),e._uU(4),e.qZA()()),2&a){const o=e.oxw().data;e.xp6(3),e.Q6J("href","tel:"+o.phone,e.LSH),e.xp6(1),e.Oqu(o.phone)}}function Xl(a,r){if(1&a&&(e.TgZ(0,"p",27)(1,"span"),e._uU(2,"E-mail"),e.qZA(),e.TgZ(3,"a",28),e._uU(4),e.qZA()()),2&a){const o=e.oxw().data;e.xp6(3),e.Q6J("href","mailto:"+o.email,e.LSH),e.xp6(1),e.Oqu(o.email)}}function en(a,r){if(1&a&&(e.TgZ(0,"h4",24),e._uU(1,"Contact info"),e.qZA(),e.YNc(2,$l,5,2,"p",25),e.YNc(3,Wl,5,2,"p",25),e.YNc(4,Xl,5,2,"p",25),e.TgZ(5,"h4",26),e._uU(6,"Company"),e.qZA(),e.TgZ(7,"p",27)(8,"span"),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"p",27)(13,"span"),e._uU(14,"Address"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"481 West Street, Anytown OH, 83749, USA"),e.qZA()()),2&a){const o=r.data;e.xp6(2),e.Q6J("ngIf",null==o?null:o.phone),e.xp6(1),e.Q6J("ngIf",null==o?null:o.phone),e.xp6(1),e.Q6J("ngIf",null==o?null:o.email),e.xp6(7),e.hij("Company A",null==o?null:o.email,"")}}function on(a,r){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const o=e.oxw().$implicit;e.xp6(1),e.hij(" Reminder has been sent to ",o.data.targets[0].name," ")}}function tn(a,r){if(1&a&&e._uU(0),2&a){const o=e.oxw().$implicit;e.AsE(" Reminder has been sent to ",o.data.targets.length," members of ",o.data.node.description," ")}}function an(a,r){if(1&a&&(e.YNc(0,on,2,1,"ng-container",29),e.YNc(1,tn,1,2,"ng-template",null,30,e.W1O)),2&a){const o=r.$implicit,t=e.MAs(2);e.Q6J("ngIf",1===o.data.targets.length)("ngIfElse",t)}}function ln(a,r){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const o=r.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(e.lcZ(2,2,o))}}let nn=(()=>{class a{constructor(o){this._messageToastService=o,this.graphs=_n(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new D._1(new qe),this.watcherDataSource=new D._1(new qe),this.teamDataSource=new D.L8(new vn),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected"],this.sendReminderStatuses=["in progress","not started"],this.disableSaveButton=!1,this.disableExitButton=!1,this._subscriptions=new z.w0,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(o){console.log("valueChanged",o)}sendReminders(o){this._messageToastService.open(this._reminderTemplate,{data:{targets:o.users,node:o.node},duration:5e3})}changeExampleData(){this.approvalProcess=(0,N.Z)(this.graphs[this.selectedExample])}toggleNodeActions(o){const l=(0,N.Z)(this._approvalFlow.approvalProcess);l.nodes.forEach(n=>{n.disableActions=o}),this.approvalProcess=l}toggleSpecificNodeAction(o,t){const n=(0,N.Z)(this._approvalFlow.approvalProcess);n.nodes.forEach(d=>{d.actionsConfig=Object.assign(Object.assign({},d.actionsConfig),{[o]:t})}),this.approvalProcess=n}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(t=>{if(this.newNodes.has(t.id)){const l=this._approvalFlow.getNodeMetadataByNodeId(t.id);l.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,l.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,l.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(o){console.log("Node click handler",o)}afterNodeAdd(o){console.log("After node add handler",o),this.newNodes.set(o.id,o),this.newNodeSettingsChange()}afterNodeEdit(o){console.log("After node edit handler",o),this.newNodeSettingsChange()}setNotStarted(){const o=this._approvalFlow.approvalProcess,t=new Map(this.graphs[this.selectedExample].nodes.map(n=>[n.id,n])),l=(0,N.Z)(o);l.nodes=l.nodes.map(n=>{const d=this.setNotStartedStatuses||!t.has(n.id)?"not started":t.get(n.id).status;return Object.assign(Object.assign({},n),{status:d})}),this.approvalProcess=l}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(ze.H2))},a.\u0275cmp=e.Xpm({type:a,selectors:[["fdp-platform-approval-flow-example"]],viewQuery:function(o,t){if(1&o&&(e.Gf(je,5),e.Gf(ql,5)),2&o){let l;e.iGM(l=e.CRH())&&(t._approvalFlow=l.first),e.iGM(l=e.CRH())&&(t._reminderTemplate=l.first)}},decls:68,vars:36,consts:[["title","Basic Approval Flow Demo",3,"value","userDetailsTemplate","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton","nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders"],["userDetailsTemplate",""],["reminderTemplate",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange"],["id","disableAddingNodeBefore","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableRemovingNode"],[2,"display","flex","align-items","center","flex-wrap","wrap"],["fdCompact","",2,"margin-left","0.5rem",3,"dropdownValues","ngModel","ngModelChange"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallelForNewNodes"],[2,"margin-bottom","1rem"],["style","display: flex; flex-direction: column",4,"ngIf"],[2,"margin-top","1.5rem","margin-bottom","1rem"],[2,"display","flex","flex-direction","column"],[3,"href"],[4,"ngIf","ngIfElse"],["multipleReceivers",""],[3,"value"]],template:function(o,t){if(1&o&&(e.TgZ(0,"fdp-approval-flow",0),e.NdJ("nodeClick",function(n){return t.nodeClick(n)})("afterNodeAdd",function(n){return t.afterNodeAdd(n)})("afterNodeEdit",function(n){return t.afterNodeEdit(n)})("valueChange",function(n){return t.valueChanged(n)})("sendReminders",function(n){return t.sendReminders(n)}),e.qZA(),e.YNc(1,en,17,4,"ng-template",null,1,e.W1O),e.YNc(3,an,3,2,"ng-template",null,2,e.W1O),e.TgZ(5,"p"),e._uU(6," Selected example: "),e.TgZ(7,"select",3),e.NdJ("ngModelChange",function(n){return t.selectedExample=n})("ngModelChange",function(){return t.changeExampleData()}),e.YNc(8,ln,3,4,"option",4),e.qZA()(),e.TgZ(9,"p"),e._uU(10,'Enable "Edit mode": '),e.TgZ(11,"input",5),e.NdJ("ngModelChange",function(n){return t.editModeEnabled=n}),e.qZA()(),e.TgZ(12,"p"),e._uU(13,"Enable due date warnings: "),e.TgZ(14,"input",5),e.NdJ("ngModelChange",function(n){return t.checkDueDate=n}),e.qZA()(),e.TgZ(15,"p"),e._uU(16,' Set all statuses to "Not Started": '),e.TgZ(17,"input",5),e.NdJ("ngModelChange",function(n){return t.setNotStartedStatuses=n})("ngModelChange",function(){return t.setNotStarted()}),e.qZA()(),e.TgZ(18,"p"),e._uU(19," Disable all node actions: "),e.TgZ(20,"input",5),e.NdJ("ngModelChange",function(n){return t.nodeActionsDisabled=n})("ngModelChange",function(n){return t.toggleNodeActions(n)}),e.qZA()(),e.TgZ(21,"p"),e._uU(22,"Disable certain node actions:"),e.qZA(),e.TgZ(23,"div")(24,"p")(25,"input",6),e.NdJ("ngModelChange",function(n){return t.nodeActionsConfig.disableAddBefore=n})("ngModelChange",function(n){return t.toggleSpecificNodeAction("disableAddBefore",n)}),e.qZA(),e.TgZ(26,"label",7),e._uU(27,"Disable adding before"),e.qZA()(),e.TgZ(28,"p")(29,"input",8),e.NdJ("ngModelChange",function(n){return t.nodeActionsConfig.disableAddAfter=n})("ngModelChange",function(n){return t.toggleSpecificNodeAction("disableAddAfter",n)}),e.qZA(),e.TgZ(30,"label",9),e._uU(31,"Disable adding after"),e.qZA()(),e.TgZ(32,"p")(33,"input",10),e.NdJ("ngModelChange",function(n){return t.nodeActionsConfig.disableAddParallel=n})("ngModelChange",function(n){return t.toggleSpecificNodeAction("disableAddParallel",n)}),e.qZA(),e.TgZ(34,"label",11),e._uU(35,"Disable adding parallel"),e.qZA()(),e.TgZ(36,"p")(37,"input",12),e.NdJ("ngModelChange",function(n){return t.nodeActionsConfig.disableEdit=n})("ngModelChange",function(n){return t.toggleSpecificNodeAction("disableEdit",n)}),e.qZA(),e.TgZ(38,"label",13),e._uU(39,"Disable editing"),e.qZA()(),e.TgZ(40,"p")(41,"input",14),e.NdJ("ngModelChange",function(n){return t.nodeActionsConfig.disableRemove=n})("ngModelChange",function(n){return t.toggleSpecificNodeAction("disableRemove",n)}),e.qZA(),e.TgZ(42,"label",15),e._uU(43,"Disable removing"),e.qZA()()(),e.TgZ(44,"p",16),e._uU(45," Allow sending reminders to approvers with statuses: "),e.TgZ(46,"fd-multi-input",17),e.NdJ("ngModelChange",function(n){return t.sendReminderStatuses=n}),e.qZA()(),e.TgZ(47,"p"),e._uU(48,"Disable certain node actions for newly added nodes:"),e.qZA(),e.TgZ(49,"div")(50,"p")(51,"input",18),e.NdJ("ngModelChange",function(n){return t.nodeActionsConfigForNewNodes.disableAddBefore=n})("ngModelChange",function(){return t.newNodeSettingsChange()}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"Disable adding before"),e.qZA()(),e.TgZ(54,"p")(55,"input",20),e.NdJ("ngModelChange",function(n){return t.nodeActionsConfigForNewNodes.disableAddAfter=n})("ngModelChange",function(){return t.newNodeSettingsChange()}),e.qZA(),e.TgZ(56,"label",21),e._uU(57,"Disable adding after"),e.qZA()(),e.TgZ(58,"p")(59,"input",22),e.NdJ("ngModelChange",function(n){return t.nodeActionsConfigForNewNodes.disableAddParallel=n})("ngModelChange",function(){return t.newNodeSettingsChange()}),e.qZA(),e.TgZ(60,"label",23),e._uU(61,"Disable adding parallel"),e.qZA()()(),e.TgZ(62,"p"),e._uU(63,'Disable "Save" button: '),e.TgZ(64,"input",5),e.NdJ("ngModelChange",function(n){return t.disableSaveButton=n}),e.qZA()(),e.TgZ(65,"p"),e._uU(66,'Disable "Exit" button: '),e.TgZ(67,"input",5),e.NdJ("ngModelChange",function(n){return t.disableExitButton=n}),e.qZA()()),2&o){const l=e.MAs(2);e.Q6J("value",t.approvalProcess)("userDetailsTemplate",l)("userDataSource",t.userDataSource)("watcherDataSource",t.watcherDataSource)("teamDataSource",t.teamDataSource)("checkDueDate",t.checkDueDate)("allowSendRemindersForStatuses",t.sendReminderStatuses)("isEditAvailable",t.editModeEnabled)("disableSaveButton",t.disableSaveButton)("disableExitButton",t.disableExitButton),e.xp6(7),e.Q6J("ngModel",t.selectedExample),e.xp6(1),e.Q6J("ngForOf",t.examples),e.xp6(3),e.Q6J("ngModel",t.editModeEnabled),e.xp6(3),e.Q6J("ngModel",t.checkDueDate),e.xp6(3),e.Q6J("ngModel",t.setNotStartedStatuses),e.xp6(3),e.Q6J("ngModel",t.nodeActionsDisabled),e.xp6(5),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddBefore),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddAfter),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddParallel),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableEdit),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableRemove),e.xp6(5),e.Q6J("dropdownValues",t.allStatuses)("ngModel",t.sendReminderStatuses),e.xp6(5),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddBefore),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddAfter),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddParallel),e.xp6(5),e.Q6J("ngModel",t.disableSaveButton),e.xp6(3),e.Q6J("ngModel",t.disableExitButton)}},dependencies:[h.YN,h.Kr,h.Wl,h.EJ,h.JJ,h.On,u.sg,u.O5,I.$,je,he.L,u.rS],encapsulation:2}),a})();const Ve={};[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}].forEach(a=>Ve[a.id]=a);const _n=()=>({empty:{watchers:[_("uid66161")],nodes:[]},simple:{watchers:[_("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[_("uid81955")],status:"approved",targets:["ID2"],dueDate:v(30),createDate:v(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[_("uid66171")],status:"in progress",targets:["ID3"],dueDate:v(10),createDate:v(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[_("uid81355")],status:"not started",targets:[],dueDate:v(10),createDate:v(-30)}]},medium:{watchers:[_("uid66151"),_("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[_("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:v(30),createDate:v(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[_("uid66171")],status:"in progress",targets:["ID3"],dueDate:v(30),createDate:v(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[_("uid77135")],status:"approved",targets:["ID3"],dueDate:v(30),createDate:v(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[_("uid77111"),_("uid09641"),_("uid09141"),_("uid37866"),_("uid99641"),_("uid38141")],status:"not started",targets:["ID3"],dueDate:v(5),createDate:v(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[_("uid81355")],status:"not started",targets:["ID4"],dueDate:v(30),createDate:v(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[_("uid99651")],status:"not started",targets:[],dueDate:v(30),createDate:v(-30)}]},complex:{watchers:[_("uid66151"),_("uid66141"),_("uid99651"),_("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[_("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:v(30),createDate:v(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[_("uid66171")],status:"in progress",targets:["ID3"],dueDate:v(30),createDate:v(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[_("uid28141")],status:"approved",targets:["ID220"],dueDate:v(30),createDate:v(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[_("uid77111"),_("uid09641")],status:"in progress",targets:["ID2220"],dueDate:v(3),createDate:v(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[_("uid08141")],status:"rejected",targets:["ID3"],dueDate:v(30),createDate:v(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[_("uid81353")],status:"not started",targets:["ID3"],dueDate:v(30),createDate:v(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[_("uid81355")],status:"not started",targets:["ID4"],dueDate:v(30),createDate:v(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[_("uid99651")],status:"not started",targets:[],dueDate:v(30),createDate:v(-30)}]}});function _(a){return Ve[a]}function v(a){return new Date(Date.now()+864e5*a)}class qe extends D.FW{fetch(r){var o;let t=[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}];const l=null===(o=r.get("query"))||void 0===o?void 0:o.toLowerCase();return l&&(t=t.filter(n=>{var d;return null===(d=n.name)||void 0===d?void 0:d.toLowerCase().startsWith(l)})),(0,Ae.of)((0,N.Z)(t)).pipe((0,Ke.g)(500))}getOne(r){const o=r.get("id"),t=[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}].find(l=>l.id===o);return(0,Ae.of)(Object.assign(Object.assign({},t),{phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${t.name.toLowerCase().split(" ").join(".")}@company.com`}))}}class vn extends D.FW{fetch(r){var o;let t=[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(a=>_(a))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(a=>_(a))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(a=>_(a))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(a=>_(a))}];const l=null===(o=r.get("query"))||void 0===o?void 0:o.toLowerCase();return l&&(t=t.filter(n=>{var d;return null===(d=n.name)||void 0===d?void 0:d.toLowerCase().startsWith(l)})),(0,Ae.of)((0,N.Z)(t)).pipe((0,Ke.g)(500))}}const un=[{path:"",component:jl,children:[{path:"",component:(()=>{class a{constructor(){this.basic=[{language:"html",code:(0,U.getAssetFromModuleAssets)("platform-approval-flow-example.component.html"),fileName:"platform-approval-flow-example",name:"approval-flow-example.component.html"},{language:"typescript",code:(0,U.getAssetFromModuleAssets)("platform-approval-flow-example.component.ts"),fileName:"platform-approval-flow-example",component:"PlatformApprovalFlowExampleComponent",name:"approval-flow-example.component.ts"}]}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-approval-flow"]],decls:5,vars:1,consts:[["id","approval-flow","componentName","approval-flow"],[3,"exampleFiles"]],template:function(o,t){1&o&&(e.TgZ(0,"fd-docs-section-title",0),e._uU(1," Approval flow "),e.qZA(),e.TgZ(2,"component-example"),e._UZ(3,"fdp-platform-approval-flow-example"),e.qZA(),e._UZ(4,"code-example",1)),2&o&&(e.xp6(4),e.Q6J("exampleFiles",t.basic))},dependencies:[zl.E,Kl.k,Vl.O,nn],encapsulation:2}),a})()},{path:"api",component:U.ApiComponent,data:{content:Bl.X.approvalFlow}},{path:"i18n",component:U.I18nDocsComponent,data:(0,U.getI18nKey)("platformApprovalFlow")}]}];let hn=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[F.qF,(0,U.currentComponentProvider)("approval-flow")],imports:[oe.Bz.forChild(un),U.SharedDocumentationPageModule,Ql,H.Yp,j.Qj,ze.GC,oe.Bz]}),a})()},59468:($e,ee,p)=>{p.d(ee,{p:()=>pe});var oe=p(34986),H=p(54482),j=p(25403),F=p(38421);const e={leading:!0,trailing:!1};var z=p(5963);function pe(R,O=oe.z,Y=e){const M=(0,z.H)(R,O);return function S(R,O=e){return(0,H.e)((Y,M)=>{const{leading:te,trailing:ae}=O;let J=!1,K=null,b=null,P=!1;const Q=()=>{null==b||b.unsubscribe(),b=null,ae&&(le(),P&&M.complete())},T=()=>{b=null,P&&M.complete()},V=E=>b=(0,F.Xf)(R(E)).subscribe((0,j.x)(M,Q,T)),le=()=>{if(J){J=!1;const E=K;K=null,M.next(E),!P&&V(E)}};Y.subscribe((0,j.x)(M,E=>{J=!0,K=E,(!b||b.closed)&&(te?le():V(E))},()=>{P=!0,(!(ae&&J&&b)||b.closed)&&M.complete()}))})}(()=>M,Y)}}}]);