"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6010],{48726:(B,x,e)=>{e.d(x,{m:()=>U});var t=e(90433),T=e(49218),n=e(94650),a=e(87455),D=e(34853),E=e(23470),Z=e(48977),O=e(52122),P=e(49095),v=e(59458),J=e(36325),S=e(3843),p=e(60882),L=e(39412),c=e(21565);const g=["formContainer"];function _(b,y){1&b&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"fdTranslate"),n.qZA()),2&b&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"platformVariantManagement.requiredFieldError")," "))}function h(b,y){1&b&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"fdTranslate"),n.qZA()),2&b&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"platformVariantManagement.nameTakenFieldError")," "))}const C=function(){return{S:12}},R=function(){return{trueValue:"public",falseValue:"private"}};let U=(()=>{class b{constructor(M,V){this.dialog=M,this._formBuilder=V,this._dialogConfig=this.dialog.data,this._nameValidator=[this._variantNameValidator(this._dialogConfig)],this._form=this._formBuilder.group({name:[this._dialogConfig.currentVariantName,[t.kI.required,this._variantNameValidator(this._dialogConfig)]],isDefault:!1,access:"private",applyAutomatically:!1,readonly:!1,favourite:!1})}_submitForm(){this._formContainer.onSubmit(new Event("submit")),this._form.valid&&this.dialog.close(this._form.value)}_variantNameValidator(M){return V=>M.existingVariantNames.includes(V.value)?{nameTaken:!0}:null}}return b.\u0275fac=function(M){return new(M||b)(n.Y36(T.zj),n.Y36(t.qu))},b.\u0275cmp=n.Xpm({type:b,selectors:[["fdp-manage-variant-item"]],viewQuery:function(M,V){if(1&M&&n.Gf(g,5,t.sg),2&M){let F;n.iGM(F=n.CRH())&&(V._formContainer=F.first)}},decls:27,vars:59,consts:[["fd-title",""],[3,"formGroup","unifiedLayout","useForm"],["formContainer",""],["id","name","hintPlacement","left",3,"label","column","rank","required","validators","labelColumnLayout","fieldColumnLayout","gapColumnLayout"],["name","name","formControlName","name"],["id","isDefault",3,"noLabelLayout","labelColumnLayout","fieldColumnLayout","gapColumnLayout"],["name","isDefault","formControlName","isDefault",3,"label"],["id","access",3,"noLabelLayout","labelColumnLayout","fieldColumnLayout","gapColumnLayout"],["name","access","formControlName","access",3,"values","label"],["id","applyAutomatically",3,"noLabelLayout","labelColumnLayout","fieldColumnLayout","gapColumnLayout"],["name","applyAutomatically","formControlName","applyAutomatically",3,"label"],[4,"fdpFormFieldError"],["fdType","emphasized","ariaLabel","Interested Emphasized",3,"label","click"],["ariaLabel","Cancel",3,"label","click"]],template:function(M,V){1&M&&(n.TgZ(0,"fd-dialog")(1,"fd-dialog-header")(2,"h1",0),n._uU(3),n.ALo(4,"fdTranslate"),n.qZA()(),n.TgZ(5,"fd-dialog-body")(6,"fdp-form-group",1,2)(8,"fdp-form-field",3),n.ALo(9,"fdTranslate"),n._UZ(10,"fdp-input",4),n.qZA(),n.TgZ(11,"fdp-form-field",5),n._UZ(12,"fdp-checkbox",6),n.ALo(13,"fdTranslate"),n.qZA(),n.TgZ(14,"fdp-form-field",7),n._UZ(15,"fdp-checkbox",8),n.ALo(16,"fdTranslate"),n.qZA(),n.TgZ(17,"fdp-form-field",9),n._UZ(18,"fdp-checkbox",10),n.ALo(19,"fdTranslate"),n.qZA(),n.YNc(20,_,3,3,"span",11),n.YNc(21,h,3,3,"span",11),n.qZA()(),n.TgZ(22,"fd-dialog-footer")(23,"fd-button-bar",12),n.NdJ("click",function(){return V._submitForm()}),n.ALo(24,"fdTranslate"),n.qZA(),n.TgZ(25,"fd-button-bar",13),n.NdJ("click",function(){return V.dialog.dismiss("Cancel")}),n.ALo(26,"fdTranslate"),n.qZA()()()),2&M&&(n.xp6(3),n.Oqu(n.lcZ(4,32,"platformVariantManagement.saveView")),n.xp6(3),n.Q6J("formGroup",V._form)("unifiedLayout",!1)("useForm",!0),n.xp6(2),n.Q6J("label",n.lcZ(9,34,"platformVariantManagement.view"))("column",1)("rank",1)("required",!0)("validators",V._nameValidator)("labelColumnLayout",n.DdM(46,C))("fieldColumnLayout",n.DdM(47,C))("gapColumnLayout",n.DdM(48,C)),n.xp6(3),n.Q6J("noLabelLayout",!0)("labelColumnLayout",n.DdM(49,C))("fieldColumnLayout",n.DdM(50,C))("gapColumnLayout",n.DdM(51,C)),n.xp6(1),n.Q6J("label",n.lcZ(13,36,"platformVariantManagement.setAsDefault")),n.xp6(2),n.Q6J("noLabelLayout",!0)("labelColumnLayout",n.DdM(52,C))("fieldColumnLayout",n.DdM(53,C))("gapColumnLayout",n.DdM(54,C)),n.xp6(1),n.Q6J("values",n.DdM(55,R))("label",n.lcZ(16,38,"platformVariantManagement.public")),n.xp6(2),n.Q6J("noLabelLayout",!0)("labelColumnLayout",n.DdM(56,C))("fieldColumnLayout",n.DdM(57,C))("gapColumnLayout",n.DdM(58,C)),n.xp6(1),n.Q6J("label",n.lcZ(19,40,"platformVariantManagement.applyAutomatically")),n.xp6(2),n.Q6J("fdpFormFieldError","required"),n.xp6(1),n.Q6J("fdpFormFieldError","nameTaken"),n.xp6(2),n.Q6J("label",n.lcZ(24,42,"platformVariantManagement.save")),n.xp6(2),n.Q6J("label",n.lcZ(26,44,"platformVariantManagement.cancel")))},dependencies:[a.a,D.H,E.g,Z.A,O.N,P.r,v.H,J.h,S.e,t.JJ,t.JL,t.sg,t.u,p.a,L.b,c.n],encapsulation:2,changeDetection:0}),b})()},23016:(B,x,e)=>{e.d(x,{o:()=>j});var t=e(49218),T=e(89441);class n extends T.aF{constructor(m){super(m)}update(m){this.items$.next(m)}}var a=e(94650),D=e(36895),E=e(87455),Z=e(34853),O=e(23470),P=e(48977),v=e(52122),J=e(49095),S=e(95209),p=e(90433),L=e(60882),c=e(39412),g=e(53856),_=e(27660),h=e(14396),C=e(61357),R=e(9485),U=e(21565);function b(l,m){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-table-cell")(1,"fd-icon",12),a.NdJ("click",function(){const I=a.CHM(r).$implicit,N=a.oxw();return a.KtG(N._markAsFavourite(I))}),a.ALo(2,"fdTranslate"),a.qZA()()}if(2&l){const r=m.$implicit;a.xp6(1),a.ekj("fd-variant-management__favourite-state--active",r.favourite),a.Q6J("ariaLabel",a.lcZ(2,3,"platformVariantManagement.markAsFavourite"))}}function y(l,m){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-input",15),a.NdJ("ngModelChange",function(A){a.CHM(r);const I=a.oxw().$implicit;return a.KtG(I.name=A)}),a.qZA()}if(2&l){const r=a.oxw().$implicit;a.Q6J("ngModel",r.name)}}function M(l,m){if(1&l&&(a.ynx(0),a._uU(1),a.BQk()),2&l){const r=a.oxw().$implicit;a.xp6(1),a.Oqu(r.name)}}function V(l,m){if(1&l&&(a.TgZ(0,"fdp-table-cell"),a.YNc(1,y,1,1,"fdp-input",13),a.YNc(2,M,2,1,"ng-container",14),a.qZA()),2&l){const r=m.$implicit;a.xp6(1),a.Q6J("ngIf",!r.readonly),a.xp6(1),a.Q6J("ngIf",r.readonly)}}function F(l,m){if(1&l&&(a.TgZ(0,"fdp-table-cell"),a._uU(1),a.ALo(2,"fdTranslate"),a.qZA()),2&l){const r=m.$implicit;a.xp6(1),a.hij(" ",a.lcZ(2,1,"public"===r.access?"platformVariantManagement.access.public":"platformVariantManagement.access.private")," ")}}function K(l,m){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-table-cell")(1,"fd-radio-button",16),a.NdJ("ngModelChange",function(A){const N=a.CHM(r).$implicit;return a.KtG(N.isDefault=A)}),a.qZA()()}if(2&l){const r=m.$implicit;a.xp6(1),a.Q6J("value",!0)("id","radio-"+r.id)("ngModel",r.isDefault)}}function z(l,m){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-table-cell")(1,"fdp-checkbox",17),a.NdJ("ngModelChange",function(A){const N=a.CHM(r).$implicit;return a.KtG(N.applyAutomatically=A)}),a.qZA()()}if(2&l){const r=m.$implicit;a.xp6(1),a.Q6J("standalone",!0)("ngModel",r.applyAutomatically)}}function W(l,m){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-button",19),a.NdJ("click",function(){a.CHM(r);const A=a.oxw().$implicit,I=a.oxw();return a.KtG(I._removeVariant(A))}),a.ALo(1,"fdTranslate"),a.qZA()}2&l&&a.Q6J("title",a.lcZ(1,1,"platformVariantManagement.removeVariant"))}function Y(l,m){if(1&l&&(a.TgZ(0,"fdp-table-cell"),a.YNc(1,W,2,3,"fdp-button",18),a.qZA()),2&l){const r=m.$implicit;a.xp6(1),a.Q6J("ngIf",!r.readonly)}}let j=(()=>{class l{constructor(r,u){this.dialog=r,this._cdr=u,this._variants=[],this._variants=this.dialog.data.map(A=>A.clone({},!1)),this._dataProvider=new n(this._variants),this._source=new T.Gl(this._dataProvider)}_markAsFavourite(r){r.favourite=!r.favourite}_removeVariant(r){this._variants.splice(this._variants.findIndex(u=>r.id===u.id),1),this._dataProvider.update(this._variants),this._cdr.detectChanges()}_saveVariants(){this.dialog.close(this._variants)}}return l.\u0275fac=function(r){return new(r||l)(a.Y36(t.zj),a.Y36(a.sBO))},l.\u0275cmp=a.Xpm({type:l,selectors:[["fdp-manage-variants-dialog"]],decls:31,vars:35,consts:[["id","fd-dialog-header-1","fd-title",""],[1,"fd-variant-management__table",3,"dataSource","noVerticalBorders"],["name","favourite","key","favourite"],[4,"fdpCellDef","fdpCellDefAs"],["name","name","key","name",3,"label"],["name","access","key","access",3,"label"],["name","isDefault","key","isDefault","align","center",3,"label"],["name","applyAutomatically","key","applyAutomatically","align","center",3,"label"],["name","createdBy","key","createdBy",3,"label"],["name","actions"],["fdType","emphasized","ariaLabel","Interested Emphasized",3,"label","click"],[3,"label","ariaLabel","click"],["tabindex","0","glyph","favorite",1,"fd-variant-management__favourite-state",3,"ariaLabel","click"],[3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"ngModel","ngModelChange"],["name","is-variant-default",3,"value","id","ngModel","ngModelChange"],["name","applyAutomatically",1,"fd-variant-management__centered-checkbox",3,"standalone","ngModel","ngModelChange"],["buttonType","transparent","glyph","decline",3,"title","click",4,"ngIf"],["buttonType","transparent","glyph","decline",3,"title","click"]],template:function(r,u){1&r&&(a.TgZ(0,"fd-dialog")(1,"fd-dialog-header")(2,"h1",0),a._uU(3),a.ALo(4,"fdTranslate"),a.qZA()(),a.TgZ(5,"fd-dialog-body")(6,"fdp-table",1)(7,"fdp-column",2),a.YNc(8,b,3,5,"fdp-table-cell",3),a.qZA(),a.TgZ(9,"fdp-column",4),a.ALo(10,"fdTranslate"),a.YNc(11,V,3,2,"fdp-table-cell",3),a.qZA(),a.TgZ(12,"fdp-column",5),a.ALo(13,"fdTranslate"),a.YNc(14,F,3,3,"fdp-table-cell",3),a.qZA(),a.TgZ(15,"fdp-column",6),a.ALo(16,"fdTranslate"),a.YNc(17,K,2,3,"fdp-table-cell",3),a.qZA(),a.TgZ(18,"fdp-column",7),a.ALo(19,"fdTranslate"),a.YNc(20,z,2,2,"fdp-table-cell",3),a.qZA(),a._UZ(21,"fdp-column",8),a.ALo(22,"fdTranslate"),a.TgZ(23,"fdp-column",9),a.YNc(24,Y,2,1,"fdp-table-cell",3),a.qZA()()(),a.TgZ(25,"fd-dialog-footer")(26,"fd-button-bar",10),a.NdJ("click",function(){return u._saveVariants()}),a.ALo(27,"fdTranslate"),a.qZA(),a.TgZ(28,"fd-button-bar",11),a.NdJ("click",function(){return u.dialog.dismiss("Cancel")}),a.ALo(29,"fdTranslate"),a.ALo(30,"fdTranslate"),a.qZA()()()),2&r&&(a.xp6(3),a.hij(" ",a.lcZ(4,17,"platformVariantManagement.manageViews")," "),a.xp6(3),a.Q6J("dataSource",u._source)("noVerticalBorders",!0),a.xp6(2),a.Q6J("fdpCellDefAs",u._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(10,19,"platformVariantManagement.view")),a.xp6(2),a.Q6J("fdpCellDefAs",u._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(13,21,"platformVariantManagement.sharing")),a.xp6(2),a.Q6J("fdpCellDefAs",u._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(16,23,"platformVariantManagement.default")),a.xp6(2),a.Q6J("fdpCellDefAs",u._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(19,25,"platformVariantManagement.applyAutomatically")),a.xp6(2),a.Q6J("fdpCellDefAs",u._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(22,27,"platformVariantManagement.createdBy")),a.xp6(3),a.Q6J("fdpCellDefAs",u._variantModel),a.xp6(2),a.Q6J("label",a.lcZ(27,29,"platformVariantManagement.save")),a.xp6(2),a.Q6J("label",a.lcZ(29,31,"platformVariantManagement.cancel"))("ariaLabel",a.lcZ(30,33,"platformVariantManagement.cancel")))},dependencies:[D.O5,E.a,Z.H,O.g,P.A,v.N,J.r,S.r0,p.JJ,p.On,L.a,c.b,g.a,_.Z,h.tY,h.y_,C.o,R._,U.n],encapsulation:2,changeDetection:0}),l})()},12872:(B,x,e)=>{e.d(x,{t:()=>S});var t=e(43012),T=e(61892),n=e(12559),a=e.n(n),D=e(68675),E=e(82722),Z=e(39300),O=e(50727),P=e(13666),v=e(94650);const J=["*"];let S=(()=>{class p{set _projectedVariantManager(c){this._variantManager=c,this._setPresets()}get _projectedVariantManager(){return this._variantManager}get _variantManagement(){return this._projectedVariantManager||this.variantManager}constructor(c){this._destroy$=c}ngAfterViewInit(){this._setPresets(),this._managedComponents?.changes.pipe((0,D.O)(this._managedComponents),(0,E.R)(this._destroy$)).subscribe(()=>{this._listenToPresetChanges()})}ngOnDestroy(){this._activeVariantSubscription?.unsubscribe(),this._componentsPresetChangeSubscription?.unsubscribe()}_setPresets(){this._activeVariantSubscription?.unsubscribe(),this._activeVariantSubscription=this._variantManagement?.activeVariantChangeSubject.pipe((0,Z.h)(c=>!!c&&!!this._managedComponents),(0,E.R)(this._destroy$)).subscribe(()=>{this._managedComponents.toArray().forEach(g=>{g.setPreset(this._variantManagement.activeVariant.data[g.name])})})}_listenToPresetChanges(){this._componentsPresetChangeSubscription?.unsubscribe(),this._componentsPresetChangeSubscription=new O.w0,this._managedComponents.toArray().forEach(g=>{this._componentsPresetChangeSubscription.add(g.presetChanged.pipe((0,Z.h)(_=>{const h=this._getComponentPreset().get(g);return!a()(_,h)}),(0,E.R)(this._destroy$)).subscribe(_=>{this._variantManagement?.updateActivePreset(_,g.name)}))})}_getComponentPreset(){const c=this._managedComponents.toArray(),g=this._variantManagement.getActiveVariantData(),_=new Map;return c.forEach(h=>{_.set(h,g[h.name])}),_}}return p.\u0275fac=function(c){return new(c||p)(v.Y36(t._ZF))},p.\u0275cmp=v.Xpm({type:p,selectors:[["fdp-variant-management-wrapper"]],contentQueries:function(c,g,_){if(1&c&&(v.Suo(_,P.S,5),v.Suo(_,T.ID,5)),2&c){let h;v.iGM(h=v.CRH())&&(g._projectedVariantManager=h.first),v.iGM(h=v.CRH())&&(g._managedComponents=h)}},inputs:{variantManager:"variantManager"},features:[v._Bn([t._ZF,{provide:P.Y,useExisting:p}])],ngContentSelectors:J,decls:1,vars:0,template:function(c,g){1&c&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),p})()},69341:(B,x,e)=>{e.d(x,{g:()=>T});var t=e(94650);let T=(()=>{class n{constructor(D){this.templateRef=D}}return n.\u0275fac=function(D){return new(D||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["","fdpVariantManagementDirtyLabel",""]]}),n})()},96010:(B,x,e)=>{e.d(x,{nC:()=>h});var t=e(36895),T=e(90433),n=e(49218),a=e(80848),D=e(83271),E=e(94448),Z=e(43018),O=e(63010),P=e(66118),v=e(43012),J=e(60676),S=e(35243),p=e(82848),L=e(48149),c=e(64713),g=e(89441),_=e(94650);let h=(()=>{class y{}return y.\u0275fac=function(V){return new(V||y)},y.\u0275mod=_.oAB({type:y}),y.\u0275inj=_.cJS({imports:[t.ez,Z.UU,n.Su,S.RO,L.$,O.i,D.LO,E.pV,p.Mk,T.UX,T.u5,p.y0,p.AX,p.U_,g.ky,a.QX,P.dU,J.LU,v.drE,c.K2]}),y})();e(98882),e(48726),e(12872),e(23016)},13666:(B,x,e)=>{e.d(x,{S:()=>n,Y:()=>T});var t=e(94650);const T=new t.OlP("FdpVariantManagementWrapper"),n=new t.OlP("FdpVariantManagement")},98882:(B,x,e)=>{e.d(x,{$:()=>w});var t=e(94650),T=e(49218),a=(e(43018),e(12559)),D=e.n(a),E=e(61135),Z=e(48726),O=e(23016),P=e(69341),v=e(13666),J=e(46698);let S=0;class p{constructor(f){this.access="public",this.applyAutomatically=!1,this.favourite=!1,this.id="variant-item-"+ ++S,this.isDefault=!1,this.readonly=!1,Object.keys(f).forEach(o=>{this[o]=f[o]})}clone(f={},o=!0){const i=Object.assign({},this,f);return i.data=(0,J.Z)(i.data),o&&delete i.id,new p(i)}}var L=e(36895),c=e(53984),g=e(12066),_=e(86505),h=e(23190),C=e(68876),R=e(73095),U=e(98887),b=e(62361),y=e(92664),M=e(52122),V=e(49095),F=e(4710),K=e(70028),z=e(90537),W=e(71e3),Y=e(43908),j=e(23988),l=e(21565);let m=(()=>{class s{transform(o=[],i){return i.searchTerm&&(o=o.filter(i.key?d=>d[i.key].toLocaleLowerCase().includes(i.searchTerm?.toLocaleLowerCase()):d=>d.toLocaleLowerCase().includes(i.searchTerm?.toLocaleLowerCase()))),o}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275pipe=t.Yjl({name:"fdFilterStrings",type:s,pure:!0,standalone:!0}),s})();const r=["popover"];function u(s,f){1&s&&t._uU(0,"*")}function A(s,f){}function I(s,f){1&s&&t.YNc(0,A,0,0,"ng-template")}function N(s,f){if(1&s&&(t.ynx(0),t.TgZ(1,"span",20),t.YNc(2,u,1,0,"ng-template",null,21,t.W1O),t.YNc(4,I,1,0,null,22),t.qZA(),t.BQk()),2&s){const o=t.MAs(3),i=t.oxw(2);t.xp6(1),t.ekj("fd-variant-management__dirty-indicator--custom",!!i.dirtyLabel),t.xp6(3),t.Q6J("ngTemplateOutlet",i.dirtyLabel?i.dirtyLabel.templateRef:o)}}function H(s,f){if(1&s){const o=t.EpF();t.TgZ(0,"div",23)(1,"div",9)(2,"fd-bar-element")(3,"fdp-search-field",24),t.NdJ("searchSubmit",function(d){t.CHM(o);const Q=t.oxw(2);return t.KtG(Q._onSearchSubmit(d))})("cancelSearch",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d._cancelSearch())}),t.ALo(4,"fdTranslate"),t.qZA()()()()}2&s&&(t.xp6(3),t.Q6J("placeholder",t.lcZ(4,2,"platformVariantManagement.search"))("disableRefresh",!0))}function G(s,f){if(1&s){const o=t.EpF();t.ynx(0),t.TgZ(1,"li",25),t.NdJ("click",function(){const Q=t.CHM(o).$implicit,q=t.oxw(2);return t.KtG(q.selectVariant(Q))}),t.TgZ(2,"span",26)(3,"span",27),t._uU(4),t.qZA()()(),t.BQk()}if(2&s){const o=f.$implicit;t.xp6(4),t.Oqu(o.name)}}function $(s,f){if(1&s){const o=t.EpF();t.TgZ(0,"fd-button-bar",28),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.saveCurrentVariant())}),t.ALo(1,"fdTranslate"),t.qZA()}2&s&&t.Q6J("label",t.lcZ(1,1,"platformVariantManagement.save"))}const X=function(s){return{searchTerm:s,key:"name"}};function k(s,f){if(1&s){const o=t.EpF();t.TgZ(0,"fd-popover",1,2)(2,"fd-popover-control")(3,"div",3)(4,"h4",4),t._uU(5),t.qZA(),t.YNc(6,N,5,3,"ng-container",5),t._UZ(7,"fdp-menu-button",6),t.qZA()(),t.TgZ(8,"fd-popover-body")(9,"div",7)(10,"div",8)(11,"div",9)(12,"fd-bar-element")(13,"h5",10),t._uU(14),t.ALo(15,"fdTranslate"),t.qZA()()()(),t.YNc(16,H,5,4,"div",11),t.qZA(),t.TgZ(17,"ul",12),t.YNc(18,G,5,1,"ng-container",13),t.ALo(19,"fdFilterStrings"),t.qZA(),t.TgZ(20,"div",14)(21,"div",15)(22,"div",16),t.YNc(23,$,2,3,"fd-button-bar",17),t.TgZ(24,"fd-button-bar",18),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d._openSaveDialog())}),t.ALo(25,"fdTranslate"),t.qZA(),t.TgZ(26,"fd-button-bar",19),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d._openManageDialog())}),t.ALo(27,"fdTranslate"),t.qZA()()()()()()}if(2&s){const o=t.oxw();t.Q6J("noArrow",!1)("focusAutoCapture",!0)("focusTrapped",!0)("triggers",o.popoverTriggers),t.xp6(4),t.Q6J("headerSize",o.headerSize),t.xp6(1),t.hij(" ",o.activeVariant.name," "),t.xp6(1),t.Q6J("ngIf",o._variantChanged),t.xp6(4),t.Q6J("barDesign",o.displaySearch?"header-with-subheader":"header"),t.xp6(4),t.Oqu(t.lcZ(15,16,"platformVariantManagement.myViews")),t.xp6(2),t.Q6J("ngIf",o.displaySearch),t.xp6(2),t.Q6J("ngForOf",t.xi3(19,18,o._variants,t.VKq(25,X,o._filterPhrase)))("ngForTrackBy",o._trackFn),t.xp6(5),t.Q6J("ngIf",!o.activeVariant.readonly&&o._variantChanged),t.xp6(1),t.Q6J("fdType",o.activeVariant.readonly||!o._variantChanged?"emphasized":"transparent")("label",t.lcZ(25,21,"platformVariantManagement.saveAs")),t.xp6(2),t.Q6J("label",t.lcZ(27,23,"platformVariantManagement.manage"))}}let w=(()=>{class s{set variants(o){this._variants=this._transformVariants(o);let i=this._variants.findIndex(Q=>Q.isDefault);i=i>-1?i:0,this.selectVariant(this._variants[i])}constructor(o,i){this._dialogService=o,this._cdr=i,this.headerSize=4,this.popoverTriggers=[{trigger:"click",stopPropagation:!0,closeAction:!0,openAction:!0}],this.displaySearch=!1,this.variantsChange=new t.vpe,this.activeVariantChange=new t.vpe,this.activeVariantChangeSubject=new E.X(null),this._variantChanged=!1,this._variants=[],this._filterPhrase=null,this._initialClass="fd-variant-management"}selectVariant(o){this._variantChanged=!1,this.activeVariant=o,this._originalActiveVariant=o.clone({},!1),this.activeVariantChange.emit(o),this.activeVariantChangeSubject.next(o)}getOriginalActiveVariantData(){return this._originalActiveVariant.data}getActiveVariantData(){return this.activeVariant.data}saveCurrentVariant(){const o=this._variants.findIndex(i=>i.id===this.activeVariant.id);this._variants[o]=this.activeVariant,this._originalActiveVariant=this.activeVariant.clone({},!1),this._variantChanged=!1,this.variantsChange.emit(this._variants)}_openSaveDialog(){this._popover?.close(!1),this._dialogService.open(Z.m,{data:{existingVariantNames:this._variants.map(i=>i.name),currentVariantName:this.activeVariant.name}}).afterClosed.subscribe({next:i=>{const d=this.activeVariant.clone({...i,createdBy:this.userName});this._variants.push(d),this.variantsChange.emit(this._variants),this.activeVariant=d,this._variantChanged=!1,this._cdr.detectChanges()},error:()=>{}})}updateActivePreset(o,i){const d=this._originalActiveVariant.data[i];this._variantChanged=d&&!D()(o,d),this.activeVariant.data[i]=o,this._cdr.detectChanges()}_openManageDialog(){this._popover?.close(!1),this._dialogService.open(O.o,{data:this._variants}).afterClosed.subscribe({next:i=>{this._variants=i,this.variantsChange.emit(this._variants)},error:()=>{}})}_onSearchSubmit(o){this._filterPhrase=o.text,this._cdr.detectChanges()}_cancelSearch(){this._filterPhrase=null,this._cdr.detectChanges()}_trackFn(o,i){return i.id}_transformVariants(o){return o.map(i=>new p(i))}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(T.xA),t.Y36(t.sBO))},s.\u0275cmp=t.Xpm({type:s,selectors:[["fdp-variant-management"]],contentQueries:function(o,i,d){if(1&o&&t.Suo(d,P.g,5),2&o){let Q;t.iGM(Q=t.CRH())&&(i.dirtyLabel=Q.first)}},viewQuery:function(o,i){if(1&o&&t.Gf(r,5),2&o){let d;t.iGM(d=t.CRH())&&(i._popover=d.first)}},hostVars:2,hostBindings:function(o,i){2&o&&t.Tol(i._initialClass)},inputs:{variants:"variants",headerSize:"headerSize",popoverTriggers:"popoverTriggers",userName:"userName",displaySearch:"displaySearch"},outputs:{variantsChange:"variantsChange",activeVariantChange:"activeVariantChange"},features:[t._Bn([{provide:v.S,useExisting:s}])],decls:1,vars:1,consts:[["placement","bottom","additionalBodyClass","fd-variant-management__popover-body",3,"noArrow","focusAutoCapture","focusTrapped","triggers",4,"ngIf"],["placement","bottom","additionalBodyClass","fd-variant-management__popover-body",3,"noArrow","focusAutoCapture","focusTrapped","triggers"],["popover",""],[1,"fd-variant-management__header"],["fd-title","",1,"fd-variant-management__title",3,"headerSize"],[4,"ngIf"],["type","transparent"],["fd-popover-body-header",""],["fd-bar","",3,"barDesign"],["fd-bar-left",""],["fd-title",""],["fd-bar","","barDesign","header",4,"ngIf"],["fd-list",""],[4,"ngFor","ngForOf","ngForTrackBy"],["fd-popover-body-footer",""],["fd-bar","","barDesign","footer"],["fd-bar-right",""],["fdType","emphasized",3,"label","click",4,"ngIf"],[3,"fdType","label","click"],[3,"label","click"],[1,"fd-variant-management__dirty-indicator"],["defaultDirtyIndicator",""],[4,"ngTemplateOutlet"],["fd-bar","","barDesign","header"],[3,"placeholder","disableRefresh","searchSubmit","cancelSearch"],["fd-list-item","",3,"click"],["fd-list-link",""],["fd-list-title",""],["fdType","emphasized",3,"label","click"]],template:function(o,i){1&o&&t.YNc(0,k,28,27,"fd-popover",0),2&o&&t.Q6J("ngIf",i.activeVariant)},dependencies:[L.sg,L.O5,L.tP,c.f,g.x,_.d,h.P,C.U,R.R,U.b,b.M,y.J,M.N,V.r,F.p,K.n,z.G,W.X,Y.D,j.ri,l.n,m],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-variant-management{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;padding:0}.fd-variant-management:after,.fd-variant-management:before{box-sizing:inherit;font-size:inherit}.fd-variant-management__header{-webkit-box-sizing:border-box;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);cursor:pointer;display:flex;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;gap:.125rem;line-height:var(--sapContent_LineHeight);margin:0;padding:0}.fd-variant-management__header:after,.fd-variant-management__header:before{box-sizing:inherit;font-size:inherit}.fd-variant-management .fd-variant-management__title{color:var(--fdVariantManagementHeadingColor)}.fd-variant-management .fd-variant-management__title.is-hover,.fd-variant-management .fd-variant-management__title:hover{color:var(--fdVariantManagementHeadingHoverColor)}.fd-variant-management .fd-variant-management__title.is-active,.fd-variant-management .fd-variant-management__title:active{color:var(--fdVariantManagementHeadingActiveColor)}.fd-variant-management__dirty-indicator{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);color:var(--sapGroup_TitleTextColor);display:inline-block;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;font-weight:700;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;padding:0}.fd-variant-management__dirty-indicator:after,.fd-variant-management__dirty-indicator:before{box-sizing:inherit;font-size:inherit}.fd-variant-management__dirty-indicator--custom{font-size:var(--sapFontSmallSize)}.fd-variant-management__favourite-state{color:var(--sapContent_NonInteractiveIconColor);cursor:pointer}.fd-variant-management__favourite-state--active{color:var(--sapContent_MarkerIconColor)}.fd-variant-management__centered-checkbox{-webkit-box-pack:center;-ms-flex-pack:center;display:flex;justify-content:center}\n"],encapsulation:2,changeDetection:0}),s})()}}]);