"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[77],{71273:(X,P,t)=>{t.d(P,{x:()=>l});var e=t(94650);class l{}l.\u0275fac=function(w){return new(w||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["fd-illustrated-message-actions"]],hostAttrs:[1,"fd-illustrated-message__actions"],ngContentSelectors:["*"],decls:1,vars:0,template:function(w,o){1&w&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0})},6941:(X,P,t)=>{t.d(P,{N:()=>w});var e=t(94650);const l=[[["","fd-illustrated-message-title",""]],[["","fd-illustrated-message-text",""]]];class w{}w.\u0275fac=function(I){return new(I||w)},w.\u0275cmp=e.Xpm({type:w,selectors:[["","fd-illustrated-message-figcaption",""]],hostAttrs:[1,"fd-illustrated-message__figcaption"],attrs:["fd-illustrated-message-figcaption",""],ngContentSelectors:["[fd-illustrated-message-title]","[fd-illustrated-message-text]"],decls:2,vars:0,template:function(I,Z){1&I&&(e.F$t(l),e.Hsn(0),e.Hsn(1,1))},encapsulation:2,changeDetection:0})},76314:(X,P,t)=>{t.d(P,{I:()=>T});var e=t(94650);class T{constructor(){this.fdIllustratedMessageTextClass=!0}}T.\u0275fac=function(x){return new(x||T)},T.\u0275dir=e.lG2({type:T,selectors:[["","fd-illustrated-message-text",""]],hostVars:2,hostBindings:function(x,w){2&x&&e.ekj("fd-illustrated-message__text",w.fdIllustratedMessageTextClass)}})},67755:(X,P,t)=>{t.d(P,{C:()=>T});var e=t(94650);class T{constructor(){this.fdIllustratedMessageTitleClass=!0}}T.\u0275fac=function(x){return new(x||T)},T.\u0275dir=e.lG2({type:T,selectors:[["","fd-illustrated-message-title",""]],hostVars:2,hostBindings:function(x,w){2&x&&e.ekj("fd-illustrated-message__title",w.fdIllustratedMessageTitleClass)}})},30891:(X,P,t)=>{t.d(P,{z:()=>F});var e=t(70655),T=t(60505),l=t(50727),x=t(54968),w=t(94650),o=t(11481),I=t(36895);function L(N,g){if(1&N&&(w.O4$(),w.TgZ(0,"svg",2),w._UZ(1,"use"),w.qZA()),2&N){const u=w.oxw();w.xp6(1),w.uIk("href",u._href)}}function Q(N,g){if(1&N&&w._UZ(0,"div",3),2&N){const u=w.oxw();w.Q6J("innerHTML",u._inlineSvg,w.oJD)}}const z=[[["","fd-illustrated-message-figcaption",""]],[["fd-illustrated-message-actions"]]];let y=0;class F{constructor(g,u,h){this._elementRef=g,this._cdRef=u,this._sanitizer=h,this.type="scene",this.noSvg=!1,this.id="fd-illustrated-message-"+y++,this._subscriptions=new l.w0}ngOnChanges(g){this.buildComponentCssClass(),"svgConfig"in g&&this._constructHref()}ngOnInit(){this.buildComponentCssClass(),this._constructHref()}ngAfterViewInit(){"scene"===this.type&&this._subscriptions.add((0,x.R)(window,"resize").subscribe(()=>this._constructHref()))}ngOnDestroy(){this._subscriptions.unsubscribe()}elementRef(){return this._elementRef}buildComponentCssClass(){return["fd-illustrated-message",this.type?`fd-illustrated-message--${this.type}`:"",this.class]}_constructHref(){let g;if(this._inlineSvg=void 0,this.svgConfig)switch(this.type){case"scene":this._isSmallScreen=window.innerWidth<600,g=this._isSmallScreen?this.svgConfig.dialog?.file:this.svgConfig.scene?.file,this._href=this._isSmallScreen?`${this.svgConfig.dialog?.url||""}#${this.svgConfig.dialog?.id}`:`${this.svgConfig.scene?.url||""}#${this.svgConfig.scene?.id}`;break;case"dialog":g=this.svgConfig.dialog?.file,this._href=`${this.svgConfig.dialog?.url||""}#${this.svgConfig.dialog?.id}`;break;case"spot":g=this.svgConfig.spot?.file,this._href=`${this.svgConfig.spot?.url||""}#${this.svgConfig.spot?.id}`;break;case"dot":g=this.svgConfig.dot?.file,this._href=`${this.svgConfig.dot?.url||""}#${this.svgConfig.dot?.id}`}g&&(this._inlineSvg=this._sanitizer.bypassSecurityTrustHtml(g)),this._cdRef.detectChanges()}}F.\u0275fac=function(g){return new(g||F)(w.Y36(w.SBq),w.Y36(w.sBO),w.Y36(o.H7))},F.\u0275cmp=w.Xpm({type:F,selectors:[["","fd-illustrated-message",""]],hostVars:1,hostBindings:function(g,u){2&g&&w.uIk("id",u.id)},inputs:{type:"type",svgConfig:"svgConfig",noSvg:"noSvg",id:"id",class:"class"},features:[w.TTD],attrs:["fd-illustrated-message",""],ngContentSelectors:["[fd-illustrated-message-figcaption]","fd-illustrated-message-actions"],decls:4,vars:2,consts:[["class","fd-illustrated-message__illustration",4,"ngIf"],["style","display: none",3,"innerHTML",4,"ngIf"],[1,"fd-illustrated-message__illustration"],[2,"display","none",3,"innerHTML"]],template:function(g,u){1&g&&(w.F$t(z),w.YNc(0,L,2,1,"svg",0),w.YNc(1,Q,1,1,"div",1),w.Hsn(2),w.Hsn(3,1)),2&g&&(w.Q6J("ngIf",!u.noSvg||u._inlineSvg),w.xp6(1),w.Q6J("ngIf",u._inlineSvg))},dependencies:[I.O5],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-illustrated-message{--illustratedMessagePadding:1rem;--illustratedMessageMaxWidth:30rem;--illustrationW:20rem;--illustrationH:15rem;--illustrationMargin:2rem 0;--figcaptionMaxWidth:25rem;--titleMarginBottom:1rem;--titleFontSize:var(--sapFontHeader2Size);--textMarginBottom:.5rem;--actionsMargin:1rem 0;-webkit-box-sizing:border-box;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);display:flex;flex-direction:column;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;height:auto;line-height:var(--sapContent_LineHeight);margin:0;max-width:var(--illustratedMessageMaxWidth);padding:0;padding:var(--illustratedMessagePadding);text-align:center;width:auto}.fd-illustrated-message:after,.fd-illustrated-message:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message-container{-webkit-box-sizing:border-box;background:var(--sapGroup_ContentBackground);border:0;border-radius:.5rem;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;padding:1rem;width:auto}.fd-illustrated-message-container:after,.fd-illustrated-message-container:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__illustration{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;height:var(--illustrationH);line-height:var(--sapContent_LineHeight);margin:0;margin:var(--illustrationMargin);padding:0;width:var(--illustrationW)}.fd-illustrated-message__illustration:after,.fd-illustrated-message__illustration:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__figcaption{-webkit-box-sizing:border-box;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);display:flex;flex-direction:column;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:hidden;padding:0;width:100%}.fd-illustrated-message__figcaption:after,.fd-illustrated-message__figcaption:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__title{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);color:var(--sapGroup_TitleTextColor);font-family:var(--sapFontFamily);font-family:var(--sapFontHeaderFamily);font-size:var(--sapFontSize);font-size:var(--titleFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;margin-bottom:var(--titleMarginBottom);max-width:var(--figcaptionMaxWidth);padding:0;text-align:center;width:100%}.fd-illustrated-message__title:after,.fd-illustrated-message__title:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__text{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;margin-bottom:var(--textMarginBottom);max-width:var(--figcaptionMaxWidth);padding:0;text-align:center}.fd-illustrated-message__text:after,.fd-illustrated-message__text:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__actions{-webkit-box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);display:flex;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;gap:.5rem;justify-content:center;line-height:var(--sapContent_LineHeight);margin:0;margin:var(--actionsMargin);padding:0;width:100%}.fd-illustrated-message__actions:after,.fd-illustrated-message__actions:before{box-sizing:inherit;font-size:inherit}@media screen and (max-width: 599px){.fd-illustrated-message{--illustratedMessageMaxWidth:20rem;--illustrationW:15rem;--illustrationH:11.25rem;--figcaptionMaxWidth:18rem}}.fd-illustrated-message--dialog{--illustrationW:10rem;--illustrationH:10rem;--illustrationMargin:1rem 0;--titleMarginBottom:.5rem;--titleFontSize:var(--sapFontHeader3Size);--actionsMargin:.5rem 0 1rem 0}.fd-illustrated-message--spot{--illustratedMessagePadding:.5rem;--illustrationW:8rem;--illustrationH:8rem;--illustrationMargin:0 0 .5rem 0;--actionsMargin:.5rem 0;--titleMarginBottom:.5rem;--titleFontSize:var(--sapFontHeader4Size)}.fd-illustrated-message--dot{--illustratedMessagePadding:.25rem;--illustrationW:2.813rem;--illustrationH:2.813rem;--illustrationMargin:0;--textMarginBottom:.313rem;--titleMarginBottom:.25rem;--titleFontSize:var(--sapFontHeader5Size);--actionsMargin:.25rem 0;--illustrationMarginRight:.25rem;-ms-flex-wrap:wrap;flex-direction:row;flex-wrap:wrap}.fd-illustrated-message--dot .fd-illustrated-message__illustration{margin-right:var(--illustrationMarginRight)}.fd-illustrated-message--dot .fd-illustrated-message__illustration[dir=rtl],[dir=rtl] .fd-illustrated-message--dot .fd-illustrated-message__illustration{margin-left:var(--illustrationMarginRight);margin-right:0}.fd-illustrated-message--dot .fd-illustrated-message__illustration+.fd-illustrated-message__figcaption{width:calc(100% - var(--illustrationW) - var(--illustrationMarginRight))}\n"],encapsulation:2,changeDetection:0}),(0,e.gn)([T.Mkd,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",Array)],F.prototype,"buildComponentCssClass",null)},70494:(X,P,t)=>{t.d(P,{bz:()=>l});var e=t(36895),T=t(94650);class l{}l.\u0275fac=function(Q){return new(Q||l)},l.\u0275mod=T.oAB({type:l}),l.\u0275inj=T.cJS({imports:[e.ez]}),t(30891),t(71273),t(6941),t(76314),t(67755)},50639:(X,P,t)=>{t.d(P,{P2:()=>ne,tf:()=>_e});var e=t(39841),T=t(71467),l=t(91551),x=t(96833),w=t(40790),o=t(94650),I=t(36895),Z=t(90433),L=t(30514),Q=t(34531),z=t(79754),H=t(93839),y=t(71497),F=t(85677),N=t(45277),g=t(21382),u=t(81353),h=t(97039),A=t(56569),C=t(26069),R=t(94834),Y=t(67909),ee=t(65005),G=t(46786),oe=t(81009),K=t(21418),q=t(89789),te=t(82551),ae=t(77762),O=t(79600),B=t(46067),M=t(27946);function j(c,b){1&c&&(o.ynx(0),o._uU(1),o.ALo(2,"fdTranslate"),o.BQk()),2&c&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApprovers")," "))}function V(c,b){1&c&&(o.ynx(0),o._uU(1),o.ALo(2,"fdTranslate"),o.BQk()),2&c&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderEditApprover")," "))}function le(c,b){1&c&&(o.ynx(0),o._uU(1),o.ALo(2,"fdTranslate"),o.BQk()),2&c&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApproverTeam")," "))}function he(c,b){if(1&c){const s=o.EpF();o.ynx(0),o.TgZ(1,"fd-icon",5),o.NdJ("click",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._exitTeamMembersMode())}),o.qZA(),o._uU(2),o.BQk()}if(2&c){const s=o.oxw(2);let D;o.xp6(1),o.Q6J("glyph",s._headerArrowGlyph),o.xp6(1),o.AsE(" ",null!==(D=null==s.viewService.team?null:s.viewService.team.name)&&void 0!==D?D:""," (",null!==(D=null==s.viewService.team||null==s.viewService.team.members?null:s.viewService.team.members.length)&&void 0!==D?D:0,") ")}}function we(c,b){if(1&c){const s=o.EpF();o.ynx(0),o.TgZ(1,"fd-icon",5),o.NdJ("click",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._exitUserDetailsMode())}),o.qZA(),o._uU(2),o.ALo(3,"fdTranslate"),o.BQk()}if(2&c){const s=o.oxw(2);o.xp6(1),o.Q6J("glyph",s._headerArrowGlyph),o.xp6(1),o.hij(" ",o.lcZ(3,2,"platformApprovalFlow.addNodeDialogHeaderDetail")," ")}}const ve=function(){return[]};function de(c,b){if(1&c){const s=o.EpF();o.TgZ(0,"fdp-search-field",6),o.NdJ("inputChange",function(d){o.CHM(s);const m=o.oxw(2);return o.KtG(m._onSearchStringChange(d.text))}),o.ALo(1,"fdTranslate"),o.qZA()}2&c&&o.Q6J("placeholder",o.lcZ(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",o.DdM(4,ve))}function pe(c,b){if(1&c&&(o.TgZ(0,"p"),o.YNc(1,j,3,3,"ng-container",2),o.YNc(2,V,3,3,"ng-container",2),o.YNc(3,le,3,3,"ng-container",2),o.YNc(4,he,3,3,"ng-container",2),o.YNc(5,we,4,4,"ng-container",2),o.qZA(),o.YNc(6,de,2,5,"fdp-search-field",4)),2&c){const s=o.oxw();o.xp6(1),o.Q6J("ngIf",!s._selectMode&&!s._data.isEdit),o.xp6(1),o.Q6J("ngIf",!s._selectMode&&s._data.isEdit),o.xp6(1),o.Q6J("ngIf",s.viewService.isSelectUserMode||s.viewService.isSelectTeamMode),o.xp6(1),o.Q6J("ngIf",s.viewService.isTeamMembersMode),o.xp6(1),o.Q6J("ngIf",s.viewService.isUserDetailsMode),o.xp6(1),o.Q6J("ngIf",s._selectMode&&!s._userToShowDetails)}}function Ce(c,b){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const s=o.oxw().$implicit;o.Q6J("value",s),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogNodeTypeSerial")," ")}}function ge(c,b){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const s=o.oxw().$implicit;o.Q6J("value",s),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogNodeTypeParallel")," ")}}function Ae(c,b){if(1&c&&(o.ynx(0)(1,14),o.YNc(2,Ce,3,4,"li",15),o.YNc(3,ge,3,4,"li",15),o.BQk()()),2&c){const s=b.$implicit,D=o.oxw(3);o.xp6(1),o.Q6J("ngSwitch",s),o.xp6(1),o.Q6J("ngSwitchCase",D._nodeTypes.SERIAL),o.xp6(1),o.Q6J("ngSwitchCase",D._nodeTypes.PARALLEL)}}function Te(c,b){if(1&c){const s=o.EpF();o.TgZ(0,"div",8)(1,"label",9),o._uU(2),o.ALo(3,"fdTranslate"),o.qZA(),o.TgZ(4,"fd-select",10),o.NdJ("valueChange",function(d){o.CHM(s);const m=o.oxw(2);return o.KtG(m._nodeType=d)}),o.YNc(5,Ae,4,3,"ng-container",11),o.qZA()()}if(2&c){const s=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,3,"platformApprovalFlow.addNodeDialogNodeType")," "),o.xp6(2),o.Q6J("value",s._nodeType),o.xp6(1),o.Q6J("ngForOf",s._nodeTypesArray)}}function be(c,b){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const s=o.oxw().$implicit;o.Q6J("value",s),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeUser")," ")}}function xe(c,b){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const s=o.oxw().$implicit;o.Q6J("value",s),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamAnyone")," ")}}function Ee(c,b){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const s=o.oxw().$implicit;o.Q6J("value",s),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamEveryone")," ")}}function Me(c,b){if(1&c&&(o.ynx(0)(1,14),o.YNc(2,be,3,4,"li",15),o.YNc(3,xe,3,4,"li",15),o.YNc(4,Ee,3,4,"li",15),o.BQk()()),2&c){const s=b.$implicit,D=o.oxw(2);o.xp6(1),o.Q6J("ngSwitch",s),o.xp6(1),o.Q6J("ngSwitchCase",D._approverTypes.SINGLE_USER),o.xp6(1),o.Q6J("ngSwitchCase",D._approverTypes.ANYONE),o.xp6(1),o.Q6J("ngSwitchCase",D._approverTypes.EVERYONE)}}function De(c,b){if(1&c){const s=o.EpF();o.TgZ(0,"fd-multi-input",17),o.NdJ("ngModelChange",function(d){o.CHM(s);const m=o.oxw(2);return o.KtG(m._selectedApprovers=d)})("openChange",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._goToSelectMode())})("selectedChange",function(d){o.CHM(s);const m=o.oxw(2);return o.KtG(m._setSelectedApprovers(d))}),o.qZA()}if(2&c){const s=o.oxw(2);o.Q6J("showAllButton",!1)("dropdownValues",s._selectedApprovers)("ngModel",s._selectedApprovers)("displayFn",s._displayUserFn)}}function Ne(c,b){if(1&c){const s=o.EpF();o.TgZ(0,"fd-multi-input",18),o.NdJ("ngModelChange",function(d){o.CHM(s);const m=o.oxw(2);return o.KtG(m._selectedTeamArray=d)})("openChange",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._goToSelectMode())}),o.qZA()}if(2&c){const s=o.oxw(2);o.Q6J("showAllButton",!1)("dropdownValues",s._selectedTeamArray)("ngModel",s._selectedTeamArray)("displayFn",s._displayTeamFn)}}function Se(c,b){if(1&c){const s=o.EpF();o.TgZ(0,"div",8)(1,"fd-checkbox",19),o.NdJ("ngModelChange",function(d){o.CHM(s);const m=o.oxw(2);return o.KtG(m._addToNextSerial=d)}),o._uU(2),o.ALo(3,"fdTranslate"),o.qZA()()}if(2&c){const s=o.oxw(2);o.xp6(1),o.Q6J("ngModel",s._addToNextSerial),o.xp6(1),o.hij(" ",o.lcZ(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}function Fe(c,b){if(1&c){const s=o.EpF();o.TgZ(0,"div",8)(1,"label",9),o._uU(2),o.ALo(3,"fdTranslate"),o.qZA(),o.TgZ(4,"fd-date-picker",20),o.NdJ("ngModelChange",function(d){o.CHM(s);const m=o.oxw(2);return o.KtG(m._dueDate=d)}),o.qZA()()}if(2&c){const s=o.oxw(2);o.xp6(2),o.Oqu(o.lcZ(3,3,"platformApprovalFlow.addNodeDialogDueDate")),o.xp6(2),o.Q6J("state",s._dueDate?null:"error")("ngModel",s._dueDate)}}function ye(c,b){if(1&c){const s=o.EpF();o.ynx(0),o.YNc(1,Te,6,5,"div",7),o.TgZ(2,"div",8)(3,"label",9),o._uU(4),o.ALo(5,"fdTranslate"),o.qZA(),o.TgZ(6,"fd-select",10),o.NdJ("valueChange",function(d){o.CHM(s);const m=o.oxw();return o.KtG(m._approverType=d)}),o.YNc(7,Me,5,4,"ng-container",11),o.qZA()(),o.TgZ(8,"div",8)(9,"label",9),o._uU(10),o.ALo(11,"fdTranslate"),o.qZA(),o.YNc(12,De,1,4,"fd-multi-input",12),o.YNc(13,Ne,1,4,"fd-multi-input",13),o.qZA(),o.YNc(14,Se,4,4,"div",7),o.YNc(15,Fe,5,5,"div",7),o.BQk()}if(2&c){const s=o.oxw();o.xp6(1),o.Q6J("ngIf",s._data.showNodeTypeSelect),o.xp6(3),o.hij(" ",o.lcZ(5,9,"platformApprovalFlow.addNodeDialogApproverType")," "),o.xp6(2),o.Q6J("value",s._approverType),o.xp6(1),o.Q6J("ngForOf",s._approverTypesArray),o.xp6(3),o.Oqu(o.lcZ(11,11,"platformApprovalFlow.addNodeDialogUserOrTeam")),o.xp6(2),o.Q6J("ngIf",s._isSingleUserMode),o.xp6(1),o.Q6J("ngIf",!s._isSingleUserMode),o.xp6(1),o.Q6J("ngIf",s._nodeType===s._nodeTypes.PARALLEL),o.xp6(1),o.Q6J("ngIf",s._checkDueDate)}}function Ie(c,b){if(1&c){const s=o.EpF();o.TgZ(0,"fdp-approval-flow-team-list",23),o.NdJ("onTeamClick",function(d){o.CHM(s);const m=o.oxw(3);return o.KtG(m._viewTeamMembers(d))})("onTeamRadioClick",function(d){o.CHM(s);const m=o.oxw(3);return o.KtG(m._setSelectedTeam(d))}),o.qZA()}if(2&c){const s=o.oxw(3);o.Q6J("isRtl",s._data.rtl)("teams",s._teams)("selectedTeamId",null==s._selectedTeam?null:s._selectedTeam.id)}}function Pe(c,b){if(1&c&&(o.ynx(0),o.YNc(1,Ie,1,3,"fdp-approval-flow-team-list",22),o.BQk()),2&c){const s=o.oxw(2),D=o.MAs(10);o.xp6(1),o.Q6J("ngIf",!s._data.teamDataSource.isDataLoading)("ngIfElse",D)}}function Le(c,b){if(1&c){const s=o.EpF();o.TgZ(0,"fdp-approval-flow-user-list",25),o.NdJ("onUserClick",function(d){o.CHM(s);const m=o.oxw(3);return o.KtG(m._seeUserDetails(d))})("onSelectionChange",function(d){o.CHM(s);const m=o.oxw(3);return o.KtG(m._selectedApprovers=d)}),o.qZA()}if(2&c){const s=o.oxw(3);o.Q6J("users",s.viewService.isSelectUserMode?s._approvers:s._filteredTeamMembers)("isSelectable",s.viewService.isSelectUserMode)("selectedUsers",s._selectedApprovers)}}function Oe(c,b){if(1&c&&(o.ynx(0),o.YNc(1,Le,1,3,"fdp-approval-flow-user-list",24),o.BQk()),2&c){const s=o.oxw(2),D=o.MAs(10);o.xp6(1),o.Q6J("ngIf",s.viewService.isSelectUserMode||!s._data.userDataSource.isDataLoading)("ngIfElse",D)}}function Be(c,b){if(1&c&&o._UZ(0,"fdp-approval-flow-user-details",26),2&c){const s=o.oxw(2);o.Q6J("user",s._userToShowDetails)("detailsTemplate",s._data.userDetailsTemplate)("details",s._userToShowDetailsData$)}}function ke(c,b){if(1&c&&(o.ynx(0),o.YNc(1,Pe,2,2,"ng-container",2),o.YNc(2,Oe,2,2,"ng-container",2),o.YNc(3,Be,1,3,"fdp-approval-flow-user-details",21),o.BQk()),2&c){const s=o.oxw();o.xp6(1),o.Q6J("ngIf",s.viewService.isSelectTeamMode),o.xp6(1),o.Q6J("ngIf",s.viewService.isSelectUserMode||s.viewService.isTeamMembersMode),o.xp6(1),o.Q6J("ngIf",s.viewService.isUserDetailsMode&&s._userToShowDetails)}}function Ze(c,b){if(1&c){const s=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",27),o.NdJ("click",function(){o.CHM(s);const d=o.oxw();return o.KtG(d._submit())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.TgZ(4,"fd-dialog-footer-button")(5,"button",28),o.NdJ("click",function(){o.CHM(s);const d=o.oxw();return o.KtG(d.dialogRef.close())}),o.ALo(6,"fdTranslate"),o.qZA()(),o.BQk()}if(2&c){const s=o.oxw();o.xp6(2),o.Q6J("label",o.lcZ(3,3,"platformApprovalFlow.addNodeAddActionBtnLabel"))("disabled",s._isMainSubmitButtonDisabled),o.xp6(3),o.Q6J("label",o.lcZ(6,5,"platformApprovalFlow.addNodeCancelActionBtnLabel"))}}function Ue(c,b){if(1&c){const s=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",29),o.NdJ("click",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._confirmSelectedApprovers())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.TgZ(4,"fd-dialog-footer-button")(5,"button",30),o.NdJ("click",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._exitSelectMode())}),o.ALo(6,"fdTranslate"),o.qZA()(),o.BQk()}if(2&c){const s=o.oxw(2);o.xp6(2),o.Q6J("label",o.lcZ(3,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!s._selectedApprovers.length),o.xp6(3),o.Q6J("label",o.lcZ(6,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Re(c,b){if(1&c){const s=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",29),o.NdJ("click",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._confirmSelectedTeam())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.TgZ(4,"fd-dialog-footer-button")(5,"button",30),o.NdJ("click",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._exitSelectMode())}),o.ALo(6,"fdTranslate"),o.qZA()(),o.BQk()}if(2&c){const s=o.oxw(2);o.xp6(2),o.Q6J("label",o.lcZ(3,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!s._selectedTeam&&!s.viewService.team),o.xp6(3),o.Q6J("label",o.lcZ(6,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Je(c,b){if(1&c){const s=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",30),o.NdJ("click",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._exitTeamMembersMode())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.BQk()}2&c&&(o.xp6(2),o.Q6J("label",o.lcZ(3,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function Qe(c,b){if(1&c){const s=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",30),o.NdJ("click",function(){o.CHM(s);const d=o.oxw(2);return o.KtG(d._exitUserDetailsMode())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.BQk()}2&c&&(o.xp6(2),o.Q6J("label",o.lcZ(3,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function Ke(c,b){if(1&c&&(o.ynx(0),o.YNc(1,Ue,7,7,"ng-container",2),o.YNc(2,Re,7,7,"ng-container",2),o.YNc(3,Je,4,3,"ng-container",2),o.YNc(4,Qe,4,3,"ng-container",2),o.BQk()),2&c){const s=o.oxw();o.xp6(1),o.Q6J("ngIf",s.viewService.isSelectUserMode),o.xp6(1),o.Q6J("ngIf",s.viewService.isSelectTeamMode),o.xp6(1),o.Q6J("ngIf",s.viewService.isTeamMembersMode),o.xp6(1),o.Q6J("ngIf",s.viewService.isUserDetailsMode)}}function We(c,b){1&c&&o._UZ(0,"fd-busy-indicator",31),2&c&&o.Q6J("loading",!0)("block",!0)}var ne=(()=>{return(c=ne||(ne={})).SERIAL="SERIAL",c.PARALLEL="PARALLEL",ne;var c})(),re=(()=>{return(c=re||(re={})).SINGLE_USER="SINGLE_USER",c.ANYONE="ANYONE",c.EVERYONE="EVERYONE",re;var c})();class _e{constructor(b,s,D){this.dialogRef=b,this.viewService=s,this._cdr=D,this._nodeType=ne.SERIAL,this._nodeTypes=ne,this._nodeTypesArray=Object.keys(ne),this._approverType=re.SINGLE_USER,this._approverTypes=re,this._approverTypesArray=Object.keys(re),this._dueDate=T._U.getNow(),this._selectMode=!1,this._approvers=[],this._teams=[],this._selectedApprovers=[],this._selectedTeamArray=[],this._selectedTeamMembers=[],this._filteredTeamMembers=[],this._checkDueDate=!1,this._displayUserFn=w.Us,this._displayTeamFn=w.Bw,this._trackByFn=w.Hg,this._addToNextSerial=!1}get _data(){return this.dialogRef.data}get _isSingleUserMode(){return this._approverType===this._approverTypes.SINGLE_USER}get _isMainSubmitButtonDisabled(){return!(this._isSingleUserMode?this._selectedApprovers:this._selectedTeamArray).length||this._checkDueDate&&!this._dueDate}get _headerArrowGlyph(){return"navigation-"+(this._data.rtl?"right":"left")+"-arrow"}ngOnInit(){this._data.teamDataSource.match(),this._data.userDataSource.match();const b=this._data.teamDataSource.open(),s=this._data.userDataSource.open();switch(this._dataSourceSub=(0,e.a)([b,s]).subscribe(([D,d])=>{if(this._teams=D,this._approvers=d,this._data.isEdit){this._checkDueDate=!!this._data.checkDueDate,this._checkDueDate&&this._data.node?.dueDate&&(this._dueDate=T._U.getFdDateByDate(new Date(this._data.node.dueDate))),this._selectedApprovers=[...this._data.node?.approvers??[]];const m=this._data.node?.approvalTeamId&&this._teams.find(r=>r.id===this._data.node?.approvalTeamId);m&&(this.viewService.selectTeam(m),this._selectedTeam=m,this._selectedTeamArray=[m],this._approverType=this._data.node?.isEveryoneApprovalNeeded?this._approverTypes.EVERYONE:this._approverTypes.ANYONE)}this._cdr.detectChanges()}),this._viewChangeSub=this.viewService.onViewChange.subscribe(()=>{this._onSearchStringChange(""),this._cdr.detectChanges()}),this._data.nodeTarget){case"empty":case"before":case"after":this._nodeType=this._nodeTypes.SERIAL;break;case"parallel":this._nodeType=this._nodeTypes.PARALLEL}}ngOnDestroy(){this._viewChangeSub.unsubscribe(),this._dataSourceSub.unsubscribe(),this._data.userDataSource.close(),this._data.teamDataSource.close()}_goToSelectMode(){this._selectMode=!0,this.viewService.setCurrentView(this._isSingleUserMode?x.n.SELECT_USER:x.n.SELECT_TEAM),this._cdr.detectChanges()}_exitSelectMode(){this._selectedApprovers.length&&!this._data.node?.approvers.length&&(this._selectedApprovers=[]),!this._data.isEdit&&!this._data.node?.approvalTeamId&&this.viewService.resetTeam(),this._selectMode=!1,this.viewService.resetView(),this._cdr.detectChanges()}_setSelectedApprovers(b){this._selectedApprovers=b,this._confirmSelectedApprovers()}_confirmSelectedApprovers(){this._data.node&&(this._data.node.approvers=this._selectedApprovers,this._data.node.variousTeams=this._data.node.approvers.some(b=>b.teamId!==this._data.node.approvers[0].teamId),this._data.node.description=this._data.node.variousTeams?"":this._selectedApprovers[0]?.description,delete this._data.node.approvalTeamId,delete this._data.node.isEveryoneApprovalNeeded,this._exitSelectMode())}_setSelectedTeam(b){this.viewService.selectTeam(b)}_confirmSelectedTeam(){this.viewService.team&&(this._selectedTeam=this.viewService.team,this._selectedTeamArray=[this.viewService.team],this._data.node&&(this._data.node.variousTeams=!1,this._data.node.approvalTeamId=this.viewService.team.id,this._data.node.description=this.viewService.team.name,this._data.node.isEveryoneApprovalNeeded=this._approverType===re.EVERYONE),this._exitSelectMode())}_seeUserDetails(b){this.viewService.setCurrentView(x.n.USER_DETAILS),this._userToShowDetails=b,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",b.id]])),this._cdr.detectChanges()}_exitUserDetailsMode(){this.viewService.setCurrentView(this.viewService.team?x.n.VIEW_TEAM_MEMBERS:x.n.SELECT_USER),this._userToShowDetails=void 0,this._userToShowDetailsData$=void 0,this._cdr.detectChanges()}_viewTeamMembers(b){this.viewService.selectTeam(b),this.viewService.setCurrentView(x.n.VIEW_TEAM_MEMBERS),this._selectedTeamMembers=b.members,this._setFilteredTeamMembers(this._selectedTeamMembers),this._cdr.detectChanges()}_exitTeamMembersMode(){this.viewService.setCurrentView(x.n.SELECT_TEAM),this.viewService.resetTeam(),this._selectedTeamMembers=[],this._cdr.detectChanges()}_submit(){this._data.node&&!this._isSingleUserMode&&this._selectedTeam&&(this._data.node.approvers=[...this._selectedTeam.members]),this._data.node&&this._checkDueDate&&(this._data.node.dueDate=this._dueDate.toDate()),this.dialogRef.close({node:this._data.node,nodeType:this._nodeType,toNextSerial:this._addToNextSerial})}_onSearchStringChange(b=""){const s=new Map([["query",b]]);this.viewService.isSelectUserMode?this._data.userDataSource.match(s):this.viewService.isSelectTeamMode?this._data.teamDataSource.match(s):this.viewService.isTeamMembersMode&&this._setFilteredTeamMembers(this._selectedTeamMembers.filter(D=>(0,w.TV)(D,b)))}_setFilteredTeamMembers(b){this._filteredTeamMembers=[...b],this._cdr.detectChanges()}}_e.\u0275fac=function(b){return new(b||_e)(o.Y36(l.zj),o.Y36(x.E),o.Y36(o.sBO))},_e.\u0275cmp=o.Xpm({type:_e,selectors:[["fdp-approval-flow-add-node"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-add-node"],decls:11,vars:8,consts:[["fdCompact",""],["fdkTemplate","header"],[4,"ngIf"],["loadingTpl",""],[3,"placeholder","suggestions","inputChange",4,"ngIf"],[3,"glyph","click"],[3,"placeholder","suggestions","inputChange"],["fd-form-item","",4,"ngIf"],["fd-form-item",""],["fd-form-label",""],[3,"value","valueChange"],[4,"ngFor","ngForOf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange",4,"ngIf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange",4,"ngIf"],[3,"ngSwitch"],["fd-option","",3,"value",4,"ngSwitchCase"],["fd-option","",3,"value"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange"],[3,"ngModel","ngModelChange"],["type","single",3,"state","ngModel","ngModelChange"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick",4,"ngIf","ngIfElse"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange",4,"ngIf","ngIfElse"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange"],[3,"user","detailsTemplate","details"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],["fd-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fd-initial-focus","","fdType","transparent",3,"label","click"],[3,"loading","block"]],template:function(b,s){1&b&&(o.TgZ(0,"fd-dialog",0)(1,"fd-dialog-header"),o.YNc(2,pe,7,6,"ng-template",1),o.qZA(),o.TgZ(3,"fd-dialog-body"),o.YNc(4,ye,16,13,"ng-container",2),o.YNc(5,ke,4,3,"ng-container",2),o.qZA(),o.TgZ(6,"fd-dialog-footer"),o.YNc(7,Ze,7,7,"ng-container",2),o.YNc(8,Ke,5,4,"ng-container",2),o.qZA()(),o.YNc(9,We,1,2,"ng-template",null,3,o.W1O)),2&b&&(o.xp6(1),o.ekj("show-search",s._selectMode&&!s._userToShowDetails),o.xp6(2),o.ekj("fd-dialog__body--auto-height",s.viewService.isUserDetailsMode),o.xp6(1),o.Q6J("ngIf",!s._selectMode),o.xp6(1),o.Q6J("ngIf",s._selectMode),o.xp6(2),o.Q6J("ngIf",!s._selectMode),o.xp6(1),o.Q6J("ngIf",s._selectMode))},dependencies:[I.sg,I.O5,I.RF,I.n9,Z.JJ,Z.On,L.$,Q.r,z.o,H.a,y.H,F.g,N.A,g.u,u.r,h.S,A.N,A.j,C.ri,R.L,Y.b,ee.Hr,G.x,oe.L,K.B,q.J,te.h,ae.R,O.Q,B.S,M.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n",".fdp-approval-flow-add-node .fd-dialog__body{width:20rem;height:27rem}.fdp-approval-flow-add-node .fd-dialog__body--auto-height{height:auto}\n"],encapsulation:2,changeDetection:0})},29877:(X,P,t)=>{t.d(P,{F:()=>ae});var e=t(91551),T=t(40790),l=t(94650),x=t(36895),w=t(30514),o=t(34531),I=t(79754),Z=t(93839),L=t(71497),Q=t(85677),z=t(45277),H=t(21382),y=t(81353),F=t(97039),N=t(56569),g=t(26069),u=t(77762),h=t(79600),A=t(27946);function C(O,B){if(1&O){const M=l.EpF();l.TgZ(0,"fd-icon",10),l.NdJ("click",function(){l.CHM(M);const V=l.oxw(2);return l.KtG(V._exitUserDetailsMode())})("keyup.space",function(){l.CHM(M);const V=l.oxw(2);return l.KtG(V._exitUserDetailsMode())})("keyup.enter",function(){l.CHM(M);const V=l.oxw(2);return l.KtG(V._exitUserDetailsMode())}),l.qZA()}if(2&O){const M=l.oxw(2);l.Q6J("glyph","navigation-"+(M._data.rtl?"right":"left")+"-arrow")}}function R(O,B){if(1&O&&(l.ynx(0),l._uU(1),l.BQk()),2&O){const M=l.oxw(2);let j;l.xp6(1),l.AsE("",null==M._data.node?null:M._data.node.description," (",null!==(j=null==M._data.node||null==M._data.node.approvers?null:M._data.node.approvers.length)&&void 0!==j?j:0,")")}}const Y=function(){return[]};function ee(O,B){if(1&O){const M=l.EpF();l.TgZ(0,"fdp-search-field",11),l.NdJ("inputChange",function(V){l.CHM(M);const le=l.oxw(2);return l.KtG(le._onSearchStringChange(V.text))}),l.ALo(1,"fdTranslate"),l.qZA()}2&O&&l.Q6J("placeholder",l.lcZ(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",l.DdM(4,Y))}function G(O,B){if(1&O&&(l.TgZ(0,"p"),l.YNc(1,C,1,1,"fd-icon",7),l.YNc(2,R,2,2,"ng-container",8),l.qZA(),l.YNc(3,ee,2,5,"fdp-search-field",9)),2&O){const M=l.oxw(),j=l.MAs(12);l.xp6(1),l.Q6J("ngIf",M._userToShowDetails&&(null==M._data.node?null:M._data.node.approvers)&&M._data.node.approvers.length>1),l.xp6(1),l.Q6J("ngIf",M._isListMode&&!M._userToShowDetails)("ngIfElse",j),l.xp6(1),l.Q6J("ngIf",!M._userToShowDetails&&M._isListMode)}}function oe(O,B){if(1&O&&l._UZ(0,"fdp-approval-flow-user-details",12),2&O){const M=l.oxw();l.Q6J("user",M._userToShowDetails)("detailsTemplate",M._data.userDetailsTemplate)("details",M._userToShowDetailsData$)}}function K(O,B){if(1&O){const M=l.EpF();l.TgZ(0,"fdp-approval-flow-user-list",13),l.NdJ("onUserClick",function(V){l.CHM(M);const le=l.oxw();return l.KtG(le._seeUserDetails(V))})("onSelectionChange",function(V){l.CHM(M);const le=l.oxw();return l.KtG(le._selectedUsers=V)}),l.qZA()}if(2&O){const M=l.oxw();l.Q6J("users",M._listItems)}}function q(O,B){if(1&O){const M=l.EpF();l.TgZ(0,"fd-dialog-footer-button")(1,"button",14),l.NdJ("click",function(){l.CHM(M);const V=l.oxw();return l.KtG(V._sendReminder())}),l.ALo(2,"fdTranslate"),l.qZA()()}if(2&O){const M=l.oxw();l.xp6(1),l.Q6J("label",l.lcZ(2,2,"platformApprovalFlow.userDetailsSendReminderBtnLabel"))("disabled",!M._data.allowSendReminder||M._isListMode&&!M._selectedUsers.length)}}function te(O,B){1&O&&(l._uU(0),l.ALo(1,"fdTranslate")),2&O&&l.hij(" ",l.lcZ(1,1,"platformApprovalFlow.userDetailsHeader"),"\n")}class ae{constructor(B,M){this.dialogRef=B,this._cdr=M,this._isListMode=!1,this._listItems=[],this._selectedUsers=[]}get _data(){return this.dialogRef.data}ngOnInit(){if(this._isListMode=(this._data.node?.approvers.length??0)>1,this._isListMode)this._setListItems(this._data.node?.approvers??[]);else{const B=this._data.watcher||this._data.node?.approvers[0];B?this._seeUserDetails(B):this.dialogRef.close()}}_setListItems(B=[]){this._listItems=[...B],this._cdr.detectChanges()}_exitUserDetailsMode(){this._userToShowDetails=void 0,this._isListMode=!0}_seeUserDetails(B){this._userToShowDetails=B,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",B.id]])),this._isListMode=!1,this._selectedUsers=[],this._cdr.detectChanges()}_sendReminder(){this.dialogRef.close(this._isListMode?this._selectedUsers:this._data.node?.approvers)}_onSearchStringChange(B){this._setListItems(B?this._data.node?.approvers.filter(M=>(0,T.TV)(M,B)):this._data.node?.approvers)}}ae.\u0275fac=function(B){return new(B||ae)(l.Y36(e.zj),l.Y36(l.sBO))},ae.\u0275cmp=l.Xpm({type:ae,selectors:[["fdp-approval-flow-approver-details"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-approver-details"],decls:13,vars:8,consts:[["fdkTemplate","header"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"users","onUserClick","onSelectionChange",4,"ngIf"],["fdCompact",""],[4,"ngIf"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],["defaultHeader",""],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter",4,"ngIf"],[4,"ngIf","ngIfElse"],["fdCompact","",3,"placeholder","suggestions","inputChange",4,"ngIf"],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter"],["fdCompact","",3,"placeholder","suggestions","inputChange"],[3,"user","detailsTemplate","details"],[3,"users","onUserClick","onSelectionChange"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","disabled","click"]],template:function(B,M){1&B&&(l.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),l.YNc(2,G,4,4,"ng-template",0),l.qZA(),l.TgZ(3,"fd-dialog-body"),l.YNc(4,oe,1,3,"fdp-approval-flow-user-details",1),l.YNc(5,K,1,1,"fdp-approval-flow-user-list",2),l.qZA(),l.TgZ(6,"fd-dialog-footer",3),l.YNc(7,q,3,4,"fd-dialog-footer-button",4),l.TgZ(8,"fd-dialog-footer-button")(9,"button",5),l.NdJ("click",function(){return M.dialogRef.close("Cancel")}),l.ALo(10,"fdTranslate"),l.qZA()()()(),l.YNc(11,te,2,3,"ng-template",null,6,l.W1O)),2&B&&(l.xp6(1),l.ekj("show-search",!M._userToShowDetails&&M._isListMode),l.xp6(3),l.Q6J("ngIf",M._userToShowDetails),l.xp6(1),l.Q6J("ngIf",M._isListMode),l.xp6(2),l.Q6J("ngIf",M._isListMode||M._userToShowDetails&&1===(null==M._data.node||null==M._data.node.approvers?null:M._data.node.approvers.length)),l.xp6(2),l.Q6J("label",l.lcZ(10,6,"platformApprovalFlow.userDetailsCancelBtnLabel")))},dependencies:[x.O5,w.$,o.r,I.o,Z.a,L.H,Q.g,z.A,H.u,y.r,F.S,N.N,N.j,g.ri,u.R,h.Q,A.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n"],encapsulation:2,changeDetection:0})},30366:(X,P,t)=>{t.d(P,{S:()=>N});var e=t(94650),T=t(40790),l=t(36895),x=t(67604),w=t(27946);function o(g,u){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesApproverAddedSuccess")," "))}function I(g,u){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesTeamAddedSuccess")," "))}function Z(g,u){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeEdited")," "))}function L(g,u){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeRemovedSingular")," "))}function Q(g,u){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeRemovedPlural")," "))}function z(g,u){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesTeamRemoved")," "))}function H(g,u){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesErrorBuildGraph")," "))}function y(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"a",5),e.NdJ("click",function(C){e.CHM(h);const R=e.oxw().index,Y=e.oxw();return e.KtG(Y._undoLastAction(R,C))})("keyup.enter",function(C){e.CHM(h);const R=e.oxw().index,Y=e.oxw();return e.KtG(Y._undoLastAction(R,C))})("keyup.space",function(C){e.CHM(h);const R=e.oxw().index,Y=e.oxw();return e.KtG(Y._undoLastAction(R,C))}),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()}2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesUndoAction")," "))}function F(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"fd-message-strip",1),e.NdJ("onDismiss",function(){const R=e.CHM(h).index,Y=e.oxw();return e.KtG(Y._dismissMessage(R))}),e.TgZ(1,"bdi")(2,"span",2),e.YNc(3,o,3,3,"ng-container",3),e.YNc(4,I,3,3,"ng-container",3),e.YNc(5,Z,3,3,"ng-container",3),e.YNc(6,L,3,3,"ng-container",3),e.YNc(7,Q,3,3,"ng-container",3),e.YNc(8,z,3,3,"ng-container",3),e.YNc(9,H,3,3,"ng-container",3),e.qZA(),e.YNc(10,y,3,3,"a",4),e.qZA()()}if(2&g){const h=u.$implicit,A=e.oxw();e.Q6J("type","error"===h.type?"error":"success")("dismissible","error"!==h.type),e.xp6(2),e.Q6J("ngSwitch",h.type),e.xp6(1),e.Q6J("ngSwitchCase","approverAddSuccess"),e.xp6(1),e.Q6J("ngSwitchCase","teamAddSuccess"),e.xp6(1),e.Q6J("ngSwitchCase","nodeEdit"),e.xp6(1),e.Q6J("ngSwitchCase","nodeRemove"),e.xp6(1),e.Q6J("ngSwitchCase","nodesRemove"),e.xp6(1),e.Q6J("ngSwitchCase","teamRemove"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngIf",A.undoLastActionAvailable)}}class N{constructor(){this.messages=[],this.undoLastActionAvailable=!1,this.messagesChange=new e.vpe,this.undoLastAction=new e.vpe,this._trackByFn=T.Hg}_dismissMessage(u){this.messages.splice(u,1)}_undoLastAction(u,h){h.preventDefault(),this._dismissMessage(u),this.undoLastAction.emit()}}N.\u0275fac=function(u){return new(u||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["fdp-approval-flow-messages"]],hostAttrs:[1,"fdp-approval-flow-messages"],inputs:{messages:"messages",undoLastActionAvailable:"undoLastActionAvailable"},outputs:{messagesChange:"messagesChange",undoLastAction:"undoLastAction"},decls:1,vars:1,consts:[["class","fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss"],[3,"ngSwitch"],[4,"ngSwitchCase"],["href","#",3,"click","keyup.enter","keyup.space",4,"ngIf"],["href","#",3,"click","keyup.enter","keyup.space"]],template:function(u,h){1&u&&e.YNc(0,F,11,11,"fd-message-strip",0),2&u&&e.Q6J("ngForOf",h.messages)},dependencies:[l.sg,l.O5,l.RF,l.n9,x.h,w.n],styles:[".fdp-approval-flow-messages__item:not(:last-child){margin-bottom:1rem}\n"],encapsulation:2,changeDetection:0})},17226:(X,P,t)=>{t.d(P,{h:()=>T});var e=t(94650);class T{constructor(x){this.elRef=x,this.active=!1}_checkIfNodeDraggedInDropZone(x){this.active=!1;const w=this.elRef.nativeElement.getBoundingClientRect();w.top+w.height>x.top&&w.left+w.width>x.left&&w.bottom-w.height<x.bottom&&w.right-w.width<x.right&&(this.active=!0)}}T.\u0275fac=function(x){return new(x||T)(e.Y36(e.SBq))},T.\u0275dir=e.lG2({type:T,selectors:[["","fdp-approval-flow-drop-zone",""]],inputs:{placement:"placement"},exportAs:["fdp-approval-flow-drop-zone"]})},19731:(X,P,t)=>{t.d(P,{D:()=>D});var e=t(94650),T=t(50727),l=t(60505),x=t(44604),w=t(62389),o=t(17226),I=t(40790),Z=t(2215),L=t(36895),Q=t(30514),z=t(34531),H=t(21484),y=t(49034),F=t(8451),N=t(92899),g=t(66583),u=t(11545),h=t(27946);const A=["overflowMenuButton"],C=["nodeContent"];function R(d,m){if(1&d&&e._UZ(0,"div",11),2&d){const r=e.oxw();e.ekj("fdp-approval-flow-node__vertical-line-before-solid",r._isVerticalLineBeforeSolid)}}function Y(d,m){if(1&d&&e._UZ(0,"div",12),2&d){const r=e.oxw();e.ekj("fdp-approval-flow-node__vertical-line-after-solid",r._isVerticalLineAfterSolid)}}function ee(d,m){1&d&&e._UZ(0,"div",16)}function G(d,m){1&d&&e._UZ(0,"div",17)}function oe(d,m){1&d&&e._UZ(0,"div",18)}function K(d,m){if(1&d&&(e.ynx(0),e.YNc(1,ee,1,0,"div",13),e.YNc(2,G,1,0,"div",14),e.YNc(3,oe,1,0,"div",15),e.Hsn(4),e.BQk()),2&d){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.renderArrow),e.xp6(1),e.Q6J("ngIf",r._isRoot&&0===(null==r.meta?null:r.meta.nodeIndex)),e.xp6(1),e.Q6J("ngIf",r._isFinal&&0===(null==r.meta?null:r.meta.nodeIndex))}}function q(d,m){if(1&d&&(e.TgZ(0,"button",20),e.NdJ("click",function(U){return U.stopPropagation()}),e.qZA()),2&d){const r=e.oxw(2),U=e.MAs(18);e.Q6J("fdMenuTrigger",U)("disabled",r._isEditActionsAvailable)}}function te(d,m){if(1&d&&e.YNc(0,q,1,2,"button",19),2&d){const r=e.oxw();e.Q6J("ngIf",!(null!=r.node&&r.node.disableActions))}}function ae(d,m){if(1&d&&(e.ynx(0),e._uU(1),e.BQk()),2&d){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.node.approvers[0].name," ")}}const O=function(d){return{count:d}};function B(d,m){if(1&d&&(e._uU(0),e.ALo(1,"fdTranslate")),2&d){const r=e.oxw(2);e.hij(" ",e.xi3(1,1,"platformApprovalFlow.nodeMembersCount",e.VKq(4,O,r.node.approvers.length))," ")}}function M(d,m){if(1&d&&(e.ynx(0),e._uU(1),e.BQk()),2&d){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.node.approvers.length>1?r.node.description:r.node.approvers.length?r.node.approvers[0].description:""," ")}}function j(d,m){1&d&&(e._uU(0),e.ALo(1,"fdTranslate")),2&d&&e.hij(" ",e.lcZ(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function V(d,m){1&d&&e.GkF(0)}function le(d,m){1&d&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&d&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.nodeStatusDueToday")," "))}function he(d,m){if(1&d&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&d){const r=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"platformApprovalFlow.nodeStatusDueInXDays",e.VKq(4,O,r.dueDateThreshold-r._dueIn))," ")}}function we(d,m){if(1&d&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&d){const r=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"platformApprovalFlow.nodeStatusXDaysOverdue",e.VKq(4,O,r._dueIn-r.dueDateThreshold))," ")}}function ve(d,m){if(1&d&&(e.ynx(0),e.YNc(1,le,3,3,"ng-container",2),e.YNc(2,he,3,6,"ng-container",2),e.YNc(3,we,3,6,"ng-container",2),e.BQk()),2&d){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r._dueIn===r.dueDateThreshold),e.xp6(1),e.Q6J("ngIf",r._dueIn<r.dueDateThreshold),e.xp6(1),e.Q6J("ngIf",r._dueIn>r.dueDateThreshold)}}function de(d,m){if(1&d&&(e.TgZ(0,"div",21)(1,"div",22),e.YNc(2,ae,2,1,"ng-container",23),e.YNc(3,B,2,6,"ng-template",null,24,e.W1O),e.qZA(),e.TgZ(5,"div",25),e.YNc(6,M,2,1,"ng-container",23),e.YNc(7,j,2,3,"ng-template",null,26,e.W1O),e.qZA(),e.TgZ(9,"fdp-object-status",27),e.YNc(10,V,1,0,"ng-container",28),e.YNc(11,ve,4,3,"ng-container",2),e.qZA()()),2&d){const r=e.MAs(4),U=e.MAs(8),k=e.oxw(),ie=e.MAs(16),He=e.MAs(14);e.xp6(1),e.ekj("fdp-approval-flow-node__name--members-count",k.node.approvers.length>1),e.Q6J("id",k.approvalFlowNodeId),e.xp6(1),e.Q6J("ngIf",1===k.node.approvers.length)("ngIfElse",r),e.xp6(4),e.Q6J("ngIf",!k.node.variousTeams)("ngIfElse",U),e.xp6(3),e.Q6J("status",k._objectStatus)("inverted",!0),e.xp6(1),e.Q6J("ngIf",k.approvalStatusTemplate)("ngIfThen",ie)("ngIfElse",He),e.xp6(1),e.Q6J("ngIf",k.checkDueDate&&k._showDueDateWarning)}}function pe(d,m){1&d&&e.GkF(0)}const Ce=function(){return{placement:"before-all"}};function ge(d,m){if(1&d&&(e.ynx(0),e.YNc(1,pe,1,0,"ng-container",29),e.BQk()),2&d){e.oxw();const r=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(2,Ce))}}function Ae(d,m){1&d&&e.GkF(0)}const Te=function(){return{placement:"before"}};function be(d,m){if(1&d&&(e.ynx(0),e.YNc(1,Ae,1,0,"ng-container",29),e.BQk()),2&d){e.oxw();const r=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(2,Te))}}function xe(d,m){1&d&&e.GkF(0)}const Ee=function(){return{placement:"after"}};function Me(d,m){if(1&d&&(e.ynx(0),e.YNc(1,xe,1,0,"ng-container",29),e.BQk()),2&d){e.oxw();const r=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(2,Ee))}}function De(d,m){1&d&&e.GkF(0)}const Ne=function(){return{placement:"after-all"}};function Se(d,m){if(1&d&&(e.ynx(0),e.YNc(1,De,1,0,"ng-container",29),e.BQk()),2&d){e.oxw();const r=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(2,Ne))}}function Fe(d,m){if(1&d){const r=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(r);const k=e.oxw().placement,ie=e.oxw();return e.KtG(ie.onAdd.emit(k))}),e.qZA()}if(2&d){const r=e.oxw().placement,U=e.MAs(2),k=e.oxw();e.Udp("visibility",U.active?"hidden":""),e.ekj("fdp-approval-flow-node__add--blank",k._blank)("fdp-approval-flow-node__add--before",!k._blank&&("before"===r||"before-all"===r))("fdp-approval-flow-node__add--before-all",!k._blank&&"before-all"===r)("fdp-approval-flow-node__add--after",!k._blank&&("after"===r||"after-all"===r))("fdp-approval-flow-node__add--after-all","after-all"===r)}}function ye(d,m){if(1&d&&(e.YNc(0,Fe,1,12,"button",30),e._UZ(1,"div",31,32)),2&d){const r=m.placement,U=e.MAs(2),k=e.oxw();e.Q6J("ngIf","approved"!==k.node.status),e.xp6(1),e.ekj("fdp-approval-flow-node__drop-zone--active",U.active)("fdp-approval-flow-node__drop-zone--blank",k.isNextNodeBlank)("fdp-approval-flow-node__drop-zone--partial",k._dropZonePartial(r)),e.Q6J("placement",r)}}function Ie(d,m){1&d&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&d&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusApproved")))}function Pe(d,m){1&d&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&d&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusRejected")))}function Le(d,m){1&d&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&d&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusInProgress")))}function Oe(d,m){1&d&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&d&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusNotStarted")))}function Be(d,m){if(1&d&&(e.ynx(0)(1,34),e.YNc(2,Ie,3,3,"ng-container",35),e.YNc(3,Pe,3,3,"ng-container",35),e.YNc(4,Le,3,3,"ng-container",35),e.YNc(5,Oe,3,3,"ng-container",35),e.BQk()()),2&d){const r=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",r.node.status),e.xp6(1),e.Q6J("ngSwitchCase","approved"),e.xp6(1),e.Q6J("ngSwitchCase","rejected"),e.xp6(1),e.Q6J("ngSwitchCase","in progress"),e.xp6(1),e.Q6J("ngSwitchCase","not started")}}function ke(d,m){if(1&d&&e.YNc(0,Be,6,5,"ng-container",2),2&d){const r=e.oxw();e.Q6J("ngIf",!r.checkDueDate||!r._showDueDateWarning)}}const Ze=function(d){return{node:d}};function Ue(d,m){if(1&d&&e.GkF(0,37),2&d){const r=e.oxw(3);e.Q6J("ngTemplateOutlet",r.approvalStatusTemplate)("ngTemplateOutletContext",e.VKq(2,Ze,r.node))}}function Re(d,m){if(1&d&&(e.ynx(0),e.YNc(1,Ue,1,4,"ng-container",36),e.BQk()),2&d){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.approvalStatusTemplate)}}function Je(d,m){if(1&d&&e.YNc(0,Re,2,1,"ng-container",2),2&d){const r=e.oxw();e.Q6J("ngIf",!r.checkDueDate||!r._showDueDateWarning)}}function Qe(d,m){if(1&d){const r=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(r);const k=e.oxw();return e.MAs(18).close(),e.KtG(k.onAdd.emit("before"))}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&d&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversBefore")))}function Ke(d,m){if(1&d){const r=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(r);const k=e.oxw();return e.MAs(18).close(),e.KtG(k.onAdd.emit("after"))}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&d&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversAfter")))}function We(d,m){if(1&d){const r=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(r);const k=e.oxw();return e.MAs(18).close(),e.KtG(k.onAdd.emit("parallel"))}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&d&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversParallel")))}function ne(d,m){if(1&d){const r=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(r);const k=e.oxw();return e.MAs(18).close(),e.KtG(k.onEdit.emit())}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&d&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"platformApprovalFlow.nodeActionEditApprover"),""))}function re(d,m){if(1&d){const r=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(r);const k=e.oxw();return e.MAs(18).close(),e.KtG(k.onDelete.emit())}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&d&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"platformApprovalFlow.nodeActionRemove"),""))}const c={approved:"positive",rejected:"negative","in progress":"informative","not started":""},b=864e5;let s=0;class D{get _blank(){return!!this.node?.blank}get _space(){return!!this.node?.space}get _isRoot(){return this.meta?.isRoot}get _isFinal(){return this.meta?.isFinal}get _renderLineBefore(){return!this.node?.blank}get _renderLineAfter(){return!this.node?.blank||this._isFinal}get _isApproved(){return this.node&&(0,I.aC)(this.node)}get _isParentApproved(){return this.meta?.parents?.length?this.meta.parents.every(m=>(0,I.aC)(m)):!!this.meta?.rootNodesApproved}get _isNodeSelected(){return this.isEdit&&this._isSelected}get _isParallelStart(){return Boolean(this.meta?.parallelStart)}get _isParallelEnd(){return Boolean(this.meta?.parallelEnd)}get _isFirstInParallel(){return Boolean(this.meta?.isFirstInParallel)}get _isLastInParallel(){return Boolean(this.meta?.isLastInParallel)}get _lastBlank(){return this._blank&&0===this.node.targets.length}get _isSelected(){return!!this.node.selected}constructor(m,r,U){this._elRef=m,this._cdr=r,this._rtlService=U,this.renderArrow=!1,this.checkDueDate=!1,this.dueDateThreshold=7,this.allNodesInColumnApproved=!1,this._showDueDateWarning=!1,this._dueIn=0,this.onAdd=new e.vpe,this.onEdit=new e.vpe,this.onDelete=new e.vpe,this.approvalFlowNodeId="fdp-approval-flow-node-"+s++,this._subscriptions=new T.w0,this._translationResolver=new Z.en}get _nativeElement(){return this._elRef.nativeElement}get _isNotStarted(){return!(0,I._3)(this.node)}get _isEditActionsAvailable(){return"approved"===this.node.status||"rejected"===this.node.status}get _activeDropZones(){return this._dropZones.filter(m=>m.active)}get _isAnyDropZoneActive(){return this._activeDropZones.length>0}get _isVerticalLineBeforeSolid(){return this.meta?.parents.length?this.meta.parents.every(m=>(0,I.aC)(m)):!!this.meta?.isVerticalLineBeforeSolid}get _isVerticalLineAfterSolid(){return this.node?.targets.length?this._isVerticalLineBeforeSolid&&this.allNodesInColumnApproved:!!this.meta?.isVerticalLineAfterSolid}get _showAddButton(){return this.isEdit&&!this._blank&&!this._space&&!this.node?.disableActions}get _showAfterAllAddButton(){return this.isEdit&&!this._space&&!this.node?.disableActions}_dropZonePartial(m){return!this._blank&&(!this.isNextNodeBlank||"before"===m)||this._lastBlank&&"after-all"===m}ngOnInit(){this._checkNodeStatus(),this._subscriptions.add(this._rtlService?.rtl.subscribe(()=>this._cdr.markForCheck()))}ngOnChanges(){this._checkNodeStatus()}ngOnDestroy(){this._subscriptions.unsubscribe()}_onMenuOpen(){this._menu.refreshPosition()}_focus(m){this._gridListItem?.focus(m)}_deactivateDropZones(){this._dropZones.forEach(m=>m.active=!1),this._cdr.detectChanges()}_checkIfNodeDraggedInDropZone(m){this._dropZones.forEach(r=>r._checkIfNodeDraggedInDropZone(m)),this._cdr.detectChanges()}_checkNodeStatus(){if(this.node){if(this.checkDueDate&&this.node.dueDate){const m=Number(new Date(this.node.dueDate))-this.dueDateThreshold*b,r=Date.now()-m;return this._dueIn=Math.round(r/b),this._showDueDateWarning=!(0,I.aC)(this.node)&&m<Date.now(),this._objectStatus=this._showDueDateWarning?"critical":this._getNodeStatusClass(),void this._cdr.detectChanges()}this._objectStatus=this._getNodeStatusClass(),this._cdr.detectChanges()}}_getNodeStatusClass(){return this.statusColorMapping?this.statusColorMapping[this.node.status]:c[this.node.status]}}D.\u0275fac=function(m){return new(m||D)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(l.qFd,8))},D.\u0275cmp=e.Xpm({type:D,selectors:[["fdp-approval-flow-node"]],contentQueries:function(m,r,U){if(1&m&&e.Suo(U,w.Oh,5),2&m){let k;e.iGM(k=e.CRH())&&(r._gridListItem=k.first)}},viewQuery:function(m,r){if(1&m&&(e.Gf(x.Mn,5),e.Gf(A,5),e.Gf(C,5),e.Gf(o.h,5)),2&m){let U;e.iGM(U=e.CRH())&&(r._menu=U.first),e.iGM(U=e.CRH())&&(r._overflowMenuButton=U.first),e.iGM(U=e.CRH())&&(r._nodeContent=U.first),e.iGM(U=e.CRH())&&(r._dropZones=U)}},hostAttrs:[1,"fdp-approval-flow-node"],hostVars:36,hostBindings:function(m,r){2&m&&e.ekj("fdp-approval-flow-node--first-root",null==r.meta?null:r.meta.firstOfMultipleRootNodes)("fdp-approval-flow-node--first-final",null==r.meta?null:r.meta.firstOfMultipleFinalNodes)("fdp-approval-flow-node--edit-mode",r.isEdit)("fdp-approval-flow-node--next-blank",r.isNextNodeBlank)("fdp-approval-flow-node--blank",r._blank)("fdp-approval-flow-node--space",r._space)("fdp-approval-flow-node--root",r._isRoot)("fdp-approval-flow-node--final",r._isFinal)("fdp-approval-flow-node--line-before",r._renderLineBefore)("fdp-approval-flow-node--line-after",r._renderLineAfter)("fdp-approval-flow-node--approved",r._isApproved)("fdp-approval-flow-node--parent-approved",r._isParentApproved)("fdp-approval-flow-node--selected",r._isNodeSelected)("fdp-approval-flow-node--parallel-start",r._isParallelStart)("fdp-approval-flow-node--parallel-end",r._isParallelEnd)("fdp-approval-flow-node--first-in-parallel",r._isFirstInParallel)("fdp-approval-flow-node--last-in-parallel",r._isLastInParallel)("fdp-approval-flow-node--last-blank",r._lastBlank)},inputs:{node:"node",meta:"meta",renderArrow:"renderArrow",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allNodesInColumnApproved:"allNodesInColumnApproved",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",isEdit:"isEdit",isNextNodeBlank:"isNextNodeBlank"},outputs:{onAdd:"onAdd",onEdit:"onEdit",onDelete:"onDelete"},features:[e.TTD],ngContentSelectors:["*"],decls:24,vars:12,consts:[["class","fdp-approval-flow-node__vertical-line-before",3,"fdp-approval-flow-node__vertical-line-before-solid",4,"ngIf"],["class","fdp-approval-flow-node__vertical-line-after",3,"fdp-approval-flow-node__vertical-line-after-solid",4,"ngIf"],[4,"ngIf"],["overflowMenuButton",""],["nodeContent",""],["addNodeButton",""],["defaultStatusTemplate",""],["userStatusTemplate",""],["fdContentDensity","","placement","bottom-end",3,"isOpenChange"],["menu",""],["fd-menu-item","",3,"click",4,"ngIf"],[1,"fdp-approval-flow-node__vertical-line-before"],[1,"fdp-approval-flow-node__vertical-line-after"],["class","fdp-approval-flow-node__arrow",4,"ngIf"],["class","fdp-approval-flow-node__carousel-start-marker",4,"ngIf"],["class","fdp-approval-flow-node__carousel-end-marker",4,"ngIf"],[1,"fdp-approval-flow-node__arrow"],[1,"fdp-approval-flow-node__carousel-start-marker"],[1,"fdp-approval-flow-node__carousel-end-marker"],["class","fdp-approval-flow-node__menu-button","fd-button","","fdType","transparent","tabindex","0","glyph","overflow","title","Menu","fdCompact","",3,"fdMenuTrigger","disabled","click",4,"ngIf"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","title","Menu","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"fdMenuTrigger","disabled","click"],[1,"fdp-approval-flow-node__info"],[1,"fdp-approval-flow-node__name",3,"id"],[4,"ngIf","ngIfElse"],["multipleApprovers",""],[1,"fdp-approval-flow-node__description"],["variousTeams",""],[3,"status","inverted"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-button","","glyph","add","title","Add node","fdCompact","","class","fdp-approval-flow-node__add",3,"fdp-approval-flow-node__add--blank","fdp-approval-flow-node__add--before","fdp-approval-flow-node__add--before-all","fdp-approval-flow-node__add--after","fdp-approval-flow-node__add--after-all","visibility","click",4,"ngIf"],["fdp-approval-flow-drop-zone","",1,"fdp-approval-flow-node__drop-zone",3,"placement"],["dropZone","fdp-approval-flow-drop-zone"],["fd-button","","glyph","add","title","Add node","fdCompact","",1,"fdp-approval-flow-node__add",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(m,r){1&m&&(e.F$t(),e.YNc(0,R,1,2,"div",0),e.YNc(1,Y,1,2,"div",1),e.YNc(2,K,5,3,"ng-container",2),e.YNc(3,te,1,1,"ng-template",null,3,e.W1O),e.YNc(5,de,12,13,"ng-template",null,4,e.W1O),e.YNc(7,ge,2,3,"ng-container",2),e.YNc(8,be,2,3,"ng-container",2),e.YNc(9,Me,2,3,"ng-container",2),e.YNc(10,Se,2,3,"ng-container",2),e.YNc(11,ye,3,8,"ng-template",null,5,e.W1O),e.YNc(13,ke,1,1,"ng-template",null,6,e.W1O),e.YNc(15,Je,1,1,"ng-template",null,7,e.W1O),e.TgZ(17,"fd-menu",8,9),e.NdJ("isOpenChange",function(){return r._onMenuOpen()}),e.YNc(19,Qe,5,3,"li",10),e.YNc(20,Ke,5,3,"li",10),e.YNc(21,We,5,3,"li",10),e.YNc(22,ne,5,3,"li",10),e.YNc(23,re,5,3,"li",10),e.qZA()),2&m&&(e.Q6J("ngIf",null==r.meta?null:r.meta.renderVerticalLineBefore),e.xp6(1),e.Q6J("ngIf",null==r.meta?null:r.meta.renderVerticalLineAfter),e.xp6(1),e.Q6J("ngIf",!r._blank&&!r._space),e.xp6(5),e.Q6J("ngIf",r._showAddButton&&(null==r.meta?null:r.meta.canAddNodeBeforeAll)&&!(null!=r.node&&null!=r.node.actionsConfig&&r.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",r._showAddButton&&(null==r.meta?null:r.meta.canAddNodeBefore)&&!(null!=r.node&&null!=r.node.actionsConfig&&r.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",r._showAddButton&&(null==r.meta?null:r.meta.canAddNodeAfter)&&(null==r.meta?null:r.meta.renderAddNodeAfterButton)&&!(null!=r.node&&null!=r.node.actionsConfig&&r.node.actionsConfig.disableAddAfter)),e.xp6(1),e.Q6J("ngIf",r._showAfterAllAddButton&&(null==r.meta?null:r.meta.canAddNodeAfterAll)&&(null==r.meta?null:r.meta.renderAddNodeAfterButton)&&!(null!=r.node&&null!=r.node.actionsConfig&&r.node.actionsConfig.disableAddAfter)),e.xp6(9),e.Q6J("ngIf",(null==r.meta?null:r.meta.canAddNodeBefore)&&!(null!=r.node&&null!=r.node.actionsConfig&&r.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",(null==r.meta?null:r.meta.canAddNodeAfter)&&!(null!=r.node&&null!=r.node.actionsConfig&&r.node.actionsConfig.disableAddAfter)),e.xp6(1),e.Q6J("ngIf",(null==r.meta?null:r.meta.canAddParallel)&&!(null!=r.node&&null!=r.node.actionsConfig&&r.node.actionsConfig.disableAddParallel)),e.xp6(1),e.Q6J("ngIf",r._isNotStarted&&!(null!=r.node&&null!=r.node.actionsConfig&&r.node.actionsConfig.disableEdit)),e.xp6(1),e.Q6J("ngIf",!(null!=r.node&&null!=r.node.actionsConfig&&r.node.actionsConfig.disableRemove)))},dependencies:[L.O5,L.tP,L.RF,L.n9,Q.$,z.r,H.k,y.M,F.qv,N.K,g.h,u.k,o.h,h.n],styles:[".fdp-approval-flow-node{display:block;box-sizing:border-box;position:relative;width:17.375rem;height:5.875rem;margin-bottom:1rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode{height:7.875rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-after:after{top:-4.9375rem;height:8.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{content:\"\";display:block;position:absolute;top:-3.9375rem;height:6.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before{left:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before-solid:before{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{right:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after-solid:after{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-before:before{left:auto;right:-2.0625rem}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-after:after{right:auto;left:-2.0625rem}.fdp-approval-flow-node .fdp-approval-flow-node__add{position:absolute;z-index:10;margin:calc(3.4375rem - 1px) auto auto;inset:0;border-radius:100%;min-width:1rem;max-width:1rem;min-height:1rem;max-height:1rem}.fdp-approval-flow-node .fdp-approval-flow-node__add fd-icon{line-height:1rem;font-size:.7rem;font-weight:900}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before{left:-2.5rem;right:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-2.8rem}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after{right:-2.5rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-2.8rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone{border-radius:.25rem;position:absolute;height:100%;z-index:1}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa);border:.125rem solid #0854a0;border:.125rem solid var(--sapButton_IconColor, #0854a0)}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--blank{width:100%;top:0}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--partial{width:10%;left:0;top:0}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank{background:transparent;box-shadow:none;pointer-events:none;cursor:default}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:before{content:\"\";display:block;position:absolute;width:calc(100% + 4rem);height:0;left:-2rem;top:calc(50% - .0625rem);border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{width:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:not(.fdp-approval-flow-node--last-blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{width:100%}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{content:\"\";width:2rem;height:0;display:block;position:absolute;top:calc(50% - .0625rem);bottom:0;pointer-events:none;border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{right:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--blank:before{border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parent-approved.fdp-approval-flow-node--line-before:before{left:-2rem;border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode.fdp-approval-flow-node--blank{pointer-events:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-end-marker{top:3.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__arrow{display:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{right:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{right:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{left:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{left:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{left:19.875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{right:-12.6875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:calc(100% + 4rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{width:4rem;left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{width:4rem;right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__add,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-after{visibility:hidden}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name{font-size:1rem;line-height:1.25rem;margin-bottom:.1rem;color:#32363a;color:var(--sapTextColor, #32363a)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__description{font-size:.875rem;line-height:1rem;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin-bottom:.4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow{width:0;height:0;border-style:solid;border-width:.375rem 0 .375rem .5rem;border-color:transparent transparent transparent #d9d9d9;border-color:transparent transparent transparent var(--sapGroup_TitleBorderColor, #d9d9d9);position:absolute;left:-.5rem;top:0;bottom:0;margin:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{z-index:1;background:#d9d9d9;background:var(--sapGroup_TitleBorderColor, #d9d9d9);display:block;position:absolute;width:.25rem;height:1rem;top:2.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__arrow{left:auto;right:-.5rem;border-width:.375rem .5rem .375rem 0;border-color:transparent #d9d9d9 transparent transparent;border-color:transparent var(--sapGroup_TitleBorderColor, #d9d9d9) transparent transparent}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-before:before{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-after:after{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count{direction:ltr;text-align:right}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before{right:-2.5rem;left:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-2.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after{left:-2.5rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-2.8rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{left:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{left:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{right:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{right:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{right:19.875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:calc(100% + 2rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{left:-12.6875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:calc(100% + 4rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{left:0}\n"],encapsulation:2,changeDetection:0})},99749:(X,P,t)=>{t.d(P,{h:()=>ee});var e=t(91551),T=t(50639),l=t(94650),x=t(36895),w=t(90433),o=t(30514),I=t(34531),Z=t(93839),L=t(71497),Q=t(85677),z=t(45277),H=t(21382),y=t(81353),F=t(97039),N=t(56569),g=t(67909),u=t(89789),h=t(7892),A=t(15203),C=t(27946);function R(G,oe){1&G&&(l.TgZ(0,"p"),l._uU(1),l.ALo(2,"fdTranslate"),l.qZA()),2&G&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"platformApprovalFlow.selectTypeDialogMoveApproverAs")))}function Y(G,oe){if(1&G){const K=l.EpF();l.TgZ(0,"div",4)(1,"fd-checkbox",10),l.NdJ("ngModelChange",function(te){l.CHM(K);const ae=l.oxw();return l.KtG(ae._toNextSerial=te)}),l._uU(2),l.ALo(3,"fdTranslate"),l.qZA()()}if(2&G){const K=l.oxw();l.xp6(1),l.Q6J("ngModel",K._toNextSerial),l.xp6(1),l.hij(" ",l.lcZ(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}class ee{constructor(oe){this._dialogRef=oe,this._nodeType=T.P2.SERIAL,this._nodeTypes=T.P2,this._toNextSerial=!1}_submit(){this._dialogRef.close({type:this._nodeType,toNextSerial:this._toNextSerial})}}ee.\u0275fac=function(oe){return new(oe||ee)(l.Y36(e.zj))},ee.\u0275cmp=l.Xpm({type:ee,selectors:[["fdp-approval-flow-select-type"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-select-type"],decls:25,vars:20,consts:[["fdkTemplate","header"],["fdCompact",""],[1,"fd-form-label"],[1,"fdp-approval-flow-select-type__form"],["fd-form-item",""],["id","select-type-parallel","name","select-type-parallel",3,"value","ngModel","ngModelChange"],["id","select-type-serial","name","select-type-serial",3,"value","ngModel","ngModelChange"],["fd-form-item","",4,"ngIf"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","click"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],[3,"ngModel","ngModelChange"]],template:function(oe,K){1&oe&&(l.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),l.YNc(2,R,3,3,"ng-template",0),l.qZA(),l.TgZ(3,"fd-dialog-body",1)(4,"span",2),l._uU(5),l.ALo(6,"fdTranslate"),l.qZA(),l.TgZ(7,"fd-form-group",3)(8,"div",4)(9,"fd-radio-button",5),l.NdJ("ngModelChange",function(te){return K._nodeType=te}),l._uU(10),l.ALo(11,"fdTranslate"),l.qZA()(),l.TgZ(12,"div",4)(13,"fd-radio-button",6),l.NdJ("ngModelChange",function(te){return K._nodeType=te}),l._uU(14),l.ALo(15,"fdTranslate"),l.qZA()(),l.YNc(16,Y,4,4,"div",7),l.qZA()(),l.TgZ(17,"fd-dialog-footer",1),l.ynx(18),l.TgZ(19,"fd-dialog-footer-button")(20,"button",8),l.NdJ("click",function(){return K._submit()}),l.ALo(21,"fdTranslate"),l.qZA()(),l.TgZ(22,"fd-dialog-footer-button")(23,"button",9),l.NdJ("click",function(){return K._dialogRef.close()}),l.ALo(24,"fdTranslate"),l.qZA()(),l.BQk(),l.qZA()()),2&oe&&(l.xp6(5),l.hij(" ",l.lcZ(6,10,"platformApprovalFlow.selectTypeDialogParallelOrSerial")," "),l.xp6(4),l.Q6J("value",K._nodeTypes.PARALLEL)("ngModel",K._nodeType),l.xp6(1),l.hij(" ",l.lcZ(11,12,"platformApprovalFlow.selectTypeDialogNodeTypeParallel")," "),l.xp6(3),l.Q6J("value",K._nodeTypes.SERIAL)("ngModel",K._nodeType),l.xp6(1),l.hij(" ",l.lcZ(15,14,"platformApprovalFlow.selectTypeDialogNodeTypeSerial")," "),l.xp6(2),l.Q6J("ngIf",K._nodeType===K._nodeTypes.PARALLEL),l.xp6(4),l.Q6J("label",l.lcZ(21,16,"platformApprovalFlow.selectTypeDialogConfirmButton")),l.xp6(3),l.Q6J("label",l.lcZ(24,18,"platformApprovalFlow.selectTypeDialogCancelButton")))},dependencies:[x.O5,w.JJ,w.On,o.$,I.r,Z.a,L.H,Q.g,z.A,H.u,y.r,F.S,N.N,N.j,g.b,u.J,h.H,A._,C.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n",".fdp-approval-flow-select-type .fd-dialog__body{width:24rem}.fdp-approval-flow-select-type .fd-dialog__body .fd-form-item{margin-bottom:0}\n"],encapsulation:2,changeDetection:0})},46067:(X,P,t)=>{t.d(P,{S:()=>y});var e=t(94650),T=t(40790),l=t(36895),x=t(90433),w=t(30514),o=t(79754),I=t(4270),Z=t(60026),L=t(89789),Q=t(7892),z=t(15203);function H(F,N){if(1&F){const g=e.EpF();e.TgZ(0,"div",2)(1,"fd-radio-button",3),e.NdJ("ngModelChange",function(h){e.CHM(g);const A=e.oxw();return e.KtG(A.selectedTeamId=h)})("click",function(){const A=e.CHM(g).$implicit,C=e.oxw();return e.KtG(C.onTeamRadioClick.emit(A))}),e.qZA(),e.TgZ(2,"fdp-standard-list-item",4),e.NdJ("click",function(){const A=e.CHM(g).$implicit,C=e.oxw();return e.KtG(C._showTeamDetails(A))}),e.qZA(),e._UZ(3,"fd-icon",5),e.qZA()}if(2&F){const g=N.$implicit,u=N.index,h=e.oxw();e.xp6(1),e.Q6J("value",g.id)("name","team-radio"+u)("ngModel",h.selectedTeamId),e.uIk("id","team-radio"+u),e.xp6(1),e.Q6J("avatarSrc","")("avatarTitle",g.name)("description",g.description||g.members.length+" members")("title",g.name),e.uIk("id","approval-team-"+g.id),e.xp6(1),e.Q6J("glyph","navigation-"+(h.isRtl?"left":"right")+"-arrow")}}class y{constructor(){this.teams=[],this.isRtl=!1,this.onTeamClick=new e.vpe,this.onTeamRadioClick=new e.vpe,this._trackByFn=T.Hg}_showTeamDetails(N){this.onTeamClick.emit(N)}}y.\u0275fac=function(N){return new(N||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["fdp-approval-flow-team-list"]],hostAttrs:[1,"fdp-approval-flow-team-list"],inputs:{teams:"teams",isRtl:"isRtl",selectedTeamId:"selectedTeamId"},outputs:{onTeamClick:"onTeamClick",onTeamRadioClick:"onTeamRadioClick"},decls:3,vars:3,consts:[["fdCompact","",3,"hasByLine"],["fd-form-item","",4,"ngFor","ngForOf","ngForTrackBy"],["fd-form-item",""],[3,"value","name","ngModel","ngModelChange","click"],[3,"avatarSrc","avatarTitle","description","title","click"],[3,"glyph"]],template:function(N,g){1&N&&(e.TgZ(0,"fdp-list",0)(1,"fd-form-group"),e.YNc(2,H,4,10,"div",1),e.qZA()()),2&N&&(e.Q6J("hasByLine",!0),e.xp6(2),e.Q6J("ngForOf",g.teams)("ngForTrackBy",g._trackByFn))},dependencies:[l.sg,x.JJ,x.On,w.$,o.o,I.n,Z.d,L.J,Q.H,z._],styles:[".fdp-approval-flow-team-list .fd-form-item{position:relative;margin-bottom:0}.fdp-approval-flow-team-list .fd-form-item fd-radio-button{position:absolute;z-index:1;top:1.4rem}.fdp-approval-flow-team-list .fd-form-item .fd-list__item{padding-left:2rem!important;cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-icon{position:absolute;right:1rem;top:2rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-avatar{color:#fff;color:var(--sapBaseColor, #fff)}[dir=rtl] .fdp-approval-flow-team-list .fd-form-item fd-icon,.fdp-approval-flow-team-list[dir=rtl] .fd-form-item fd-icon{right:auto;left:1rem}[dir=rtl] .fdp-approval-flow-team-list .fd-list__item,.fdp-approval-flow-team-list[dir=rtl] .fd-list__item{padding-right:2rem!important;padding-left:0!important}\n"],encapsulation:2,changeDetection:0})},28325:(X,P,t)=>{t.d(P,{h:()=>N});var e=t(94650),T=t(40790),l=t(36895),x=t(30514),w=t(34531),o=t(27946);function I(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(h);const C=e.oxw();return e.KtG(C._addNode("empty"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddStepButton"))}function Z(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(h);const C=e.oxw();return e.KtG(C.enterEditMode.emit())}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarEditButton"))}function L(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(h);const C=e.oxw(2);return e.KtG(C._addNode("before"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversBefore"))}function Q(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(h);const C=e.oxw(2);return e.KtG(C._addNode("after"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversAfter"))}function z(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(h);const C=e.oxw(2);return e.KtG(C._addNode("parallel"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversParallel"))}function H(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(h);const C=e.oxw(2);return e.KtG(C.deleteSelectedNodes.emit())}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarRemove"))}function y(g,u){if(1&g){const h=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(h);const C=e.oxw(2);return e.KtG(C._editSelectedNode())}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarEditApprover"))}function F(g,u){if(1&g&&(e.ynx(0),e.YNc(1,L,2,3,"button",1),e.YNc(2,Q,2,3,"button",1),e.YNc(3,z,2,3,"button",1),e.YNc(4,H,2,3,"button",1),e.YNc(5,y,2,3,"button",1),e.BQk()),2&g){const h=e.oxw();e.xp6(1),e.Q6J("ngIf",h._canAddBefore),e.xp6(1),e.Q6J("ngIf",h._canAddAfter),e.xp6(1),e.Q6J("ngIf",h._canAddParallel),e.xp6(1),e.Q6J("ngIf",h._canRemoveSelectedNodes),e.xp6(1),e.Q6J("ngIf",h._canEditNode)}}class N{constructor(){this.isEditMode=!1,this.enterEditMode=new e.vpe,this.addNode=new e.vpe,this.editSelectedNode=new e.vpe,this.deleteSelectedNodes=new e.vpe,this._canRemoveSelectedNodes=!1,this._selectedNodes=[]}set selectedNodes(u){this._selectedNodes=u,this._canRemoveSelectedNodes=!!this.selectedNodes.length&&this.selectedNodes.every(h=>!h.disableActions&&!h.actionsConfig?.disableRemove)}get selectedNodes(){return this._selectedNodes}get _notApprovedSelectedNode(){return 1!==this.selectedNodes.length||(0,T.aC)(this.selectedNodes[0])?null:this.selectedNodes[0]}get _canAddBefore(){const u=this._notApprovedSelectedNode;return!(!u||u.disableActions||u.actionsConfig?.disableAddBefore||!this.graphMetadata[u.id].canAddNodeBefore)}get _canAddAfter(){const u=this._notApprovedSelectedNode;return!(!u||u.disableActions||u.actionsConfig?.disableAddAfter||!this.graphMetadata[u.id].canAddNodeAfter)}get _canAddParallel(){const u=this._notApprovedSelectedNode;return!(!this._notApprovedSelectedNode||u?.disableActions||u?.actionsConfig?.disableAddParallel||!this.graphMetadata[u.id].canAddParallel)}get _canEditNode(){const u=this._notApprovedSelectedNode;return!!u&&!u.disableActions&&!u.actionsConfig?.disableEdit}_addNode(u){this.addNode.emit({node:this.selectedNodes[0],target:u})}_editSelectedNode(){this.editSelectedNode.emit(this.selectedNodes[0])}}N.\u0275fac=function(u){return new(u||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["fdp-approval-flow-toolbar-actions"]],hostAttrs:[1,"fdp-approval-flow-toolbar-actions"],inputs:{graph:"graph",graphMetadata:"graphMetadata",selectedNodes:"selectedNodes",isEditMode:"isEditMode"},outputs:{enterEditMode:"enterEditMode",addNode:"addNode",editSelectedNode:"editSelectedNode",deleteSelectedNodes:"deleteSelectedNodes"},decls:4,vars:3,consts:[["fdCompact",""],["fd-button","",3,"label","click",4,"ngIf"],[4,"ngIf"],["fd-button","",3,"label","click"]],template:function(u,h){1&u&&(e.ynx(0,0),e.YNc(1,I,2,3,"button",1),e.YNc(2,Z,2,3,"button",1),e.YNc(3,F,6,5,"ng-container",2),e.BQk()),2&u&&(e.xp6(1),e.Q6J("ngIf",!(null!=h.graph&&null!=h.graph.columns&&h.graph.columns.length||null!=h.graph&&h.graph.errors)),e.xp6(1),e.Q6J("ngIf",!(null==h.graph||null==h.graph.columns||!h.graph.columns.length||h.isEditMode)),e.xp6(1),e.Q6J("ngIf",h.isEditMode))},dependencies:[l.O5,x.$,w.r,o.n],styles:[".fdp-approval-flow-toolbar-actions .fd-button:not(:last-child){margin-right:.5rem}[dir=rtl] .fdp-approval-flow-toolbar-actions .fd-button:not(:last-child),.fdp-approval-flow-toolbar-actions[dir=rtl] .fd-button:not(:last-child){margin-right:0;margin-left:.5rem}\n"],encapsulation:2,changeDetection:0})},79600:(X,P,t)=>{t.d(P,{Q:()=>o});var e=t(94650),T=t(36895),l=t(5982);const x=function(I){return{data:I}};function w(I,Z){if(1&I&&(e.GkF(0,5),e.ALo(1,"async")),2&I){const L=e.oxw();e.Q6J("ngTemplateOutlet",L.detailsTemplate)("ngTemplateOutletContext",e.VKq(4,x,e.lcZ(1,2,L.details)))}}class o{}o.\u0275fac=function(Z){return new(Z||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["fdp-approval-flow-user-details"]],hostAttrs:[1,"fdp-approval-flow-user-details"],inputs:{user:"user",details:"details",detailsTemplate:"detailsTemplate"},decls:8,vars:4,consts:[[1,"fdp-approval-flow-user-details__user-info"],["size","s",3,"image"],[1,"fdp-approval-flow-user-details__name"],[1,"fdp-approval-flow-user-details__description"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Z,L){1&Z&&(e.TgZ(0,"div",0),e._UZ(1,"fd-avatar",1),e.TgZ(2,"div")(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA()()(),e.YNc(7,w,2,6,"ng-container",4)),2&Z&&(e.xp6(1),e.Q6J("image",L.user.imgUrl),e.xp6(3),e.Oqu(L.user.name),e.xp6(2),e.Oqu(L.user.description),e.xp6(1),e.Q6J("ngIf",L.detailsTemplate))},dependencies:[T.O5,T.tP,l.A,T.Ov],styles:[".fdp-approval-flow-user-details__user-info{display:flex;align-items:center;margin-bottom:1rem}.fdp-approval-flow-user-details__name{font-size:1rem}.fdp-approval-flow-user-details__description{color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70)}\n"],encapsulation:2,changeDetection:0})},77762:(X,P,t)=>{t.d(P,{R:()=>g});var e=t(94650),T=t(9866),l=t(40790),x=t(36895),w=t(90433),o=t(4270),I=t(60026),Z=t(27946);function L(u,h){1&u&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&u&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.userListSelectedItemsCountSingular")," "))}const Q=function(u){return{count:u}};function z(u,h){if(1&u&&(e._uU(0),e.ALo(1,"fdTranslate")),2&u){const A=e.oxw(2);e.hij(" ",e.xi3(1,1,"platformApprovalFlow.userListSelectedItemsCountPlural",e.VKq(4,Q,A._selectedItems.length))," ")}}function H(u,h){if(1&u&&(e.TgZ(0,"div",3),e.YNc(1,L,3,3,"ng-container",4),e.YNc(2,z,2,6,"ng-template",null,5,e.W1O),e.qZA()),2&u){const A=e.MAs(3),C=e.oxw();e.xp6(1),e.Q6J("ngIf",1===C._selectedItems.length)("ngIfElse",A)}}function y(u,h){if(1&u){const A=e.EpF();e.TgZ(0,"fdp-standard-list-item",6),e.NdJ("click",function(R){const ee=e.CHM(A).$implicit,G=e.oxw();return R.stopPropagation(),e.KtG(G.onUserClick.emit(ee))}),e.qZA()}if(2&u){const A=h.$implicit,C=e.oxw();e.Q6J("avatarSrc",A.imgUrl)("avatarTitle",A.name)("description",A.description)("ariaLabel",A.name)("title",A.name),e.uIk("id",C._idPrefix+A.id)}}class g{constructor(h){this._cdr=h,this.users=[],this.selectedUsers=[],this.isSelectable=!0,this.onUserClick=new e.vpe,this.onSelectionChange=new e.vpe,this._selectedItems=[],this._idPrefix="approval-node-user-",this._trackByFn=l.Hg,this._displayUsers=[]}ngAfterViewInit(){if(this.selectedUsers.length){const h=this.selectedUsers.map(A=>A.name);this._selectedItems=this.listItems.filter(A=>!!A.avatar?.ariaLabel&&h.includes(A.avatar.ariaLabel)),this._selectedItems.forEach(A=>{A._selected=!0,this.list._selectItem(A)}),this._cdr.detectChanges()}}ngOnChanges(h){h.users&&this._collectDataProgressive()}ngOnDestroy(){this._killInterval()}_onSelect(h){this._selectedItems=h.selectedItems,this.onSelectionChange.emit(this._getUsersFromSelectedItems(h.selectedItems))}_getUsersFromSelectedItems(h){return h.map(A=>this.users.find(C=>`${this._idPrefix+C.id}`===A.itemEl.nativeElement.id)).filter(A=>!!A)}_collectDataProgressive(){if(this._killInterval(),this._displayUsers=[],!this.users?.length)return;const h={currentIndex:0};this._userCollectorIntervalFn(h),this._intervalID=window.setInterval(this._userCollectorIntervalFn.bind(this),10,h)}_userCollectorIntervalFn(h){const A=h.currentIndex+100,C=[];for(let R=h.currentIndex;R<=A;R++){if(R>=this.users.length){this._killInterval();break}C.push(this.users[R])}h.currentIndex+=100,this._displayUsers.push(...C),this._cdr.markForCheck()}_killInterval(){this._intervalID&&clearInterval(this._intervalID)}}g.\u0275fac=function(h){return new(h||g)(e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["fdp-approval-flow-user-list"]],viewQuery:function(h,A){if(1&h&&(e.Gf(T.ns,5),e.Gf(T.db,5)),2&h){let C;e.iGM(C=e.CRH())&&(A.list=C.first),e.iGM(C=e.CRH())&&(A.listItems=C)}},hostAttrs:[1,"fdp-approval-flow-user-list"],inputs:{users:"users",selectedUsers:"selectedUsers",isSelectable:"isSelectable"},outputs:{onUserClick:"onUserClick",onSelectionChange:"onSelectionChange"},features:[e.TTD],decls:3,vars:9,consts:[["class","fdp-approval-flow-user-list__selected-count",4,"ngIf"],[3,"selectionMode","selection","navigationIndicator","hasByLine","ngModel","selectedItems","ngModelChange","selectedItemChange"],[3,"avatarSrc","avatarTitle","description","ariaLabel","title","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fdp-approval-flow-user-list__selected-count"],[4,"ngIf","ngIfElse"],["multipleItems",""],[3,"avatarSrc","avatarTitle","description","ariaLabel","title","click"]],template:function(h,A){1&h&&(e.YNc(0,H,4,2,"div",0),e.TgZ(1,"fdp-list",1),e.NdJ("ngModelChange",function(R){return A._selectedItems=R})("selectedItemChange",function(R){return A._onSelect(R)}),e.YNc(2,y,1,6,"fdp-standard-list-item",2),e.qZA()),2&h&&(e.Q6J("ngIf",A._selectedItems.length),e.xp6(1),e.Q6J("selectionMode",A.isSelectable?"multi":"none")("selection",A.isSelectable)("navigationIndicator",!0)("hasByLine",!0)("ngModel",A._selectedItems)("selectedItems",A._selectedItems),e.xp6(1),e.Q6J("ngForOf",A._displayUsers)("ngForTrackBy",A._trackByFn))},dependencies:[x.sg,x.O5,w.JJ,w.On,o.n,I.d,Z.n],styles:[".fdp-approval-flow-user-list{display:block;margin-top:-1rem}.fdp-approval-flow-user-list__selected-count{line-height:2rem;margin:0 -1rem;padding:0 1rem;background:#f2f2f2;background:var(--sapList_HeaderBackground, #f2f2f2)}\n"],encapsulation:2,changeDetection:0})},96153:(X,P,t)=>{t.d(P,{K:()=>ze});var e=t(94650),T=t(29521),l=t(50727),x=t(77579),w=t(56451),o=t(54968),I=t(39841),Z=t(59468),L=t(68675),Q=t(63900),z=t(69718),H=t(54004),y=t(71884),F=t(60505),g=(t(62389),t(91551)),u=t(29877),h=t(19731),A=t(50639),C=t(40790),R=t(99749);function O(v,n){const a=[];let p,i;for(let _=v;_>0;_--)p=Object.assign({},(0,C.dL)(),{targets:i?[i]:[],status:n}),i=p.id,a.unshift(p);return a}var de=t(91591),pe=t(46698),Ce=t(5698),ge=t(36895),Ae=t(90433),Te=t(5982),be=t(45371),xe=t(47551),Ee=t(33201),Me=t(30514),De=t(34531),Ne=t(79754),Se=t(57648),Fe=t(5182),ye=t(9334),Ie=t(83112),Pe=t(45757),Le=t(79101),Oe=t(40999),Be=t(94834),ke=t(73555),Ze=t(30891),Ue=t(6941),Re=t(76314),Je=t(67755),Qe=t(30366),Ke=t(28325),We=t(27946);const ne=["graphContainerEl"],re=["graphEl"],_e=["gridList"];function c(v,n){if(1&v){const a=e.EpF();e.TgZ(0,"fdp-approval-flow-toolbar-actions",10),e.NdJ("enterEditMode",function(){e.CHM(a);const i=e.oxw();return e.KtG(i._enterEditMode())})("addNode",function(i){e.CHM(a);const _=e.oxw();return e.KtG(_._addNode(i.node,i.target))})("editSelectedNode",function(i){e.CHM(a);const _=e.oxw();return e.KtG(_._editNode(i))})("deleteSelectedNodes",function(){e.CHM(a);const i=e.oxw();return e.KtG(i._deleteSelectedNodes())}),e.qZA()}if(2&v){const a=e.oxw();e.Q6J("graph",a._graph)("selectedNodes",a._selectedNodes)("graphMetadata",a._graphMetadata)("isEditMode",a._isEditMode)}}function b(v,n){if(1&v){const a=e.EpF();e.TgZ(0,"fd-avatar",15),e.NdJ("avatarClicked",function(i){const f=e.CHM(a).$implicit,E=e.oxw(3);return e.KtG(E._onWatcherClick(f,i))}),e.qZA()}if(2&v){const a=n.$implicit;e.Q6J("image",a.imgUrl||"")("label",a.name)("clickable",!0)("circle",!0)}}function s(v,n){if(1&v&&(e.ynx(0),e.YNc(1,b,1,4,"fd-avatar",14),e.BQk()),2&v){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==a._approvalProcess?null:a._approvalProcess.watchers)("ngForTrackBy",a._trackByFn)}}function D(v,n){if(1&v){const a=e.EpF();e.TgZ(0,"div",16)(1,"fd-multi-input",17),e.NdJ("ngModelChange",function(i){e.CHM(a);const _=e.oxw(2);return e.KtG(_._selectedWatcherIds=i)})("ngModelChange",function(i){e.CHM(a);const _=e.oxw(2);return e.KtG(_._watchersSelectionChanged(i))}),e.ALo(2,"fdTranslate"),e.qZA()()}if(2&v){const a=e.oxw(2);e.xp6(1),e.Q6J("dropdownValues",a._usersForWatchersList)("placeholder",e.lcZ(2,6,"platformApprovalFlow.watchersInputPlaceholder"))("displayFn",a._displayUserFn)("valueFn",a._userValueFn)("showAllButton",!0)("ngModel",a._selectedWatcherIds)}}function d(v,n){if(1&v&&(e.TgZ(0,"div",11)(1,"p",12),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA(),e.YNc(4,s,2,2,"ng-container",7),e.YNc(5,D,3,8,"div",13),e.qZA()),2&v){const a=e.oxw();e.uIk("aria-label",a.watchersLabel),e.xp6(2),e.hij(" ",a.watchersLabel||e.lcZ(3,4,"platformApprovalFlow.defaultWatchersLabel")," "),e.xp6(2),e.Q6J("ngIf",!a._isEditMode),e.xp6(1),e.Q6J("ngIf",a._isEditMode)}}function m(v,n){if(1&v){const a=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(a);const i=e.oxw(4);return e.KtG(i.nextSlide(-1))}),e.ALo(1,"fdTranslate"),e._UZ(2,"fd-icon",30),e._uU(3),e.qZA()}if(2&v){const a=e.oxw(4);e.uIk("aria-label",e.lcZ(1,3,"platformApprovalFlow.prevButtonAriaLabel")),e.xp6(2),e.Q6J("glyph","navigation-"+(a._rtl?"right":"left")+"-arrow"),e.xp6(1),e.hij(" ",a._carouselStepsLeft," ")}}function r(v,n){if(1&v){const a=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(a);const i=e.oxw(4);return e.KtG(i.nextSlide())}),e.ALo(1,"fdTranslate"),e._uU(2),e._UZ(3,"fd-icon",30),e.qZA()}if(2&v){const a=e.oxw(4);e.uIk("aria-label",e.lcZ(1,3,"platformApprovalFlow.nextButtonAriaLabel")),e.xp6(2),e.hij(" ",a._carouselStepsRight," "),e.xp6(1),e.Q6J("glyph","navigation-"+(a._rtl?"left":"right")+"-arrow")}}function U(v,n){if(1&v&&(e.TgZ(0,"div",26),e.YNc(1,m,4,5,"button",27),e.YNc(2,r,4,5,"button",28),e.qZA()),2&v){const a=e.oxw(3);e.ekj("fdp-approval-flow-carousel-controls--edit-mode",a._isEditMode),e.xp6(1),e.Q6J("ngIf",a._carouselStepsLeft>0),e.xp6(1),e.Q6J("ngIf",a._carouselStepsRight>0)}}function k(v,n){if(1&v&&(e.ynx(0),e.GkF(1,39),e.BQk()),2&v){e.oxw();const a=e.MAs(1);e.xp6(1),e.Q6J("ngTemplateOutlet",a._overflowMenuButton)}}function ie(v,n){if(1&v&&e.GkF(0,39),2&v){e.oxw();const a=e.MAs(1);e.Q6J("ngTemplateOutlet",a._nodeContent)}}function He(v,n){if(1&v){const a=e.EpF();e.TgZ(0,"fdp-approval-flow-node",34,35),e.NdJ("onAdd",function(i){const f=e.CHM(a).$implicit,E=e.oxw(4);return e.KtG(E._addNode(f,i))})("onEdit",function(){const _=e.CHM(a).$implicit,f=e.oxw(4);return e.KtG(f._editNode(_))})("onDelete",function(){const _=e.CHM(a).$implicit,f=e.oxw(4);return e.KtG(f._onNodeDelete(_))})("keydown",function(i){const f=e.CHM(a).$implicit,E=e.oxw(4);return e.KtG(E._onNodeKeyDown(i,f))})("cdkDragStarted",function(){e.CHM(a);const i=e.oxw(4);return e.KtG(i._dragDropInProgress=!0)})("cdkDragReleased",function(i){const f=e.CHM(a).$implicit,E=e.oxw(4);return e.KtG(E._onNodeDrop(f,i.source))})("cdkDragMoved",function(){const _=e.CHM(a).$implicit,f=e.oxw(4);return e.KtG(f._onNodeDragMoved(_))}),e.TgZ(2,"fd-grid-list-item",36),e.NdJ("press",function(){const _=e.CHM(a).$implicit,f=e.oxw(4);return e.KtG(f._onNodeClick(_))}),e.TgZ(3,"fd-grid-list-item-toolbar"),e.YNc(4,k,2,1,"ng-container",7),e.qZA(),e._UZ(5,"fd-avatar",37),e.YNc(6,ie,1,1,"ng-template",38),e.qZA()()}if(2&v){const a=n.$implicit,p=n.index,i=e.MAs(1),_=e.oxw(),f=_.index,E=_.$implicit,S=e.oxw(3);e.Q6J("cdkDragDisabled",S._isCdkDragDisabled(a))("node",a)("meta",S._graphMetadata[a.id])("isEdit",S._isEditMode)("isNextNodeBlank",S._isNextNodeBlank(a,f,p))("checkDueDate",S.checkDueDate)("dueDateThreshold",S.dueDateThreshold)("renderArrow",f>0)("allNodesInColumnApproved",!!E.allNodesApproved)("approvalStatusTemplate",S.approvalStatusTemplate)("statusColorMapping",S.statusColorMapping),e.xp6(2),e.ekj("fdp-approval-flow__graph-node-inner--edit",S._isEditMode),e.Q6J("value",a)("selected",!!a.selected)("ariaLabelledBy",i.approvalFlowNodeId)("disableToolbarClick",!0),e.xp6(2),e.Q6J("ngIf",S._isEditMode),e.xp6(1),e.Q6J("image",1===a.approvers.length?a.approvers[0].imgUrl:null)("label",a.approvers.length>1?a.description:null)("circle",!0)}}function Ge(v,n){if(1&v&&(e.TgZ(0,"div",32),e.YNc(1,He,7,21,"fdp-approval-flow-node",33),e.qZA()),2&v){const a=n.$implicit,p=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a.nodes)("ngForTrackBy",p._trackByFn)}}function je(v,n){if(1&v&&(e.ynx(0),e.TgZ(1,"div",19),e.YNc(2,U,3,4,"div",20),e.TgZ(3,"div",21,22)(5,"div",23,24),e.YNc(7,Ge,2,2,"div",25),e.qZA()()(),e.BQk()),2&v){const a=e.oxw(2);e.xp6(1),e.ekj("fdp-approval-flow__container--extra-padding-start",!0)("fdp-approval-flow__container--extra-padding-end",!0),e.xp6(1),e.Q6J("ngIf",a._scrollDiff>0),e.xp6(1),e.ekj("fdp-approval-flow__graph-container--multiple-root-nodes",a._multipleRootNodes)("fdp-approval-flow__graph-container--multiple-final-nodes",a._multipleFinalNodes)("fd-scrollbar",!0),e.xp6(2),e.ekj("fdp-approval-flow__graph--edit-mode",a._isEditMode),e.xp6(2),e.Q6J("ngForOf",a._graph.columns)}}function Ve(v,n){if(1&v&&(e.ynx(0),e.YNc(1,je,8,14,"ng-container",18),e.BQk()),2&v){const a=e.oxw(),p=e.MAs(12);e.xp6(1),e.Q6J("ngIf",a._graph.columns.length)("ngIfElse",p)}}function $e(v,n){if(1&v){const a=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"fd-bar-element")(3,"button",42),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i._saveEditModeChanges())}),e.ALo(4,"fdTranslate"),e.qZA()(),e.TgZ(5,"fd-bar-element")(6,"button",43),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i._exitEditMode())}),e.ALo(7,"fdTranslate"),e.qZA()()()()}if(2&v){const a=e.oxw();e.xp6(3),e.Q6J("label",e.lcZ(4,4,"platformApprovalFlow.editModeSaveButtonLabel"))("disabled",a.disableSaveButton),e.xp6(3),e.Q6J("label",e.lcZ(7,6,"platformApprovalFlow.editModeExitButtonLabel"))("disabled",a.disableExitButton)}}function Xe(v,n){if(1&v&&(e.TgZ(0,"figure",44)(1,"figcaption",45)(2,"h3",46),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA(),e.TgZ(5,"p",47),e._uU(6),e.ALo(7,"fdTranslate"),e.qZA()()(),e.TgZ(8,"div",48),e.O4$(),e.TgZ(9,"svg",49),e._UZ(10,"path",50)(11,"path",51)(12,"path",52)(13,"path",53)(14,"path",54)(15,"path",55)(16,"path",56),e.qZA()()),2&v){const a=e.oxw();e.Q6J("svgConfig",a._emptyApprovalFlowSpotConfig),e.xp6(3),e.hij(" ",e.lcZ(4,3,"platformApprovalFlow.emptyTitle")," "),e.xp6(3),e.hij(" ",e.lcZ(7,5,"platformApprovalFlow.emptyHint")," ")}}let qe=0;class ze{constructor(n,a,p,i,_){this._dialogService=n,this._cdr=a,this._injector=p,this.providers=i,this._rtlService=_,this.checkDueDate=!1,this.dueDateThreshold=7,this.allowSendRemindersForStatuses=["in progress","not started"],this.isEditAvailable=!1,this.allowAddParallelNodes=!0,this.disableSaveButton=!1,this.disableExitButton=!1,this.nodeClick=new e.vpe,this.afterNodeAdd=new e.vpe,this.afterNodeEdit=new e.vpe,this.valueChange=new e.vpe,this.sendReminders=new e.vpe,this.onDataRequested=new e.vpe,this.onDataReceived=new e.vpe,this._isCarousel=!1,this._graphMetadata={},this._isEditMode=!1,this._usersForWatchersList=[],this._selectedWatchers=[],this._selectedWatcherIds=[],this._messages=[],this._displayUserFn=C.Us,this._userValueFn=C.Tc,this._trackByFn=C.Hg,this._emptyApprovalFlowSpotConfig={spot:{url:"",id:"sapIllus-Spot-NoData"}},this._multipleRootNodes=!1,this._multipleFinalNodes=!1,this._dragDropInProgress=!1,this.approvalFlowUniqueId="fdp-approval-flow-"+ ++qe,this._subscriptions=new l.w0,this._dataSourceChanged$=new x.x,this._getNextHorizontalNode=(f,E,S)=>{const J="right"===S?1:-1,W=this._graph.columns[E+J]?.nodes[f];if(W)return W.blank||W.space?this._getNextHorizontalNode(f,E+J,S):W},this._getNextVerticalNode=(f,E,S)=>{const J="down"===S?1:-1,W=this._graph.columns[E].nodes[f+J];if(W)return W.blank||W.space?this._getNextVerticalNode(f+J,E,S):W}}get approvalProcess(){return(0,pe.Z)(this._approvalProcess)}get _rtl(){return this._rtlService?.rtl.getValue()}get _selectedNodes(){return(0,C.$Q)(this._graph).filter(n=>n.selected)}ngOnInit(){if(!this.userDataSource){const n=this.usersDataProviderEntityKey&&this.providers?.get(this.usersDataProviderEntityKey);n?this.userDataSource=new de._1(n):console.error("Could not resolve users data source")}if(!this.watcherDataSource){const n=this.watchersDataProviderEntityKey&&this.providers?.get(this.watchersDataProviderEntityKey);n?this.watcherDataSource=new de._1(n):console.error("Could not resolve watchers data source")}if(!this.teamDataSource){const n=this.teamsDataProviderEntityKey&&this.providers?.get(this.teamsDataProviderEntityKey);n?this.teamDataSource=new de.L8(n):console.error("Could not resolve teams data source")}this._listenOnResize(),this._setupDataSourceSubscription()}ngOnChanges(n){if(n.value){const a=this.value??{watchers:[],nodes:[]};this._initialApprovalProcess=(0,pe.Z)(a),this._buildView(a)}(n.userDataSource||n.watcherDataSource||n.teamDataSource)&&this._dataSourceChanged$.next()}ngOnDestroy(){this._subscriptions.unsubscribe()}_isNextNodeBlank(n,a,p){const i=this._graph.columns[a+1]?.nodes[p],_=i?.blank,f=this._graphMetadata[i?.id]?.parallelEnd;return!n.blank&&!!_&&!f}_isCdkDragDisabled(n){return!this._isEditMode||n.blank||n.space||"not started"!==n.status}_onNodeClick(n){this._dragDropInProgress||(this._dialogService.open(u.F,{data:{node:n,allowSendReminder:this.allowSendRemindersForStatuses.includes(n.status),...this._defaultDialogOptions}},this._injector).afterClosed.subscribe(p=>{Array.isArray(p)&&this.sendReminders.emit({users:p,node:n})}),this.nodeClick.emit(n))}_onNodeAdd(n){this.afterNodeAdd.emit(n)}_onNodeEdit(n){this.afterNodeEdit.emit(n)}_onNodeSelectionChange(n){this._graph.columns.forEach(a=>{a.nodes.forEach(p=>{p.selected=!!n.selection.find(i=>i.id===p.id)})})}_onWatcherClick(n,a){a.preventDefault(),this._dialogService.open(u.F,{data:{watcher:n,...this._defaultDialogOptions}})}getNodeMetadataByNodeId(n){return this._graphMetadata[n]}nextSlide(n=1){let p=0;p=1===n?this._carouselStepSize*(this._carouselStepsCount-this._carouselStepsRight+1)+(1===this._carouselStepsRight?0:1)-this._graphEl.nativeElement.clientWidth:this._carouselStepSize*(this._carouselStepsLeft-1)-(1===this._carouselStepsLeft?0:1),this._setScrollPosition(p),this._cdr.detectChanges()}_setScrollPosition(n){this._graphContainerEl.nativeElement.scrollTo({left:n,behavior:"smooth"})}_moveColInView(n){const a=this._graphEl.nativeElement.children[n].firstElementChild;if(!a)return;const{x:p,width:i}=a.getBoundingClientRect(),f=p-this._graphContainerEl.nativeElement.getBoundingClientRect().x,E=f+i;f<0?this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+f):E>this._graphEl.nativeElement.clientWidth&&this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+E-this._graphEl.nativeElement.clientWidth)}_onNodeKeyDown(n,a){if(!F.yS$.isKeyCode(n,[T.LH,T.JH,T.SV,T.oh]))return;const{nodeIndex:p,columnIndex:i}=this._graphMetadata[a.id];let _;n.preventDefault(),"number"==typeof p&&"number"==typeof i&&(F.yS$.isKeyCode(n,T.LH)?p>0&&(_=this._getNextVerticalNode(p,i,"up")):F.yS$.isKeyCode(n,T.JH)?_=this._getNextVerticalNode(p,i,"down"):F.yS$.isKeyCode(n,T.oh)?_=this._getNextHorizontalNode(p,i,this._rtl?"right":"left"):F.yS$.isKeyCode(n,T.SV)&&(_=this._getNextHorizontalNode(p,i,this._rtl?"left":"right"))),_&&this._focusNode(_)}_enterEditMode(){this.watcherDataSource.match(),this._editModeInitSub=this.watcherDataSource.open().subscribe(n=>{this._usersForWatchersList=n,this._selectedWatchers=this._approvalProcess.watchers,this._selectedWatcherIds=this._selectedWatchers.map(a=>a.id),this._isEditMode=!0,this._initialApprovalProcess=(0,pe.Z)(this._approvalProcess),this._cdr.detectChanges()}),this._subscriptions.add(this._editModeInitSub)}_saveEditModeChanges(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[];const n={...this._approvalProcess,watchers:this._selectedWatchers};this._buildView(n),this.valueChange.emit(n)}_exitEditMode(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._approvalProcess=(0,pe.Z)(this._initialApprovalProcess),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[],this._buildView(this._approvalProcess)}_watchersSelectionChanged(n){const a=new Set(n);this._selectedWatchers=(0,Ce.Z)(this._selectedWatchers.concat(this._usersForWatchersList).filter(p=>a.has(p.id)),p=>p.id)}_undoLastAction(){this._approvalProcess=(0,pe.Z)(this._previousApprovalProcess),this._previousApprovalProcess=void 0,this._buildView(this._approvalProcess)}_addNode(n,a){this._dialogService.open(A.tf,{data:{nodeTarget:a,showNodeTypeSelect:"before"===a&&!n.actionsConfig?.disableAddParallel,node:Object.assign((0,C.dL)(),{blank:!1}),checkDueDate:this.checkDueDate,...this._defaultDialogOptions}},this._injector).afterClosed.subscribe(_=>{if(!_)return;const{node:f,nodeType:E,toNextSerial:S}=_;if(f){switch(this._cacheCurrentApprovalProcess(),f.id=`tempId${(1e3*Math.random()).toFixed()}`,a){case"empty":this._enterEditMode();break;case"before":E===A.P2.SERIAL&&(f.targets=[n.id],this._replaceTargets(n.id,[f.id])),E===A.P2.PARALLEL&&this._processAddingParallelNode(f,n,S);break;case"before-all":f.targets=this._graph.columns[0].nodes.map(J=>J.id);break;case"after":f.targets=n.targets,n.targets=[f.id];break;case"after-all":this._graphMetadata[n.targets[0]]?.parents?(f.targets=n.targets,this._replaceTargets(n.id,[f.id]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter($=>$.id!==n.id)):this._graph.columns[this._graph.columns.length-1].nodes.forEach($=>$.targets.push(f.id));break;case"parallel":this._processAddingParallelNode(f,n,S)}this._showMessage(f.approvalTeamId?"teamAddSuccess":"approverAddSuccess"),this._approvalProcess.nodes.push(f),this._buildView(this._approvalProcess),this._onNodeAdd(f)}})}_editNode(n){this._dialogService.open(A.tf,{data:{isEdit:!0,node:Object.assign({},n),checkDueDate:this.checkDueDate,...this._defaultDialogOptions}},this._injector).afterClosed.subscribe(p=>{const i=p?.node;i&&(this._cacheCurrentApprovalProcess(),this._updateNode(i),this._showMessage("nodeEdit"),this._buildView(this._approvalProcess),this._onNodeEdit(n))})}_onNodeDelete(n){this._cacheCurrentApprovalProcess(),this._deleteNode(n),this._showMessage(n.approvalTeamId?"teamRemove":"nodeRemove"),this._buildView(this._approvalProcess)}_deleteSelectedNodes(){this._cacheCurrentApprovalProcess(),this._nodeComponents.filter(a=>a._isSelected).map(a=>a.node).forEach(a=>{this._deleteNode(a),this._buildView(this._approvalProcess)}),this._showMessage("nodesRemove")}_onNodeDragMoved(n){const a=this._nodeComponents.find(p=>p.node===n)?._nativeElement.getBoundingClientRect();a&&this._nodeComponents.forEach(p=>{p.node!==n&&Boolean(p._dropZones.length)&&p._checkIfNodeDraggedInDropZone(a)})}_onNodeDrop(n,a){a.reset(),setTimeout(()=>this._dragDropInProgress=!1);const p=this._nodeComponents.find(_=>_._isAnyDropZoneActive);if(!p)return;this._cacheCurrentApprovalProcess();const i=p._activeDropZones[0].placement;if(this._nodeComponents.forEach(_=>_._deactivateDropZones()),"after"===i){this._deleteNode(n),this._buildView(this._approvalProcess);const _=(0,C.$Q)(this._graph).find(f=>f.id===p.node.targets[0]);_?.blank&&(this._deleteNode(_),this._buildView(this._approvalProcess)),n.targets=this._approvalProcess.nodes.find(f=>f.id===p.node.id)?.targets??[],p.node.targets=[n.id],this._finishDragDropProcess(n)}else"before"===i?this._dialogService.open(R.h,void 0,this._injector).afterClosed.subscribe(f=>{if(!f)return;const{type:E,toNextSerial:S}=f;this._deleteNode(n),this._buildView(this._approvalProcess),E===A.P2.SERIAL&&(this._replaceTargets(p.node.id,[n.id]),n.targets=[p.node.id]),E===A.P2.PARALLEL&&this._processAddingParallelNode(n,p.node,S),this._finishDragDropProcess(n)}):"before-all"===i?(this._deleteNode(n),n.targets=this._graph.columns[0].nodes.map(f=>f.id),this._finishDragDropProcess(n)):"after-all"===i&&(this._deleteNode(n),this._buildView(this._approvalProcess),n.targets=[...p.node.targets],0===p.node.targets.length?this._graph.columns[this._graph.columns.length-1].nodes.forEach(f=>f.targets.push(n.id)):(this._approvalProcess.nodes=this._approvalProcess.nodes.filter(_=>_.id!==p.node.id),this._replaceTargets(p.node.id,[n.id])),this._finishDragDropProcess(n))}_finishDragDropProcess(n){this._approvalProcess.nodes.push(n),this._buildView(this._approvalProcess)}_showMessage(n){this._messages=[{type:n}]}_buildView(n){if(n.nodes||(n.nodes=[]),n.watchers||(n.watchers=[]),this._approvalProcess=n,this._graph=function Y(v){const n={columns:[],errors:!1};if(!v.length)return n;const a=function G(v){return v.filter(n=>v.every(a=>!(0,C.KY)(a,n.id)))}(v),p=function oe(v){return v.filter(n=>!n.targets.length)}(v);if(!a.length||!p.length)return console.warn("Err: Not possible to build graph because root or final nodes aren't present!"),n.errors=!0,n;const i=function K(v,n){const a=[],p=[];for(let i=0;i<v.length;i++)for(p.push([v[i]]);p.length;){const _=p.pop();let f;if(_&&(f=_[_.length-1]),!f)return[];f.targets.length?f.targets.forEach(E=>{const S=n.find($=>$.id===E);if(!S)return;const J=[..._,S];p.push(J)}):a.push(_)}return a}(a,v);if(!i.length)return console.warn("Err: Not possible to build graph!"),n.errors=!0,n;const _=function q(v){const n=[];return v.forEach(a=>{let p=a.length-1;for(let i=a.length-1;i>0&&a[i].blank;--i)p=i-1;a[p].targets=[],n.push(a.slice(0,p+1))}),n}(i),f=function te(v){const n=[],a=v.map(i=>i.length),p=Math.max(...a);return v.forEach(i=>{i.length!==p?(i.forEach((_,f)=>{let E=function ae(v,n){const a=[],p=n.find(i=>{const _=i.indexOf(v);return _>-1&&i[_+1]?.blank});if(p){const i=p.indexOf(v)+1,_=p.findIndex((f,E)=>E>i&&!f.blank);a.push(...p.slice(i,_>0?_:void 0))}return a}(_,n);if(E.length&&E[0].id!==i[f+1]?.id)return void i.splice(f+1,0,...E);const S=v.map($=>$.indexOf(_)),J=Math.max(...S);return f<J?(E=O(J-f,i[f-1].status),E[E.length-1].targets=[_.id],i[f-1].targets=[E[0].id],void i.splice(f,0,...E)):f===J&&f===i.length-1?(E=O(p-i.length,i[f].status),i[f].targets=[E[0].id],void i.splice(f+1,0,...E)):void 0}),n.push(i)):n.push(i)}),n}(_),E=function B(v){if(1===v.length)return v;let n=[],a=0;v.forEach((_,f)=>{for(let E=0;E<v.length;E++)if(f!==E&&!n.some(S=>f===S[1]&&E===S[0])){a=0;for(let S=0;S<_.length;S++)_[S].id===v[E][S].id&&a++;n.push([f,E,a])}}),n=n.sort((_,f)=>_[2]>f[2]?-1:1);const p=[],i=[];return n.forEach(_=>{p.some(f=>f===_[0])||(i.push(v[_[0]]),p.push(_[0])),p.some(f=>f===_[1])||(i.push(v[_[1]]),p.push(_[1]))}),i}(f),S=function M(v){const n=[];return v.forEach((a,p)=>{a.forEach(i=>{v.forEach((_,f)=>{f!==p&&_.indexOf(i)>-1&&_.splice(_.indexOf(i),1,(0,C.Ju)())})}),n.push(a)}),n}(E),J=function j(v){return v.reduce((n,a)=>(a.every(p=>p.space)||n.push(a),n),[])}(S),$=function V(v){const n=[];let a=[];for(let p=0;p<v[0].length;p++){a=[];for(let i=0;i<v.length;i++)a.push(v[i][p]);n.push(a)}return n}(J),W=function le(v){const n=[];return v.forEach(a=>{let p;for(let i=a.length-1;i>=0;i--)if(!a[i].space){p=i;break}n.push(p<a.length?a.slice(0,p+1):a)}),n}($),se=function he(v){const n=[];return v.forEach(a=>{a.every(i=>i.blank||i.space)?a.forEach(i=>{i.blank&&function we(v,n,a){a.forEach(p=>{p.forEach(i=>{(0,C.KY)(i,v)&&(i.targets=i.targets.filter(_=>_!==v),i.targets.push(...n))})})}(i.id,i.targets,v)}):n.push(a)}),n}(W);return n.columns=function ve(v){const n=[];return v.forEach((a,p)=>{a.forEach(i=>i.colIndex=p),n.push({nodes:a,index:p,allNodesApproved:a.every(i=>(0,C.aC)(i))})}),n}(se),n}(this._approvalProcess.nodes),this._graph.errors)return void this._showMessage("error");this._graphMetadata=function ee(v){const n=(0,C.$Q)(v),a={};return v.columns.forEach((p,i)=>{p.nodes.forEach((_,f)=>{const E=(0,C.u$)(_,n),S=!!E.length&&E.every(ue=>(0,C.aC)(ue)),J=!E.length&&!_.space,$=!_.targets.length&&!_.space,W=E.length>1,se=0===i&&p.nodes.length>1&&0===f,me=i===v.columns.length-1&&p.nodes.length>1&&0===f;a[_.id]={parents:E,isRoot:J,isFinal:$,parallelStart:_.targets.length>1,parallelEnd:W,columnIndex:i,nodeIndex:f,canAddNodeBefore:!(0,C._3)(_)&&!S,canAddNodeBeforeAll:J&&se,canAddNodeAfter:!(0,C.aC)(_),canAddNodeAfterAll:!(0,C.aC)(_)&&($&&me||W&&_.blank),canAddParallel:!(0,C.aC)(_),isVerticalLineBeforeSolid:_.space&&v.columns[i-1]?.allNodesApproved,isVerticalLineAfterSolid:_.space&&p.allNodesApproved,firstOfMultipleRootNodes:se,firstOfMultipleFinalNodes:me,rootNodesApproved:0===i&&p.allNodesApproved}})}),v.columns.forEach(p=>{p.nodes.forEach((i,_)=>{const f=a[i.id];f.isLastInParallel=a[i.targets[0]]?.parallelEnd,f.isFirstInParallel=a[f.parents[0]?.id]?.parallelStart;const E=p.index,S=E?v.columns[E-1]:void 0,J=E?v.columns[E+1]:void 0,$=S?.nodes[_],W=J?.nodes[_];f.renderAddNodeAfterButton=f.canAddNodeAfter&&(f.isFinal||f.parallelStart||f.isLastInParallel||W?.blank);const se=J?.nodes;if(f.parallelStart&&se){const ue=se.filter(ce=>i.targets.includes(ce.id)),Ye=se.findIndex(ce=>ce.id===ue[0].id),fe=se.findIndex(ce=>ce.id===ue[ue.length-1].id);for(let ce=Ye+1;ce<=fe;ce++)a[se[ce].id].renderVerticalLineBefore=!0}const me=S?.nodes;if(f.parallelEnd&&me){const ue=me.findIndex(fe=>fe.id===f.parents[0].id),Ye=me.findIndex(fe=>fe.id===f.parents[f.parents.length-1].id);for(let fe=ue+1;fe<=Ye;fe++)a[me[fe].id].renderVerticalLineAfter=!0}f.renderVerticalLineBefore=!!f.renderVerticalLineBefore||_>0&&!$,f.renderVerticalLineAfter=!!f.renderVerticalLineAfter||_>0&&!W})}),a}(this._graph);const a=(0,C.$Q)(this._graph);this._approvalProcess.nodes=a.filter(p=>!p.space),this._multipleRootNodes=a.filter(p=>this._graphMetadata[p.id].isRoot).length>1,this._multipleFinalNodes=a.filter(p=>this._graphMetadata[p.id].isFinal).length>1,this._cdr.detectChanges(),this._gridList?.clearSelection(),this._isEditMode||this._setScrollPosition(0)}_listenOnResize(){this._subscriptions.add((0,w.T)((0,o.R)(window,"resize"),(0,o.R)(this._graphContainerEl.nativeElement,"scroll")).pipe((0,Z.p)(50,void 0,{leading:!0,trailing:!0})).subscribe(()=>{this._cdr.detectChanges()}))}_focusNode(n){const a=this._nodeComponents.find(p=>p.node===n);a&&(this._moveColInView(n.colIndex??0),a._focus({preventScroll:!0}))}_updateNode(n){const a=this._approvalProcess.nodes.findIndex(p=>p.id===n.id);a>-1&&(this._approvalProcess.nodes[a]=n)}_deleteNode(n){const a=[n],p=(0,C.$Q)(this._graph);let _,i=p.find(W=>W.id===n.id);do{1===i?.targets.length&&(_=p.find(W=>W.id===i?.targets[0]),_?.blank&&1===this._graphMetadata[_.id].parents.length&&(a.push(_),i=_,_=p.find(W=>W.id===i?.targets[0])))}while(_?.blank&&1===this._graphMetadata[_.id].parents.length);const S=this._graphMetadata[this._graphMetadata[n.id].parents[0]?.id]?.parallelStart,J=this._graphMetadata[n.targets[0]]?.parallelEnd;this._replaceTargets(n.id,S&&J||a.length>1?[]:i?.targets??[]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(W=>!a.includes(W))}_addParallelTargets(n,a){this._approvalProcess.nodes.forEach(p=>{(0,C.KY)(p,n)&&p.targets.push(a)})}_replaceTargets(n,a){this._approvalProcess.nodes.forEach(p=>{(0,C.KY)(p,n)&&(p.targets=p.targets.filter(i=>i!==n),p.targets.push(...a))})}_cacheCurrentApprovalProcess(){this._previousApprovalProcess=(0,pe.Z)(this._approvalProcess)}get _carouselStepSize(){return this._graphEl.nativeElement.scrollWidth/this._carouselStepsCount}get _scrollDiff(){return this._graphEl?this._graphEl.nativeElement.scrollWidth-this._graphEl.nativeElement.clientWidth:0}get _carouselStepsCount(){return this._graphEl.nativeElement.children.length}get _carouselStepsLeft(){return Math.ceil(this._graphContainerEl.nativeElement.scrollLeft/this._carouselStepSize)}get _carouselStepsRight(){return Math.ceil((this._scrollDiff-Math.round(this._graphContainerEl.nativeElement.scrollLeft))/this._carouselStepSize)}get _defaultDialogOptions(){return{teamDataSource:this.teamDataSource,userDataSource:this.userDataSource,userDetailsTemplate:this.userDetailsTemplate,rtl:this._rtl}}_findSerialNode(n,a){if(Number.isInteger(n)&&a?.some(_=>{const f=this._graphMetadata[_]?.nodeIndex;return Number.isInteger(f)&&f<=n-1}))return a??[];const i=this._approvalProcess.nodes.find(_=>_.id===a?.[0]);return this._findSerialNode(n,i?.targets)}_processAddingParallelNode(n,a,p=!1){if(n.targets=a.targets,this._addParallelTargets(a.id,n.id),p){let i=this._graphMetadata[a.id].nodeIndex,_=a.targets;if(0===i){const S=this._graph.columns?.[this._graphMetadata[a.id].columnIndex]?.nodes.find((J,$)=>$>0&&!J.space);return S?(i=this._graphMetadata[S.id].columnIndex,_=S.targets,void(n.targets=this._findSerialNode(i,_))):void(n.targets=a.targets)}n.targets=this._findSerialNode(i,_)}}_setupDataSourceSubscription(){const n=this._dataSourceChanged$.pipe((0,L.O)(null),(0,Q.w)(()=>{const a=[this.teamDataSource,this.userDataSource,this.watcherDataSource].filter(Boolean).map(p=>(0,w.T)(p.onDataRequested().pipe((0,z.h)(!0)),p.onDataReceived().pipe((0,z.h)(!1))).pipe((0,L.O)(p.isDataLoading)));return(0,I.a)(a)}),(0,H.U)(a=>a.some(Boolean)),(0,y.x)()).subscribe(a=>{a?this.onDataRequested.emit():this.onDataReceived.emit()});this._subscriptions.add(n)}}ze.\u0275fac=function(n){return new(n||ze)(e.Y36(g.xA),e.Y36(e.sBO),e.Y36(e.zs3),e.Y36(de.Or,8),e.Y36(F.qFd,8))},ze.\u0275cmp=e.Xpm({type:ze,selectors:[["fdp-approval-flow"]],viewQuery:function(n,a){if(1&n&&(e.Gf(ne,5),e.Gf(re,5),e.Gf(_e,5),e.Gf(h.D,5)),2&n){let p;e.iGM(p=e.CRH())&&(a._graphContainerEl=p.first),e.iGM(p=e.CRH())&&(a._graphEl=p.first),e.iGM(p=e.CRH())&&(a._gridList=p.first),e.iGM(p=e.CRH())&&(a._nodeComponents=p)}},inputs:{title:"title",value:"value",userDataSource:"userDataSource",watcherDataSource:"watcherDataSource",teamDataSource:"teamDataSource",userDetailsTemplate:"userDetailsTemplate",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allowSendRemindersForStatuses:"allowSendRemindersForStatuses",isEditAvailable:"isEditAvailable",watchersLabel:"watchersLabel",allowAddParallelNodes:"allowAddParallelNodes",disableSaveButton:"disableSaveButton",disableExitButton:"disableExitButton",usersDataProviderEntityKey:"usersDataProviderEntityKey",teamsDataProviderEntityKey:"teamsDataProviderEntityKey",watchersDataProviderEntityKey:"watchersDataProviderEntityKey"},outputs:{nodeClick:"nodeClick",afterNodeAdd:"afterNodeAdd",afterNodeEdit:"afterNodeEdit",valueChange:"valueChange",sendReminders:"sendReminders",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},features:[e.TTD],decls:13,vars:10,consts:[["fdCompact",""],[3,"messages","undoLastActionAvailable","messagesChange","undoLastAction"],[1,"fdp-approval-flow__toolbar",3,"selectionMode","selectionChange"],["gridList",""],[3,"title"],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes",4,"ngIf"],["class","fdp-approval-flow__watchers",4,"ngIf"],[4,"ngIf"],["fd-bar","",4,"ngIf"],["emptyApprovalFlowGraph",""],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes"],[1,"fdp-approval-flow__watchers"],[1,"fdp-approval-flow__watchers-title"],["class","fdp-approval-flow__watchers-input-container",4,"ngIf"],["size","xs",3,"image","label","clickable","circle","avatarClicked",4,"ngFor","ngForOf","ngForTrackBy"],["size","xs",3,"image","label","clickable","circle","avatarClicked"],[1,"fdp-approval-flow__watchers-input-container"],[3,"dropdownValues","placeholder","displayFn","valueFn","showAllButton","ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],[1,"fdp-approval-flow__container"],["class","fdp-approval-flow-carousel-controls",3,"fdp-approval-flow-carousel-controls--edit-mode",4,"ngIf"],[1,"fdp-approval-flow__graph-container"],["graphContainerEl",""],[1,"fdp-approval-flow__graph"],["graphEl",""],["class","fdp-approval-flow__graph-column",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-carousel-controls"],["class","fdp-approval-flow-carousel-controls__button--prev-slide",3,"click",4,"ngIf"],["class","fdp-approval-flow-carousel-controls__button--next-slide",3,"click",4,"ngIf"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide",3,"click"],[3,"glyph"],[1,"fdp-approval-flow-carousel-controls__button--next-slide",3,"click"],[1,"fdp-approval-flow__graph-column"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved"],["approvalFlowNode",""],["type","active",1,"fdp-approval-flow__graph-node-inner",3,"value","selected","ariaLabelledBy","disableToolbarClick","press"],["fd-grid-list-item-image","","size","xs",3,"image","label","circle"],["fd-grid-list-item-body",""],[3,"ngTemplateOutlet"],["fd-bar",""],["fd-bar-right",""],["fd-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fdType","transparent",3,"label","disabled","click"],["fd-illustrated-message","","type","spot",3,"svgConfig"],["fd-illustrated-message-figcaption",""],["fd-illustrated-message-title",""],["fd-illustrated-message-text",""],[2,"display","none"],["xmlns","http://www.w3.org/2000/svg","width","128","height","128","viewBox","0 0 128 128","id","sapIllus-Spot-NoData"],["d","M41.6179,32.7174H84.6273a1,1,0,0,1,.723.3092l7.2445,7.5824,7.4817,7.8491a1,1,0,0,1,.2761.69l-.0046,55.6069a4.1038,4.1038,0,0,1-.8787,2.1212A4.0564,4.0564,0,0,1,98.1,107.9631l-56.3858.0313a2.6167,2.6167,0,0,1-3.0812-3.2309l-.0152-69.0594Z",1,"sapIllus_PatternShadow",2,"fill","var(--sapIllus_PatternShadow)"],["d","M35.7928,27.4987H78.8022a1,1,0,0,1,.723.3092L86.77,35.39l7.4816,7.8492a1,1,0,0,1,.2762.69l-.0046,55.6069a3,3,0,0,1-3,3H35.808a2.9946,2.9946,0,0,1-3-2.9913c-.01-12.0564-.0423-57.0116-.0152-69.0595A2.9943,2.9943,0,0,1,35.7928,27.4987Z",1,"sapIllus_ObjectFillColor",2,"fill","var(--sapIllus_ObjectFillColor)"],["d","M93.2978,44.5335H78.8208a.9925.9925,0,0,1-.974-1.01V28.5108a.97.97,0,0,1,1.6628-.7143L93.9865,42.8092A1.0151,1.0151,0,0,1,93.2978,44.5335Z",1,"sapIllus_BrandColorSecondary",2,"fill","var(--sapIllus_BrandColorSecondary)"],["d","M104.608,38.9485l5.9157-1.7721c1.32-.3954.7584-2.5258-.5689-2.1282L104.0392,36.82c-1.32.3953-.7584,2.5258.5688,2.1282Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M85.2973,21.2465l.9718-5.9331c.2154-1.3151-1.777-1.8807-1.9941-.5554l-.9718,5.9332c-.2155,1.3151,1.777,1.8807,1.9941.5553Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M95.3034,29.0015a1.01,1.01,0,0,1-.6837-.267,1.0783,1.0783,0,0,1-.0864-1.4932l5.9511-6.8857a1.01,1.01,0,0,1,1.4538-.0884,1.0785,1.0785,0,0,1,.0865,1.4932l-5.9511,6.8858A1.0164,1.0164,0,0,1,95.3034,29.0015Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M94.8747,42.8861,80.0855,27.4623a1.5152,1.5152,0,0,0-1.0885-.4636H35.807a3.509,3.509,0,0,0-3.5146,3.4836c-.0294,13.2857.0137,66.7559.0157,69.0257a3.5076,3.5076,0,0,0,3.5146,3.4894H91.7709a3.5106,3.5106,0,0,0,3.5146-3.4982l.005-55.5785A1.49,1.49,0,0,0,94.8747,42.8861Zm-16.21-14.8355a1.15,1.15,0,0,1,.2561-.0309,1.04,1.04,0,0,1,.51.2134l14.276,14.8837.0194.02a.5891.5891,0,0,1,.0968.6251c-.1016.1764-.4086.24-.69.24L78.8355,44a.6031.6031,0,0,1-.5472-.6131c-.0087-4.9588-.017-9.9015-.0035-14.8689A.5189.5189,0,0,1,78.6646,28.0506Zm13.1062,73.95H35.8188a2.5045,2.5045,0,0,1-2.5107-2.491c-.002-2.2694-.0451-55.74-.0157-69.0248a2.5054,2.5054,0,0,1,2.5107-2.4861H77.3684a1.49,1.49,0,0,0-.0976.5106V43.4934A1.5145,1.5145,0,0,0,78.7894,45H78.92L94.286,47.9749l-.0046,51.5269A2.5074,2.5074,0,0,1,91.7708,102.0006Z",1,"sapIllus_StrokeDetailColor",2,"fill","var(--sapIllus_StrokeDetailColor)"]],template:function(n,a){1&n&&(e.ynx(0,0),e.TgZ(1,"fdp-approval-flow-messages",1),e.NdJ("messagesChange",function(i){return a._messages=i})("undoLastAction",function(){return a._undoLastAction()}),e.qZA(),e.TgZ(2,"fd-grid-list",2,3),e.NdJ("selectionChange",function(i){return a._onNodeSelectionChange(i)}),e.TgZ(4,"fd-grid-list-title-bar",4),e.ALo(5,"fdTranslate"),e._UZ(6,"fd-grid-list-title-bar-spacer"),e.YNc(7,c,1,4,"fdp-approval-flow-toolbar-actions",5),e.qZA(),e.YNc(8,d,6,6,"div",6),e.YNc(9,Ve,2,2,"ng-container",7),e.qZA(),e.YNc(10,$e,8,8,"div",8),e.YNc(11,Xe,17,7,"ng-template",null,9,e.W1O),e.BQk()),2&n&&(e.xp6(1),e.Q6J("messages",a._messages)("undoLastActionAvailable",!!a._previousApprovalProcess),e.xp6(1),e.Q6J("selectionMode",a._isEditMode?"multiSelect":"none"),e.xp6(2),e.Q6J("title",a.title||e.lcZ(5,8,"platformApprovalFlow.defaultTitle")),e.xp6(3),e.Q6J("ngIf",a.isEditAvailable),e.xp6(1),e.Q6J("ngIf",(null==a._approvalProcess||null==a._approvalProcess.watchers?null:a._approvalProcess.watchers.length)||a._isEditMode),e.xp6(1),e.Q6J("ngIf",!a._graph.errors),e.xp6(1),e.Q6J("ngIf",a._isEditMode))},dependencies:[ge.sg,ge.O5,ge.tP,Ae.JJ,Ae.On,Te.A,be.R,xe.M,Ee.J,Me.$,De.r,Ne.o,Se.o,Fe.O,ye.L,Ie.a,Pe.n,Le.s,Oe.D,Be.L,ke.Zt,Ze.z,Ue.N,Re.I,Je.C,h.D,Qe.S,Ke.h,We.n],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-scrollbar{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:auto;padding:0;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-scrollbar:after,.fd-scrollbar:before{box-sizing:inherit;font-size:inherit}.fd-scrollbar.is-focus,.fd-scrollbar:focus{outline:none;z-index:5}.fd-scrollbar::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-scrollbar::-webkit-scrollbar-corner,.fd-scrollbar::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-scrollbar::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-scrollbar::-webkit-scrollbar-thumb:active,.fd-scrollbar::-webkit-scrollbar-thumb:hover{box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-scrollbar--container::-webkit-scrollbar-corner,.fd-scrollbar--container::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color);border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-corner,.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-corner,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.fdp-approval-flow__watchers{margin-bottom:.5rem;padding-left:.5rem}.fdp-approval-flow__watchers-title{font-size:.875em;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin:1rem 0 .5rem}.fdp-approval-flow__watchers fd-avatar{margin-right:.5rem;cursor:pointer}.fdp-approval-flow__watchers fd-avatar:focus{outline-offset:.0625rem;outline-width:.0625rem;outline-style:dotted;outline-color:var(--sapContent_FocusColor, #0854a0)}.fdp-approval-flow__watchers .fdp-approval-flow__watchers-input-container{width:17.375rem}[dir=rtl] .fdp-approval-flow__watchers,.fdp-approval-flow__watchers[dir=rtl]{padding-right:.5rem}[dir=rtl] .fdp-approval-flow__watchers fd-avatar,.fdp-approval-flow__watchers[dir=rtl] fd-avatar{margin-left:.5rem;margin-right:0}.fdp-approval-flow__container{max-width:100%;position:relative;padding:0 .5rem}.fdp-approval-flow__container--extra-padding-start{padding-left:2rem}.fdp-approval-flow__container--extra-padding-end{padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start{padding-left:.5rem;padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-end{padding-right:.5rem;padding-left:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end{padding-right:2rem;padding-left:2rem}.fdp-approval-flow__graph-container{position:relative;overflow:auto;padding-top:.5rem;padding-bottom:2rem;padding-left:2rem}.fdp-approval-flow__graph-container--multiple-root-nodes{padding-left:4rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-root-nodes,.fdp-approval-flow__graph-container--multiple-root-nodes[dir=rtl]{padding-right:2rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-final-nodes,.fdp-approval-flow__graph-container--multiple-final-nodes[dir=rtl]{padding-left:0}.fdp-approval-flow-carousel-controls{position:absolute;display:flex;align-items:center;width:100%;height:6.375rem;padding-top:.5rem;left:0}.fdp-approval-flow-carousel-controls--edit-mode{height:8.375rem}.fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--next-slide{position:absolute;border:none;background:transparent;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);display:flex;justify-content:space-between;width:2rem;align-items:center;cursor:pointer}.fdp-approval-flow-carousel-controls__button--prev-slide fd-icon,.fdp-approval-flow-carousel-controls__button--next-slide fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;top:.0625rem}.fdp-approval-flow-carousel-controls__button--prev-slide{left:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--prev-slide[dir=rtl]{left:auto;right:0}.fdp-approval-flow-carousel-controls__button--next-slide{right:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--next-slide,.fdp-approval-flow-carousel-controls__button--next-slide[dir=rtl]{left:0;right:auto}.fdp-approval-flow__graph{display:flex;align-items:flex-start;position:relative;left:0;transition:left .3s}.fdp-approval-flow__graph-column{margin-right:4rem;position:relative}[dir=rtl] .fdp-approval-flow__graph-column:first-child,.fdp-approval-flow__graph-column[dir=rtl]:first-child{margin-right:2rem}.fdp-approval-flow__graph fdp-approval-flow-node+fdp-approval-flow-node:not(:last-child){margin-bottom:1rem}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner{padding:0}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content{margin-left:auto}[dir=rtl] .fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content,.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content[dir=rtl]{margin-left:0;margin-right:auto}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--actions{display:none}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner:not(.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner--edit) .fd-toolbar.fd-grid-list__item-toolbar{display:none}.cdk-overlay-container{z-index:1002!important}\n"],encapsulation:2,changeDetection:0})},40790:(X,P,t)=>{function e(y){return"approved"===y.status}function T(y){return"not started"!==y.status}function l(y){return y?.name}function x(y){return y?.name}function w(y){return y?.id}function o(y,F){return y.name.toLowerCase().indexOf(F.toLowerCase())>-1}function I(y,F){return F?.id??y}function Z(y){return y.columns.reduce((F,N)=>F.concat(N.nodes),[])}function L(y,F){return F.filter(N=>H(N,y.id))}function Q(){return{id:`blankId${(1e3*Math.random()).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",blank:!0}}function z(){return{id:`spaceId${(1e3*Math.random()).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",space:!0}}function H(y,F){return y.targets.includes(F)}t.d(P,{$Q:()=>Z,Bw:()=>l,Hg:()=>I,Ju:()=>z,KY:()=>H,TV:()=>o,Tc:()=>w,Us:()=>x,_3:()=>T,aC:()=>e,dL:()=>Q,u$:()=>L})},60077:(X,P,t)=>{t.d(P,{KF:()=>e.K,vU:()=>q});var e=t(96153),T=t(36895),l=t(90433),x=t(73555),w=t(13246),o=t(59052),I=t(14257),Z=t(72738),L=t(43357),Q=t(91551),z=t(10826),H=t(62389),y=t(80686),F=t(70494),N=t(44604),g=t(39650),u=t(15067),h=t(78249),A=t(89146),C=t(30087),R=t(99778),Y=t(31358),ee=t(9866),G=t(96833),oe=t(2215),K=t(94650);class q{}q.\u0275fac=function(de){return new(de||q)},q.\u0275mod=K.oAB({type:q}),q.\u0275inj=K.cJS({providers:[G.E],imports:[T.ez,l.u5,w.Fx,o.Fh,I.hJ,y.QX,H.Tw,Q.Su,R.t,ee._d,ee.Ep,Y.K2,u.Qj,g.H,Z.nD,oe.LU,N.$9,A.An,L.I$,C.UH,z.ej,x._t,h.dU,F.bz]}),t(50639),t(29877),t(30366),t(19731),t(17226),t(99749),t(46067),t(28325),t(79600),t(77762)},96833:(X,P,t)=>{t.d(P,{E:()=>l,n:()=>T});var e=t(94650),T=(()=>{return(x=T||(T={})).SELECT_TEAM="SELECT_TEAM",x.SELECT_USER="SELECT_USER",x.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",x.USER_DETAILS="USER_DETAILS",T;var x})();class l{constructor(){this.onViewChange=new e.vpe}get isUserDetailsMode(){return this.currentView===T.USER_DETAILS}get isTeamMembersMode(){return this.currentView===T.VIEW_TEAM_MEMBERS}get isSelectUserMode(){return this.currentView===T.SELECT_USER}get isSelectTeamMode(){return this.currentView===T.SELECT_TEAM}get team(){return this.selectedTeam}setCurrentView(w){this.currentView=w,this.onViewChange.emit()}resetView(){this.currentView=void 0,this.onViewChange.emit()}selectTeam(w){this.selectedTeam=w}resetTeam(){this.selectedTeam=void 0}}l.\u0275fac=function(w){return new(w||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac})}}]);