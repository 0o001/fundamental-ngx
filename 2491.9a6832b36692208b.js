"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2491],{4133:(z,I,i)=>{i.r(I),i.d(I,{PlatformApprovalFlowDocsModule:()=>b});var P=i(64575),B=i(71467),U=i(15067),k=i(60505),v=i(60077),M=i(25900),f=i(370),j=i(86418),e=i(94650),N=i(10728),T=i(38631),_=i(48208),J=i(82861),y=i(67604),w=i(19086),S=i(62448);class m{}m.\u0275fac=function(l){return new(l||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["fd-approval-flow-header"]],decls:19,vars:2,consts:[["type","warning",3,"dismissible"],["label","SAP Ariba Component","title","SAP Ariba Component","color","8"],["module","PlatformApprovalFlowModule","subPackage","approval-flow"],[3,"hasI18n"]],template:function(l,t){1&l&&(e.TgZ(0,"fd-doc-page")(1,"header"),e._uU(2,"Approval Flow"),e.qZA(),e.TgZ(3,"fd-message-strip",0),e._uU(4," DEPRECATED. The component is not a standard SAP Design System component. "),e.qZA(),e._UZ(5,"fd-info-label",1),e.TgZ(6,"description"),e._uU(7," The Approval Flow component is a complex component which tracks and manages the approval process for a business object. From the Approval Flow component a user is able to: "),e.TgZ(8,"ul")(9,"li"),e._uU(10,"See the progress of the approval process"),e.qZA(),e.TgZ(11,"li"),e._uU(12,"Add, edit, move (drag and drop) and delete approvers"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"Add and remove watchers"),e.qZA(),e.TgZ(15,"li"),e._uU(16,"Send reminder notifications to approvers"),e.qZA()()(),e._UZ(17,"import",2)(18,"fd-header-tabs",3),e.qZA()),2&l&&(e.xp6(3),e.Q6J("dismissible",!1),e.xp6(15),e.Q6J("hasI18n",!0))},dependencies:[N.k,T.G,_.c,J.w,y.h,w.e,S.i]});var D=i(42215),R=i(7754),L=i(5592),q=i(49505),Z=i(50727),u=i(39646),Q=i(91005),h=i(91591),g=i(46698),c=i(90433),C=i(36895),G=i(30514),W=i(96153),H=i(94834);const ee=["reminderTemplate"];function te(n,l){if(1&n&&(e.TgZ(0,"p",27)(1,"span"),e._uU(2,"Mobile"),e.qZA(),e.TgZ(3,"a",28),e._uU(4),e.qZA()()),2&n){const t=e.oxw().data;e.xp6(3),e.Q6J("href","tel:"+t.phone,e.LSH),e.xp6(1),e.Oqu(t.phone)}}function ae(n,l){if(1&n&&(e.TgZ(0,"p",27)(1,"span"),e._uU(2,"Phone"),e.qZA(),e.TgZ(3,"a",28),e._uU(4),e.qZA()()),2&n){const t=e.oxw().data;e.xp6(3),e.Q6J("href","tel:"+t.phone,e.LSH),e.xp6(1),e.Oqu(t.phone)}}function oe(n,l){if(1&n&&(e.TgZ(0,"p",27)(1,"span"),e._uU(2,"E-mail"),e.qZA(),e.TgZ(3,"a",28),e._uU(4),e.qZA()()),2&n){const t=e.oxw().data;e.xp6(3),e.Q6J("href","mailto:"+t.email,e.LSH),e.xp6(1),e.Oqu(t.email)}}function ne(n,l){if(1&n&&(e.TgZ(0,"h4",24),e._uU(1,"Contact info"),e.qZA(),e.YNc(2,te,5,2,"p",25),e.YNc(3,ae,5,2,"p",25),e.YNc(4,oe,5,2,"p",25),e.TgZ(5,"h4",26),e._uU(6,"Company"),e.qZA(),e.TgZ(7,"p",27)(8,"span"),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"p",27)(13,"span"),e._uU(14,"Address"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"481 West Street, Anytown OH, 83749, USA"),e.qZA()()),2&n){const t=l.data;e.xp6(2),e.Q6J("ngIf",null==t?null:t.phone),e.xp6(1),e.Q6J("ngIf",null==t?null:t.phone),e.xp6(1),e.Q6J("ngIf",null==t?null:t.email),e.xp6(7),e.hij("Company A",null==t?null:t.email,"")}}function le(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" Reminder has been sent to ",t.data.targets[0].name," ")}}function ie(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.AsE(" Reminder has been sent to ",t.data.targets.length," members of ",t.data.node.description," ")}}function de(n,l){if(1&n&&(e.YNc(0,le,2,1,"ng-container",29),e.YNc(1,ie,1,2,"ng-template",null,30,e.W1O)),2&n){const t=l.$implicit,o=e.MAs(2);e.Q6J("ngIf",1===t.data.targets.length)("ngIfElse",o)}}function se(n,l){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}class F{constructor(l){this._messageToastService=l,this.graphs=fe(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new h._1(new K),this.watcherDataSource=new h._1(new K),this.teamDataSource=new h.L8(new _e),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected"],this.sendReminderStatuses=["in progress","not started"],this.disableSaveButton=!1,this.disableExitButton=!1,this._subscriptions=new Z.w0,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(l){console.log("valueChanged",l)}sendReminders(l){this._messageToastService.open(this._reminderTemplate,{data:{targets:l.users,node:l.node},duration:5e3})}changeExampleData(){this.approvalProcess=(0,g.Z)(this.graphs[this.selectedExample])}toggleNodeActions(l){const o=(0,g.Z)(this._approvalFlow.approvalProcess);o.nodes.forEach(a=>{a.disableActions=l}),this.approvalProcess=o}toggleSpecificNodeAction(l,t){const a=(0,g.Z)(this._approvalFlow.approvalProcess);a.nodes.forEach(A=>{A.actionsConfig={...A.actionsConfig,[l]:t}}),this.approvalProcess=a}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(t=>{if(this.newNodes.has(t.id)){const o=this._approvalFlow.getNodeMetadataByNodeId(t.id);o.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,o.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,o.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(l){console.log("Node click handler",l)}afterNodeAdd(l){console.log("After node add handler",l),this.newNodes.set(l.id,l),this.newNodeSettingsChange()}afterNodeEdit(l){console.log("After node edit handler",l),this.newNodeSettingsChange()}setNotStarted(){const l=this._approvalFlow.approvalProcess,t=new Map(this.graphs[this.selectedExample].nodes.map(a=>[a.id,a])),o=(0,g.Z)(l);o.nodes=o.nodes.map(a=>{const A=this.setNotStartedStatuses||!t.has(a.id)?"not started":t.get(a.id).status;return{...a,status:A}}),this.approvalProcess=o}}F.\u0275fac=function(l){return new(l||F)(e.Y36(M.H2))},F.\u0275cmp=e.Xpm({type:F,selectors:[["fdp-platform-approval-flow-example"]],viewQuery:function(l,t){if(1&l&&(e.Gf(v.KF,5),e.Gf(ee,5)),2&l){let o;e.iGM(o=e.CRH())&&(t._approvalFlow=o.first),e.iGM(o=e.CRH())&&(t._reminderTemplate=o.first)}},decls:68,vars:36,consts:[["title","Basic Approval Flow Demo",3,"value","userDetailsTemplate","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton","nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders"],["userDetailsTemplate",""],["reminderTemplate",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange"],["id","disableAddingNodeBefore","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableRemovingNode"],[2,"display","flex","align-items","center","flex-wrap","wrap"],["fdCompact","",2,"margin-left","0.5rem",3,"dropdownValues","ngModel","ngModelChange"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallelForNewNodes"],[2,"margin-bottom","1rem"],["style","display: flex; flex-direction: column",4,"ngIf"],[2,"margin-top","1.5rem","margin-bottom","1rem"],[2,"display","flex","flex-direction","column"],[3,"href"],[4,"ngIf","ngIfElse"],["multipleReceivers",""],[3,"value"]],template:function(l,t){if(1&l&&(e.TgZ(0,"fdp-approval-flow",0),e.NdJ("nodeClick",function(a){return t.nodeClick(a)})("afterNodeAdd",function(a){return t.afterNodeAdd(a)})("afterNodeEdit",function(a){return t.afterNodeEdit(a)})("valueChange",function(a){return t.valueChanged(a)})("sendReminders",function(a){return t.sendReminders(a)}),e.qZA(),e.YNc(1,ne,17,4,"ng-template",null,1,e.W1O),e.YNc(3,de,3,2,"ng-template",null,2,e.W1O),e.TgZ(5,"p"),e._uU(6," Selected example: "),e.TgZ(7,"select",3),e.NdJ("ngModelChange",function(a){return t.selectedExample=a})("ngModelChange",function(){return t.changeExampleData()}),e.YNc(8,se,3,4,"option",4),e.qZA()(),e.TgZ(9,"p"),e._uU(10,'Enable "Edit mode": '),e.TgZ(11,"input",5),e.NdJ("ngModelChange",function(a){return t.editModeEnabled=a}),e.qZA()(),e.TgZ(12,"p"),e._uU(13,"Enable due date warnings: "),e.TgZ(14,"input",5),e.NdJ("ngModelChange",function(a){return t.checkDueDate=a}),e.qZA()(),e.TgZ(15,"p"),e._uU(16,' Set all statuses to "Not Started": '),e.TgZ(17,"input",5),e.NdJ("ngModelChange",function(a){return t.setNotStartedStatuses=a})("ngModelChange",function(){return t.setNotStarted()}),e.qZA()(),e.TgZ(18,"p"),e._uU(19," Disable all node actions: "),e.TgZ(20,"input",5),e.NdJ("ngModelChange",function(a){return t.nodeActionsDisabled=a})("ngModelChange",function(a){return t.toggleNodeActions(a)}),e.qZA()(),e.TgZ(21,"p"),e._uU(22,"Disable certain node actions:"),e.qZA(),e.TgZ(23,"div")(24,"p")(25,"input",6),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableAddBefore=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableAddBefore",a)}),e.qZA(),e.TgZ(26,"label",7),e._uU(27,"Disable adding before"),e.qZA()(),e.TgZ(28,"p")(29,"input",8),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableAddAfter=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableAddAfter",a)}),e.qZA(),e.TgZ(30,"label",9),e._uU(31,"Disable adding after"),e.qZA()(),e.TgZ(32,"p")(33,"input",10),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableAddParallel=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableAddParallel",a)}),e.qZA(),e.TgZ(34,"label",11),e._uU(35,"Disable adding parallel"),e.qZA()(),e.TgZ(36,"p")(37,"input",12),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableEdit=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableEdit",a)}),e.qZA(),e.TgZ(38,"label",13),e._uU(39,"Disable editing"),e.qZA()(),e.TgZ(40,"p")(41,"input",14),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableRemove=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableRemove",a)}),e.qZA(),e.TgZ(42,"label",15),e._uU(43,"Disable removing"),e.qZA()()(),e.TgZ(44,"p",16),e._uU(45," Allow sending reminders to approvers with statuses: "),e.TgZ(46,"fd-multi-input",17),e.NdJ("ngModelChange",function(a){return t.sendReminderStatuses=a}),e.qZA()(),e.TgZ(47,"p"),e._uU(48,"Disable certain node actions for newly added nodes:"),e.qZA(),e.TgZ(49,"div")(50,"p")(51,"input",18),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfigForNewNodes.disableAddBefore=a})("ngModelChange",function(){return t.newNodeSettingsChange()}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"Disable adding before"),e.qZA()(),e.TgZ(54,"p")(55,"input",20),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfigForNewNodes.disableAddAfter=a})("ngModelChange",function(){return t.newNodeSettingsChange()}),e.qZA(),e.TgZ(56,"label",21),e._uU(57,"Disable adding after"),e.qZA()(),e.TgZ(58,"p")(59,"input",22),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfigForNewNodes.disableAddParallel=a})("ngModelChange",function(){return t.newNodeSettingsChange()}),e.qZA(),e.TgZ(60,"label",23),e._uU(61,"Disable adding parallel"),e.qZA()()(),e.TgZ(62,"p"),e._uU(63,'Disable "Save" button: '),e.TgZ(64,"input",5),e.NdJ("ngModelChange",function(a){return t.disableSaveButton=a}),e.qZA()(),e.TgZ(65,"p"),e._uU(66,'Disable "Exit" button: '),e.TgZ(67,"input",5),e.NdJ("ngModelChange",function(a){return t.disableExitButton=a}),e.qZA()()),2&l){const o=e.MAs(2);e.Q6J("value",t.approvalProcess)("userDetailsTemplate",o)("userDataSource",t.userDataSource)("watcherDataSource",t.watcherDataSource)("teamDataSource",t.teamDataSource)("checkDueDate",t.checkDueDate)("allowSendRemindersForStatuses",t.sendReminderStatuses)("isEditAvailable",t.editModeEnabled)("disableSaveButton",t.disableSaveButton)("disableExitButton",t.disableExitButton),e.xp6(7),e.Q6J("ngModel",t.selectedExample),e.xp6(1),e.Q6J("ngForOf",t.examples),e.xp6(3),e.Q6J("ngModel",t.editModeEnabled),e.xp6(3),e.Q6J("ngModel",t.checkDueDate),e.xp6(3),e.Q6J("ngModel",t.setNotStartedStatuses),e.xp6(3),e.Q6J("ngModel",t.nodeActionsDisabled),e.xp6(5),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddBefore),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddAfter),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddParallel),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableEdit),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableRemove),e.xp6(5),e.Q6J("dropdownValues",t.allStatuses)("ngModel",t.sendReminderStatuses),e.xp6(5),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddBefore),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddAfter),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddParallel),e.xp6(5),e.Q6J("ngModel",t.disableSaveButton),e.xp6(3),e.Q6J("ngModel",t.disableExitButton)}},dependencies:[c.YN,c.Kr,c.Wl,c.EJ,c.JJ,c.On,C.sg,C.O5,G.$,W.K,H.L,C.rS],encapsulation:2});const $={};[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}].forEach(n=>$[n.id]=n);const fe=()=>({empty:{watchers:[d("uid66161")],nodes:[]},simple:{watchers:[d("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[d("uid81955")],status:"approved",targets:["ID2"],dueDate:p(30),createDate:p(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[d("uid66171")],status:"in progress",targets:["ID3"],dueDate:p(10),createDate:p(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[d("uid81355")],status:"not started",targets:[],dueDate:p(10),createDate:p(-30)}]},medium:{watchers:[d("uid66151"),d("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[d("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:p(30),createDate:p(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[d("uid66171")],status:"in progress",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[d("uid77135")],status:"approved",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[d("uid77111"),d("uid09641"),d("uid09141"),d("uid37866"),d("uid99641"),d("uid38141")],status:"not started",targets:["ID3"],dueDate:p(5),createDate:p(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[d("uid81355")],status:"not started",targets:["ID4"],dueDate:p(30),createDate:p(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[d("uid99651")],status:"not started",targets:[],dueDate:p(30),createDate:p(-30)}]},complex:{watchers:[d("uid66151"),d("uid66141"),d("uid99651"),d("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[d("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:p(30),createDate:p(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[d("uid66171")],status:"in progress",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[d("uid28141")],status:"approved",targets:["ID220"],dueDate:p(30),createDate:p(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[d("uid77111"),d("uid09641")],status:"in progress",targets:["ID2220"],dueDate:p(3),createDate:p(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[d("uid08141")],status:"rejected",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[d("uid81353")],status:"not started",targets:["ID3"],dueDate:p(30),createDate:p(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[d("uid81355")],status:"not started",targets:["ID4"],dueDate:p(30),createDate:p(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[d("uid99651")],status:"not started",targets:[],dueDate:p(30),createDate:p(-30)}]}});function d(n){return $[n]}function p(n){return new Date(Date.now()+864e5*n)}class K extends h.FW{fetch(l){let t=[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}];const o=l.get("query")?.toLowerCase();return o&&(t=t.filter(a=>a.name?.toLowerCase().startsWith(o))),(0,u.of)((0,g.Z)(t)).pipe((0,Q.g)(500))}getOne(l){const t=l.get("id"),o=[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}].find(a=>a.id===t);return(0,u.of)({...o,phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${o.name.toLowerCase().split(" ").join(".")}@company.com`})}}class _e extends h.FW{fetch(l){let t=[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(n=>d(n))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(n=>d(n))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(n=>d(n))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(n=>d(n))}];const o=l.get("query")?.toLowerCase();return o&&(t=t.filter(a=>a.name?.toLowerCase().startsWith(o))),(0,u.of)((0,g.Z)(t)).pipe((0,Q.g)(500))}}const he=["reminderTemplate"];function Ae(n,l){1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n&&(e.xp6(1),e.Oqu("Approved"))}function Ce(n,l){1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n&&(e.xp6(1),e.Oqu("Rejected"))}function ve(n,l){1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n&&(e.xp6(1),e.Oqu("In progress"))}function we(n,l){1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n&&(e.xp6(1),e.Oqu("Not started"))}function De(n,l){1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n&&(e.xp6(1),e.Oqu("Denied"))}function be(n,l){1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n&&(e.xp6(1),e.Oqu("Withdrawn"))}function Me(n,l){1&n&&(e.ynx(0,25),e.YNc(1,Ae,2,1,"ng-container",26),e.YNc(2,Ce,2,1,"ng-container",26),e.YNc(3,ve,2,1,"ng-container",26),e.YNc(4,we,2,1,"ng-container",26),e.YNc(5,De,2,1,"ng-container",26),e.YNc(6,be,2,1,"ng-container",26),e.BQk()),2&n&&(e.Q6J("ngSwitch",l.node.status),e.xp6(1),e.Q6J("ngSwitchCase","approved"),e.xp6(1),e.Q6J("ngSwitchCase","rejected"),e.xp6(1),e.Q6J("ngSwitchCase","in progress"),e.xp6(1),e.Q6J("ngSwitchCase","not started"),e.xp6(1),e.Q6J("ngSwitchCase","denied"),e.xp6(1),e.Q6J("ngSwitchCase","withdrawn"))}function Ne(n,l){if(1&n&&(e.TgZ(0,"p",30)(1,"span"),e._uU(2,"Mobile"),e.qZA(),e.TgZ(3,"a",31),e._uU(4),e.qZA()()),2&n){const t=e.oxw().data;e.xp6(3),e.Q6J("href","tel:"+t.phone,e.LSH),e.xp6(1),e.Oqu(t.phone)}}function Te(n,l){if(1&n&&(e.TgZ(0,"p",30)(1,"span"),e._uU(2,"Phone"),e.qZA(),e.TgZ(3,"a",31),e._uU(4),e.qZA()()),2&n){const t=e.oxw().data;e.xp6(3),e.Q6J("href","tel:"+t.phone,e.LSH),e.xp6(1),e.Oqu(t.phone)}}function Se(n,l){if(1&n&&(e.TgZ(0,"p",30)(1,"span"),e._uU(2,"E-mail"),e.qZA(),e.TgZ(3,"a",31),e._uU(4),e.qZA()()),2&n){const t=e.oxw().data;e.xp6(3),e.Q6J("href","mailto:"+t.email,e.LSH),e.xp6(1),e.Oqu(t.email)}}function Ze(n,l){if(1&n&&(e.TgZ(0,"h4",27),e._uU(1,"Contact info"),e.qZA(),e.YNc(2,Ne,5,2,"p",28),e.YNc(3,Te,5,2,"p",28),e.YNc(4,Se,5,2,"p",28),e.TgZ(5,"h4",29),e._uU(6,"Company"),e.qZA(),e.TgZ(7,"p",30)(8,"span"),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"p",30)(13,"span"),e._uU(14,"Address"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"481 West Street, Anytown OH, 83749, USA"),e.qZA()()),2&n){const t=l.data;e.xp6(2),e.Q6J("ngIf",null==t?null:t.phone),e.xp6(1),e.Q6J("ngIf",null==t?null:t.phone),e.xp6(1),e.Q6J("ngIf",null==t?null:t.email),e.xp6(7),e.hij("Company A",null==t?null:t.email,"")}}function Fe(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" Reminder has been sent to ",t.data.targets[0].name," ")}}function Ee(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.AsE(" Reminder has been sent to ",t.data.targets.length," members of ",t.data.node.description," ")}}function xe(n,l){if(1&n&&(e.YNc(0,Fe,2,1,"ng-container",32),e.YNc(1,Ee,1,2,"ng-template",null,33,e.W1O)),2&n){const t=l.$implicit,o=e.MAs(2);e.Q6J("ngIf",1===t.data.targets.length)("ngIfElse",o)}}function Ie(n,l){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}class E{constructor(l){this._messageToastService=l,this.graphs=Be(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new h._1(new X),this.watcherDataSource=new h._1(new X),this.teamDataSource=new h.L8(new ke),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected","denied","withdrawn"],this.sendReminderStatuses=["in progress","not started"],this.disableSaveButton=!1,this.disableExitButton=!1,this.colorMapping={approved:"positive",rejected:"negative","in progress":"informative","not started":"neutral",denied:"critical",withdrawn:"negative"},this._subscriptions=new Z.w0,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(l){console.log("valueChanged",l)}sendReminders(l){this._messageToastService.open(this._reminderTemplate,{data:{targets:l.users,node:l.node},duration:5e3})}changeExampleData(){this.approvalProcess=(0,g.Z)(this.graphs[this.selectedExample])}toggleNodeActions(l){const o=(0,g.Z)(this._approvalFlow.approvalProcess);o.nodes.forEach(a=>{a.disableActions=l}),this.approvalProcess=o}toggleSpecificNodeAction(l,t){const a=(0,g.Z)(this._approvalFlow.approvalProcess);a.nodes.forEach(A=>{A.actionsConfig={...A.actionsConfig,[l]:t}}),this.approvalProcess=a}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(t=>{if(this.newNodes.has(t.id)){const o=this._approvalFlow.getNodeMetadataByNodeId(t.id);o.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,o.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,o.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(l){console.log("Node click handler",l)}afterNodeAdd(l){console.log("After node add handler",l),this.newNodes.set(l.id,l),this.newNodeSettingsChange()}afterNodeEdit(l){console.log("After node edit handler",l),this.newNodeSettingsChange()}setNotStarted(){const l=this._approvalFlow.approvalProcess,t=new Map(this.graphs[this.selectedExample].nodes.map(a=>[a.id,a])),o=(0,g.Z)(l);o.nodes=o.nodes.map(a=>{const A=this.setNotStartedStatuses||!t.has(a.id)?"not started":t.get(a.id).status;return{...a,status:A}}),this.approvalProcess=o}}E.\u0275fac=function(l){return new(l||E)(e.Y36(M.H2))},E.\u0275cmp=e.Xpm({type:E,selectors:[["fdp-platform-approval-flow-status-example"]],viewQuery:function(l,t){if(1&l&&(e.Gf(v.KF,5),e.Gf(he,5)),2&l){let o;e.iGM(o=e.CRH())&&(t._approvalFlow=o.first),e.iGM(o=e.CRH())&&(t._reminderTemplate=o.first)}},decls:70,vars:38,consts:[["title","Basic Approval Flow Demo",3,"value","userDetailsTemplate","approvalStatusTemplate","statusColorMapping","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton","nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders"],["approvalStatusTemplate",""],["userDetailsTemplate",""],["reminderTemplate",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange"],["id","disableAddingNodeBefore","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableRemovingNode"],[2,"display","flex","align-items","center","flex-wrap","wrap"],["fdCompact","",2,"margin-left","0.5rem",3,"dropdownValues","ngModel","ngModelChange"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallelForNewNodes"],[3,"ngSwitch"],[4,"ngSwitchCase"],[2,"margin-bottom","1rem"],["style","display: flex; flex-direction: column",4,"ngIf"],[2,"margin-top","1.5rem","margin-bottom","1rem"],[2,"display","flex","flex-direction","column"],[3,"href"],[4,"ngIf","ngIfElse"],["multipleReceivers",""],[3,"value"]],template:function(l,t){if(1&l&&(e.TgZ(0,"fdp-approval-flow",0),e.NdJ("nodeClick",function(a){return t.nodeClick(a)})("afterNodeAdd",function(a){return t.afterNodeAdd(a)})("afterNodeEdit",function(a){return t.afterNodeEdit(a)})("valueChange",function(a){return t.valueChanged(a)})("sendReminders",function(a){return t.sendReminders(a)}),e.qZA(),e.YNc(1,Me,7,7,"ng-template",null,1,e.W1O),e.YNc(3,Ze,17,4,"ng-template",null,2,e.W1O),e.YNc(5,xe,3,2,"ng-template",null,3,e.W1O),e.TgZ(7,"p"),e._uU(8," Selected example: "),e.TgZ(9,"select",4),e.NdJ("ngModelChange",function(a){return t.selectedExample=a})("ngModelChange",function(){return t.changeExampleData()}),e.YNc(10,Ie,3,4,"option",5),e.qZA()(),e.TgZ(11,"p"),e._uU(12,'Enable "Edit mode": '),e.TgZ(13,"input",6),e.NdJ("ngModelChange",function(a){return t.editModeEnabled=a}),e.qZA()(),e.TgZ(14,"p"),e._uU(15,"Enable due date warnings: "),e.TgZ(16,"input",6),e.NdJ("ngModelChange",function(a){return t.checkDueDate=a}),e.qZA()(),e.TgZ(17,"p"),e._uU(18,' Set all statuses to "Not Started": '),e.TgZ(19,"input",6),e.NdJ("ngModelChange",function(a){return t.setNotStartedStatuses=a})("ngModelChange",function(){return t.setNotStarted()}),e.qZA()(),e.TgZ(20,"p"),e._uU(21," Disable all node actions: "),e.TgZ(22,"input",6),e.NdJ("ngModelChange",function(a){return t.nodeActionsDisabled=a})("ngModelChange",function(a){return t.toggleNodeActions(a)}),e.qZA()(),e.TgZ(23,"p"),e._uU(24,"Disable certain node actions:"),e.qZA(),e.TgZ(25,"div")(26,"p")(27,"input",7),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableAddBefore=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableAddBefore",a)}),e.qZA(),e.TgZ(28,"label",8),e._uU(29,"Disable adding before"),e.qZA()(),e.TgZ(30,"p")(31,"input",9),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableAddAfter=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableAddAfter",a)}),e.qZA(),e.TgZ(32,"label",10),e._uU(33,"Disable adding after"),e.qZA()(),e.TgZ(34,"p")(35,"input",11),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableAddParallel=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableAddParallel",a)}),e.qZA(),e.TgZ(36,"label",12),e._uU(37,"Disable adding parallel"),e.qZA()(),e.TgZ(38,"p")(39,"input",13),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableEdit=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableEdit",a)}),e.qZA(),e.TgZ(40,"label",14),e._uU(41,"Disable editing"),e.qZA()(),e.TgZ(42,"p")(43,"input",15),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfig.disableRemove=a})("ngModelChange",function(a){return t.toggleSpecificNodeAction("disableRemove",a)}),e.qZA(),e.TgZ(44,"label",16),e._uU(45,"Disable removing"),e.qZA()()(),e.TgZ(46,"p",17),e._uU(47," Allow sending reminders to approvers with statuses: "),e.TgZ(48,"fd-multi-input",18),e.NdJ("ngModelChange",function(a){return t.sendReminderStatuses=a}),e.qZA()(),e.TgZ(49,"p"),e._uU(50,"Disable certain node actions for newly added nodes:"),e.qZA(),e.TgZ(51,"div")(52,"p")(53,"input",19),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfigForNewNodes.disableAddBefore=a})("ngModelChange",function(){return t.newNodeSettingsChange()}),e.qZA(),e.TgZ(54,"label",20),e._uU(55,"Disable adding before"),e.qZA()(),e.TgZ(56,"p")(57,"input",21),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfigForNewNodes.disableAddAfter=a})("ngModelChange",function(){return t.newNodeSettingsChange()}),e.qZA(),e.TgZ(58,"label",22),e._uU(59,"Disable adding after"),e.qZA()(),e.TgZ(60,"p")(61,"input",23),e.NdJ("ngModelChange",function(a){return t.nodeActionsConfigForNewNodes.disableAddParallel=a})("ngModelChange",function(){return t.newNodeSettingsChange()}),e.qZA(),e.TgZ(62,"label",24),e._uU(63,"Disable adding parallel"),e.qZA()()(),e.TgZ(64,"p"),e._uU(65,'Disable "Save" button: '),e.TgZ(66,"input",6),e.NdJ("ngModelChange",function(a){return t.disableSaveButton=a}),e.qZA()(),e.TgZ(67,"p"),e._uU(68,'Disable "Exit" button: '),e.TgZ(69,"input",6),e.NdJ("ngModelChange",function(a){return t.disableExitButton=a}),e.qZA()()),2&l){const o=e.MAs(2),a=e.MAs(4);e.Q6J("value",t.approvalProcess)("userDetailsTemplate",a)("approvalStatusTemplate",o)("statusColorMapping",t.colorMapping)("userDataSource",t.userDataSource)("watcherDataSource",t.watcherDataSource)("teamDataSource",t.teamDataSource)("checkDueDate",t.checkDueDate)("allowSendRemindersForStatuses",t.sendReminderStatuses)("isEditAvailable",t.editModeEnabled)("disableSaveButton",t.disableSaveButton)("disableExitButton",t.disableExitButton),e.xp6(9),e.Q6J("ngModel",t.selectedExample),e.xp6(1),e.Q6J("ngForOf",t.examples),e.xp6(3),e.Q6J("ngModel",t.editModeEnabled),e.xp6(3),e.Q6J("ngModel",t.checkDueDate),e.xp6(3),e.Q6J("ngModel",t.setNotStartedStatuses),e.xp6(3),e.Q6J("ngModel",t.nodeActionsDisabled),e.xp6(5),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddBefore),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddAfter),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddParallel),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableEdit),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableRemove),e.xp6(5),e.Q6J("dropdownValues",t.allStatuses)("ngModel",t.sendReminderStatuses),e.xp6(5),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddBefore),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddAfter),e.xp6(4),e.Q6J("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddParallel),e.xp6(5),e.Q6J("ngModel",t.disableSaveButton),e.xp6(3),e.Q6J("ngModel",t.disableExitButton)}},dependencies:[c.YN,c.Kr,c.Wl,c.EJ,c.JJ,c.On,C.sg,C.O5,C.RF,C.n9,G.$,W.K,H.L,C.rS],encapsulation:2});const V={};[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}].forEach(n=>V[n.id]=n);const Be=()=>({empty:{watchers:[s("uid66161")],nodes:[]},simple:{watchers:[s("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[s("uid81955")],status:"approved",targets:["ID2"],dueDate:r(30),createDate:r(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[s("uid66171")],status:"in progress",targets:["ID3"],dueDate:r(10),createDate:r(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[s("uid81355")],status:"withdrawn",targets:[],dueDate:r(10),createDate:r(-30)}]},medium:{watchers:[s("uid66151"),s("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[s("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:r(30),createDate:r(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[s("uid66171")],status:"in progress",targets:["ID3"],dueDate:r(30),createDate:r(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[s("uid77135")],status:"approved",targets:["ID3"],dueDate:r(30),createDate:r(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[s("uid77111"),s("uid09641"),s("uid09141"),s("uid37866"),s("uid99641"),s("uid38141")],status:"not started",targets:["ID3"],dueDate:r(5),createDate:r(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[s("uid81355")],status:"not started",targets:["ID4"],dueDate:r(30),createDate:r(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[s("uid99651")],status:"not started",targets:[],dueDate:r(30),createDate:r(-30)}]},complex:{watchers:[s("uid66151"),s("uid66141"),s("uid99651"),s("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[s("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:r(30),createDate:r(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[s("uid66171")],status:"in progress",targets:["ID3"],dueDate:r(30),createDate:r(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[s("uid28141")],status:"approved",targets:["ID220"],dueDate:r(30),createDate:r(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[s("uid77111"),s("uid09641")],status:"in progress",targets:["ID2220"],dueDate:r(3),createDate:r(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[s("uid08141")],status:"denied",targets:["ID3"],dueDate:r(30),createDate:r(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[s("uid81353")],status:"withdrawn",targets:["ID3"],dueDate:r(30),createDate:r(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[s("uid81355")],status:"not started",targets:["ID4"],dueDate:r(30),createDate:r(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[s("uid99651")],status:"not started",targets:[],dueDate:r(30),createDate:r(-30)}]}});function s(n){return V[n]}function r(n){return new Date(Date.now()+864e5*n)}class X extends h.FW{fetch(l){let t=[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}];const o=l.get("query")?.toLowerCase();return o&&(t=t.filter(a=>a.name?.toLowerCase().startsWith(o))),(0,u.of)((0,g.Z)(t)).pipe((0,Q.g)(500))}getOne(l){const t=l.get("id"),o=[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}].find(a=>a.id===t);return(0,u.of)({...o,phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${o.name.toLowerCase().split(" ").join(".")}@company.com`})}}class ke extends h.FW{fetch(l){let t=[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(n=>s(n))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(n=>s(n))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(n=>s(n))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(n=>s(n))}];const o=l.get("query")?.toLowerCase();return o&&(t=t.filter(a=>a.name?.toLowerCase().startsWith(o))),(0,u.of)((0,g.Z)(t)).pipe((0,Q.g)(500))}}class x{constructor(){this.basic=[{language:"html",code:(0,f.getAssetFromModuleAssets)("platform-approval-flow-example.component.html"),fileName:"platform-approval-flow-example",name:"approval-flow-example.component.html"},{language:"typescript",code:(0,f.getAssetFromModuleAssets)("platform-approval-flow-example.component.ts"),fileName:"platform-approval-flow-example",component:"PlatformApprovalFlowExampleComponent",name:"approval-flow-example.component.ts"}],this.status=[{language:"html",code:(0,f.getAssetFromModuleAssets)("platform-approval-flow-custom-status-example.component.html"),fileName:"platform-approval-flow-custom-status-example.component",name:"platform-approval-flow-custom-status-example.component.html"},{language:"typescript",code:(0,f.getAssetFromModuleAssets)("platform-approval-flow-custom-status-example.component.ts"),fileName:"platform-approval-flow-custom-status-example",component:"PlatformApprovalFlowCustomStatusExampleComponent",name:"platform-approval-flow-custom-status-example.component.ts"}]}}x.\u0275fac=function(l){return new(l||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-approval-flow"]],decls:20,vars:2,consts:[["id","approval-flow","componentName","approval-flow"],[3,"exampleFiles"],["id","custom-width","componentName","table"]],template:function(l,t){1&l&&(e.TgZ(0,"fd-docs-section-title",0),e._uU(1," Approval flow "),e.qZA(),e.TgZ(2,"component-example"),e._UZ(3,"fdp-platform-approval-flow-example"),e.qZA(),e._UZ(4,"code-example",1)(5,"separator"),e.TgZ(6,"fd-docs-section-title",2),e._uU(7," Approval Flow with custom statuses\n"),e.qZA(),e.TgZ(8,"description")(9,"p"),e._uU(10," In this example we have custom status defined on the application level. We need to provide a "),e.TgZ(11,"code"),e._uU(12,"approvalStatusTemplate"),e.qZA(),e._uU(13," template to tell the "),e.TgZ(14,"code"),e._uU(15,"ApprovalFlow"),e.qZA(),e._uU(16," component how to handle these different states "),e.qZA()(),e.TgZ(17,"component-example"),e._UZ(18,"fdp-platform-approval-flow-status-example"),e.qZA(),e._UZ(19,"code-example",1)),2&l&&(e.xp6(4),e.Q6J("exampleFiles",t.basic),e.xp6(15),e.Q6J("exampleFiles",t.status))},dependencies:[D.N,R.E,J.w,L.k,q.O,F,E],encapsulation:2});const Ye=[{path:"",component:m,children:[{path:"",component:x},{path:"api",component:f.ApiComponent,data:{content:j.X.approvalFlow}},{path:"i18n",component:f.I18nDocsComponent,data:(0,f.getI18nKey)("platformApprovalFlow")}]}];class b{}b.\u0275fac=function(l){return new(l||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({providers:[k.qFd,(0,f.currentComponentProvider)("approval-flow")],imports:[P.Bz.forChild(Ye),f.SharedDocumentationPageModule,v.vU,B.Yp,U.Qj,M.GC,P.Bz]})},59468:(z,I,i)=>{i.d(I,{p:()=>j});var P=i(34986),B=i(54482),U=i(25403),k=i(38421);const v={leading:!0,trailing:!1};var f=i(5963);function j(e,N=P.z,T=v){const _=(0,f.H)(e,N);return function M(e,N=v){return(0,B.e)((T,_)=>{const{leading:J,trailing:y}=N;let w=!1,S=null,m=null,D=!1;const R=()=>{m?.unsubscribe(),m=null,y&&(Z(),D&&_.complete())},L=()=>{m=null,D&&_.complete()},q=u=>m=(0,k.Xf)(e(u)).subscribe((0,U.x)(_,R,L)),Z=()=>{if(w){w=!1;const u=S;S=null,_.next(u),!D&&q(u)}};T.subscribe((0,U.x)(_,u=>{w=!0,S=u,(!m||m.closed)&&(J?Z():q(u))},()=>{D=!0,(!(y&&w&&m)||m.closed)&&_.complete()}))})}(()=>_,T)}}}]);