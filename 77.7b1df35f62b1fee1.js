"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[77],{71273:(V,I,t)=>{t.d(I,{x:()=>l});var e=t(94650);class l{}l.\u0275fac=function(h){return new(h||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["fd-illustrated-message-actions"]],hostAttrs:[1,"fd-illustrated-message__actions"],ngContentSelectors:["*"],decls:1,vars:0,template:function(h,o){1&h&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0})},6941:(V,I,t)=>{t.d(I,{N:()=>h});var e=t(94650);const l=[[["","fd-illustrated-message-title",""]],[["","fd-illustrated-message-text",""]]];class h{}h.\u0275fac=function(y){return new(y||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["","fd-illustrated-message-figcaption",""]],hostAttrs:[1,"fd-illustrated-message__figcaption"],attrs:["fd-illustrated-message-figcaption",""],ngContentSelectors:["[fd-illustrated-message-title]","[fd-illustrated-message-text]"],decls:2,vars:0,template:function(y,B){1&y&&(e.F$t(l),e.Hsn(0),e.Hsn(1,1))},encapsulation:2,changeDetection:0})},76314:(V,I,t)=>{t.d(I,{I:()=>b});var e=t(94650);class b{constructor(){this.fdIllustratedMessageTextClass=!0}}b.\u0275fac=function(T){return new(T||b)},b.\u0275dir=e.lG2({type:b,selectors:[["","fd-illustrated-message-text",""]],hostVars:2,hostBindings:function(T,h){2&T&&e.ekj("fd-illustrated-message__text",h.fdIllustratedMessageTextClass)}})},67755:(V,I,t)=>{t.d(I,{C:()=>b});var e=t(94650);class b{constructor(){this.fdIllustratedMessageTitleClass=!0}}b.\u0275fac=function(T){return new(T||b)},b.\u0275dir=e.lG2({type:b,selectors:[["","fd-illustrated-message-title",""]],hostVars:2,hostBindings:function(T,h){2&T&&e.ekj("fd-illustrated-message__title",h.fdIllustratedMessageTitleClass)}})},30891:(V,I,t)=>{t.d(I,{z:()=>N});var e=t(70655),b=t(60505),l=t(50727),T=t(54968),h=t(94650),o=t(11481),y=t(36895);function P(D,g){if(1&D&&(h.O4$(),h.TgZ(0,"svg",2),h._UZ(1,"use"),h.qZA()),2&D){const m=h.oxw();h.xp6(1),h.uIk("href",m._href)}}function R(D,g){if(1&D&&h._UZ(0,"div",3),2&D){const m=h.oxw();h.Q6J("innerHTML",m._inlineSvg,h.oJD)}}const K=[[["","fd-illustrated-message-figcaption",""]],[["fd-illustrated-message-actions"]]];let S=0;class N{constructor(g,m,u){this._elementRef=g,this._cdRef=m,this._sanitizer=u,this.type="scene",this.noSvg=!1,this.id="fd-illustrated-message-"+S++,this._subscriptions=new l.w0}ngOnChanges(g){this.buildComponentCssClass(),"svgConfig"in g&&this._constructHref()}ngOnInit(){this.buildComponentCssClass(),this._constructHref()}ngAfterViewInit(){"scene"===this.type&&this._subscriptions.add((0,T.R)(window,"resize").subscribe(()=>this._constructHref()))}ngOnDestroy(){this._subscriptions.unsubscribe()}elementRef(){return this._elementRef}buildComponentCssClass(){return["fd-illustrated-message",this.type?`fd-illustrated-message--${this.type}`:"",this.class]}_constructHref(){let g;if(this._inlineSvg=void 0,this.svgConfig)switch(this.type){case"scene":this._isSmallScreen=window.innerWidth<600,g=this._isSmallScreen?this.svgConfig.dialog?.file:this.svgConfig.scene?.file,this._href=this._isSmallScreen?`${this.svgConfig.dialog?.url||""}#${this.svgConfig.dialog?.id}`:`${this.svgConfig.scene?.url||""}#${this.svgConfig.scene?.id}`;break;case"dialog":g=this.svgConfig.dialog?.file,this._href=`${this.svgConfig.dialog?.url||""}#${this.svgConfig.dialog?.id}`;break;case"spot":g=this.svgConfig.spot?.file,this._href=`${this.svgConfig.spot?.url||""}#${this.svgConfig.spot?.id}`;break;case"dot":g=this.svgConfig.dot?.file,this._href=`${this.svgConfig.dot?.url||""}#${this.svgConfig.dot?.id}`}g&&(this._inlineSvg=this._sanitizer.bypassSecurityTrustHtml(g)),this._cdRef.detectChanges()}}N.\u0275fac=function(g){return new(g||N)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(o.H7))},N.\u0275cmp=h.Xpm({type:N,selectors:[["","fd-illustrated-message",""]],hostVars:1,hostBindings:function(g,m){2&g&&h.uIk("id",m.id)},inputs:{type:"type",svgConfig:"svgConfig",noSvg:"noSvg",id:"id",class:"class"},features:[h.TTD],attrs:["fd-illustrated-message",""],ngContentSelectors:["[fd-illustrated-message-figcaption]","fd-illustrated-message-actions"],decls:4,vars:2,consts:[["class","fd-illustrated-message__illustration",4,"ngIf"],["style","display: none",3,"innerHTML",4,"ngIf"],[1,"fd-illustrated-message__illustration"],[2,"display","none",3,"innerHTML"]],template:function(g,m){1&g&&(h.F$t(K),h.YNc(0,P,2,1,"svg",0),h.YNc(1,R,1,1,"div",1),h.Hsn(2),h.Hsn(3,1)),2&g&&(h.Q6J("ngIf",!m.noSvg||m._inlineSvg),h.xp6(1),h.Q6J("ngIf",m._inlineSvg))},dependencies:[y.O5],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-illustrated-message{--illustratedMessagePadding:1rem;--illustratedMessageMaxWidth:30rem;--illustrationW:20rem;--illustrationH:15rem;--illustrationMargin:2rem 0;--figcaptionMaxWidth:25rem;--titleMarginBottom:1rem;--titleFontSize:var(--sapFontHeader2Size);--textMarginBottom:.5rem;--actionsMargin:1rem 0;-webkit-box-sizing:border-box;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);display:flex;flex-direction:column;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;height:auto;line-height:var(--sapContent_LineHeight);margin:0;max-width:var(--illustratedMessageMaxWidth);padding:0;padding:var(--illustratedMessagePadding);text-align:center;width:auto}.fd-illustrated-message:after,.fd-illustrated-message:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message-container{-webkit-box-sizing:border-box;background:var(--sapGroup_ContentBackground);border:0;border-radius:.5rem;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;padding:1rem;width:auto}.fd-illustrated-message-container:after,.fd-illustrated-message-container:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__illustration{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;height:var(--illustrationH);line-height:var(--sapContent_LineHeight);margin:0;margin:var(--illustrationMargin);padding:0;width:var(--illustrationW)}.fd-illustrated-message__illustration:after,.fd-illustrated-message__illustration:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__figcaption{-webkit-box-sizing:border-box;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);display:flex;flex-direction:column;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:hidden;padding:0;width:100%}.fd-illustrated-message__figcaption:after,.fd-illustrated-message__figcaption:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__title{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);color:var(--sapGroup_TitleTextColor);font-family:var(--sapFontFamily);font-family:var(--sapFontHeaderFamily);font-size:var(--sapFontSize);font-size:var(--titleFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;margin-bottom:var(--titleMarginBottom);max-width:var(--figcaptionMaxWidth);padding:0;text-align:center;width:100%}.fd-illustrated-message__title:after,.fd-illustrated-message__title:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__text{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;margin-bottom:var(--textMarginBottom);max-width:var(--figcaptionMaxWidth);padding:0;text-align:center}.fd-illustrated-message__text:after,.fd-illustrated-message__text:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__actions{-webkit-box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);display:flex;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;gap:.5rem;justify-content:center;line-height:var(--sapContent_LineHeight);margin:0;margin:var(--actionsMargin);padding:0;width:100%}.fd-illustrated-message__actions:after,.fd-illustrated-message__actions:before{box-sizing:inherit;font-size:inherit}@media screen and (max-width: 599px){.fd-illustrated-message{--illustratedMessageMaxWidth:20rem;--illustrationW:15rem;--illustrationH:11.25rem;--figcaptionMaxWidth:18rem}}.fd-illustrated-message--dialog{--illustrationW:10rem;--illustrationH:10rem;--illustrationMargin:1rem 0;--titleMarginBottom:.5rem;--titleFontSize:var(--sapFontHeader3Size);--actionsMargin:.5rem 0 1rem 0}.fd-illustrated-message--spot{--illustratedMessagePadding:.5rem;--illustrationW:8rem;--illustrationH:8rem;--illustrationMargin:0 0 .5rem 0;--actionsMargin:.5rem 0;--titleMarginBottom:.5rem;--titleFontSize:var(--sapFontHeader4Size)}.fd-illustrated-message--dot{--illustratedMessagePadding:.25rem;--illustrationW:2.813rem;--illustrationH:2.813rem;--illustrationMargin:0;--textMarginBottom:.313rem;--titleMarginBottom:.25rem;--titleFontSize:var(--sapFontHeader5Size);--actionsMargin:.25rem 0;--illustrationMarginRight:.25rem;-ms-flex-wrap:wrap;flex-direction:row;flex-wrap:wrap}.fd-illustrated-message--dot .fd-illustrated-message__illustration{margin-right:var(--illustrationMarginRight)}.fd-illustrated-message--dot .fd-illustrated-message__illustration[dir=rtl],[dir=rtl] .fd-illustrated-message--dot .fd-illustrated-message__illustration{margin-left:var(--illustrationMarginRight);margin-right:0}.fd-illustrated-message--dot .fd-illustrated-message__illustration+.fd-illustrated-message__figcaption{width:calc(100% - var(--illustrationW) - var(--illustrationMarginRight))}\n"],encapsulation:2,changeDetection:0}),(0,e.gn)([b.Mkd,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",Array)],N.prototype,"buildComponentCssClass",null)},70494:(V,I,t)=>{t.d(I,{bz:()=>l});var e=t(36895),b=t(94650);class l{}l.\u0275fac=function(R){return new(R||l)},l.\u0275mod=b.oAB({type:l}),l.\u0275inj=b.cJS({imports:[e.ez]}),t(30891),t(71273),t(6941),t(76314),t(67755)},50639:(V,I,t)=>{t.d(I,{P2:()=>ee,tf:()=>f});var e=t(39841),b=t(71467),l=t(91551),T=t(96833),h=t(40790),o=t(94650),y=t(36895),B=t(90433),P=t(30514),R=t(34531),K=t(79754),W=t(93839),S=t(71497),N=t(85677),D=t(45277),g=t(21382),m=t(81353),u=t(97039),A=t(56569),C=t(26069),k=t(94834),z=t(67909),X=t(65005),H=t(46786),q=t(81009),J=t(21418),$=t(89789),oe=t(82551),te=t(77762),L=t(79600),O=t(46067),E=t(27946);function Y(p,n){1&p&&(o.ynx(0),o._uU(1),o.ALo(2,"fdTranslate"),o.BQk()),2&p&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApprovers")," "))}function G(p,n){1&p&&(o.ynx(0),o._uU(1),o.ALo(2,"fdTranslate"),o.BQk()),2&p&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderEditApprover")," "))}function ae(p,n){1&p&&(o.ynx(0),o._uU(1),o.ALo(2,"fdTranslate"),o.BQk()),2&p&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApproverTeam")," "))}function ve(p,n){if(1&p){const d=o.EpF();o.ynx(0),o.TgZ(1,"fd-icon",5),o.NdJ("click",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._exitTeamMembersMode())}),o.qZA(),o._uU(2),o.BQk()}if(2&p){const d=o.oxw(2);let w;o.xp6(1),o.Q6J("glyph",d._headerArrowGlyph),o.xp6(1),o.AsE(" ",null!==(w=null==d.viewService.team?null:d.viewService.team.name)&&void 0!==w?w:""," (",null!==(w=null==d.viewService.team||null==d.viewService.team.members?null:d.viewService.team.members.length)&&void 0!==w?w:0,") ")}}function ge(p,n){if(1&p){const d=o.EpF();o.ynx(0),o.TgZ(1,"fd-icon",5),o.NdJ("click",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._exitUserDetailsMode())}),o.qZA(),o._uU(2),o.ALo(3,"fdTranslate"),o.BQk()}if(2&p){const d=o.oxw(2);o.xp6(1),o.Q6J("glyph",d._headerArrowGlyph),o.xp6(1),o.hij(" ",o.lcZ(3,2,"platformApprovalFlow.addNodeDialogHeaderDetail")," ")}}const se=function(){return[]};function ne(p,n){if(1&p){const d=o.EpF();o.TgZ(0,"fdp-search-field",6),o.NdJ("inputChange",function(M){o.CHM(d);const Z=o.oxw(2);return o.KtG(Z._onSearchStringChange(M.text))}),o.ALo(1,"fdTranslate"),o.qZA()}2&p&&o.Q6J("placeholder",o.lcZ(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",o.DdM(4,se))}function re(p,n){if(1&p&&(o.TgZ(0,"p"),o.YNc(1,Y,3,3,"ng-container",2),o.YNc(2,G,3,3,"ng-container",2),o.YNc(3,ae,3,3,"ng-container",2),o.YNc(4,ve,3,3,"ng-container",2),o.YNc(5,ge,4,4,"ng-container",2),o.qZA(),o.YNc(6,ne,2,5,"fdp-search-field",4)),2&p){const d=o.oxw();o.xp6(1),o.Q6J("ngIf",!d._selectMode&&!d._data.isEdit),o.xp6(1),o.Q6J("ngIf",!d._selectMode&&d._data.isEdit),o.xp6(1),o.Q6J("ngIf",d.viewService.isSelectUserMode||d.viewService.isSelectTeamMode),o.xp6(1),o.Q6J("ngIf",d.viewService.isTeamMembersMode),o.xp6(1),o.Q6J("ngIf",d.viewService.isUserDetailsMode),o.xp6(1),o.Q6J("ngIf",d._selectMode&&!d._userToShowDetails)}}function he(p,n){if(1&p&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&p){const d=o.oxw().$implicit;o.Q6J("value",d),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogNodeTypeSerial")," ")}}function _e(p,n){if(1&p&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&p){const d=o.oxw().$implicit;o.Q6J("value",d),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogNodeTypeParallel")," ")}}function me(p,n){if(1&p&&(o.ynx(0)(1,14),o.YNc(2,he,3,4,"li",15),o.YNc(3,_e,3,4,"li",15),o.BQk()()),2&p){const d=n.$implicit,w=o.oxw(3);o.xp6(1),o.Q6J("ngSwitch",d),o.xp6(1),o.Q6J("ngSwitchCase",w._nodeTypes.SERIAL),o.xp6(1),o.Q6J("ngSwitchCase",w._nodeTypes.PARALLEL)}}function we(p,n){if(1&p){const d=o.EpF();o.TgZ(0,"div",8)(1,"label",9),o._uU(2),o.ALo(3,"fdTranslate"),o.qZA(),o.TgZ(4,"fd-select",10),o.NdJ("valueChange",function(M){o.CHM(d);const Z=o.oxw(2);return o.KtG(Z._nodeType=M)}),o.YNc(5,me,4,3,"ng-container",11),o.qZA()()}if(2&p){const d=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,3,"platformApprovalFlow.addNodeDialogNodeType")," "),o.xp6(2),o.Q6J("value",d._nodeType),o.xp6(1),o.Q6J("ngForOf",d._nodeTypesArray)}}function Ae(p,n){if(1&p&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&p){const d=o.oxw().$implicit;o.Q6J("value",d),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeUser")," ")}}function Ce(p,n){if(1&p&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&p){const d=o.oxw().$implicit;o.Q6J("value",d),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamAnyone")," ")}}function be(p,n){if(1&p&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&p){const d=o.oxw().$implicit;o.Q6J("value",d),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamEveryone")," ")}}function Te(p,n){if(1&p&&(o.ynx(0)(1,14),o.YNc(2,Ae,3,4,"li",15),o.YNc(3,Ce,3,4,"li",15),o.YNc(4,be,3,4,"li",15),o.BQk()()),2&p){const d=n.$implicit,w=o.oxw(2);o.xp6(1),o.Q6J("ngSwitch",d),o.xp6(1),o.Q6J("ngSwitchCase",w._approverTypes.SINGLE_USER),o.xp6(1),o.Q6J("ngSwitchCase",w._approverTypes.ANYONE),o.xp6(1),o.Q6J("ngSwitchCase",w._approverTypes.EVERYONE)}}function xe(p,n){if(1&p){const d=o.EpF();o.TgZ(0,"fd-multi-input",17),o.NdJ("ngModelChange",function(M){o.CHM(d);const Z=o.oxw(2);return o.KtG(Z._selectedApprovers=M)})("openChange",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._goToSelectMode())})("selectedChange",function(M){o.CHM(d);const Z=o.oxw(2);return o.KtG(Z._setSelectedApprovers(M))}),o.qZA()}if(2&p){const d=o.oxw(2);o.Q6J("showAllButton",!1)("dropdownValues",d._selectedApprovers)("ngModel",d._selectedApprovers)("displayFn",d._displayUserFn)}}function Ee(p,n){if(1&p){const d=o.EpF();o.TgZ(0,"fd-multi-input",18),o.NdJ("ngModelChange",function(M){o.CHM(d);const Z=o.oxw(2);return o.KtG(Z._selectedTeamArray=M)})("openChange",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._goToSelectMode())}),o.qZA()}if(2&p){const d=o.oxw(2);o.Q6J("showAllButton",!1)("dropdownValues",d._selectedTeamArray)("ngModel",d._selectedTeamArray)("displayFn",d._displayTeamFn)}}function Me(p,n){if(1&p){const d=o.EpF();o.TgZ(0,"div",8)(1,"fd-checkbox",19),o.NdJ("ngModelChange",function(M){o.CHM(d);const Z=o.oxw(2);return o.KtG(Z._addToNextSerial=M)}),o._uU(2),o.ALo(3,"fdTranslate"),o.qZA()()}if(2&p){const d=o.oxw(2);o.xp6(1),o.Q6J("ngModel",d._addToNextSerial),o.xp6(1),o.hij(" ",o.lcZ(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}function De(p,n){if(1&p){const d=o.EpF();o.TgZ(0,"div",8)(1,"label",9),o._uU(2),o.ALo(3,"fdTranslate"),o.qZA(),o.TgZ(4,"fd-date-picker",20),o.NdJ("ngModelChange",function(M){o.CHM(d);const Z=o.oxw(2);return o.KtG(Z._dueDate=M)}),o.qZA()()}if(2&p){const d=o.oxw(2);o.xp6(2),o.Oqu(o.lcZ(3,3,"platformApprovalFlow.addNodeDialogDueDate")),o.xp6(2),o.Q6J("state",d._dueDate?null:"error")("ngModel",d._dueDate)}}function Ne(p,n){if(1&p){const d=o.EpF();o.ynx(0),o.YNc(1,we,6,5,"div",7),o.TgZ(2,"div",8)(3,"label",9),o._uU(4),o.ALo(5,"fdTranslate"),o.qZA(),o.TgZ(6,"fd-select",10),o.NdJ("valueChange",function(M){o.CHM(d);const Z=o.oxw();return o.KtG(Z._approverType=M)}),o.YNc(7,Te,5,4,"ng-container",11),o.qZA()(),o.TgZ(8,"div",8)(9,"label",9),o._uU(10),o.ALo(11,"fdTranslate"),o.qZA(),o.YNc(12,xe,1,4,"fd-multi-input",12),o.YNc(13,Ee,1,4,"fd-multi-input",13),o.qZA(),o.YNc(14,Me,4,4,"div",7),o.YNc(15,De,5,5,"div",7),o.BQk()}if(2&p){const d=o.oxw();o.xp6(1),o.Q6J("ngIf",d._data.showNodeTypeSelect),o.xp6(3),o.hij(" ",o.lcZ(5,9,"platformApprovalFlow.addNodeDialogApproverType")," "),o.xp6(2),o.Q6J("value",d._approverType),o.xp6(1),o.Q6J("ngForOf",d._approverTypesArray),o.xp6(3),o.Oqu(o.lcZ(11,11,"platformApprovalFlow.addNodeDialogUserOrTeam")),o.xp6(2),o.Q6J("ngIf",d._isSingleUserMode),o.xp6(1),o.Q6J("ngIf",!d._isSingleUserMode),o.xp6(1),o.Q6J("ngIf",d._nodeType===d._nodeTypes.PARALLEL),o.xp6(1),o.Q6J("ngIf",d._checkDueDate)}}function Se(p,n){if(1&p){const d=o.EpF();o.TgZ(0,"fdp-approval-flow-team-list",23),o.NdJ("onTeamClick",function(M){o.CHM(d);const Z=o.oxw(3);return o.KtG(Z._viewTeamMembers(M))})("onTeamRadioClick",function(M){o.CHM(d);const Z=o.oxw(3);return o.KtG(Z._setSelectedTeam(M))}),o.qZA()}if(2&p){const d=o.oxw(3);o.Q6J("isRtl",d._data.rtl)("teams",d._teams)("selectedTeamId",null==d._selectedTeam?null:d._selectedTeam.id)}}function Fe(p,n){if(1&p&&(o.ynx(0),o.YNc(1,Se,1,3,"fdp-approval-flow-team-list",22),o.BQk()),2&p){const d=o.oxw(2),w=o.MAs(10);o.xp6(1),o.Q6J("ngIf",!d._data.teamDataSource.isDataLoading)("ngIfElse",w)}}function ye(p,n){if(1&p){const d=o.EpF();o.TgZ(0,"fdp-approval-flow-user-list",25),o.NdJ("onUserClick",function(M){o.CHM(d);const Z=o.oxw(3);return o.KtG(Z._seeUserDetails(M))})("onSelectionChange",function(M){o.CHM(d);const Z=o.oxw(3);return o.KtG(Z._selectedApprovers=M)}),o.qZA()}if(2&p){const d=o.oxw(3);o.Q6J("users",d.viewService.isSelectUserMode?d._approvers:d._filteredTeamMembers)("isSelectable",d.viewService.isSelectUserMode)("selectedUsers",d._selectedApprovers)}}function Ie(p,n){if(1&p&&(o.ynx(0),o.YNc(1,ye,1,3,"fdp-approval-flow-user-list",24),o.BQk()),2&p){const d=o.oxw(2),w=o.MAs(10);o.xp6(1),o.Q6J("ngIf",d.viewService.isSelectUserMode||!d._data.userDataSource.isDataLoading)("ngIfElse",w)}}function Pe(p,n){if(1&p&&o._UZ(0,"fdp-approval-flow-user-details",26),2&p){const d=o.oxw(2);o.Q6J("user",d._userToShowDetails)("detailsTemplate",d._data.userDetailsTemplate)("details",d._userToShowDetailsData$)}}function Le(p,n){if(1&p&&(o.ynx(0),o.YNc(1,Fe,2,2,"ng-container",2),o.YNc(2,Ie,2,2,"ng-container",2),o.YNc(3,Pe,1,3,"fdp-approval-flow-user-details",21),o.BQk()),2&p){const d=o.oxw();o.xp6(1),o.Q6J("ngIf",d.viewService.isSelectTeamMode),o.xp6(1),o.Q6J("ngIf",d.viewService.isSelectUserMode||d.viewService.isTeamMembersMode),o.xp6(1),o.Q6J("ngIf",d.viewService.isUserDetailsMode&&d._userToShowDetails)}}function Oe(p,n){if(1&p){const d=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",27),o.NdJ("click",function(){o.CHM(d);const M=o.oxw();return o.KtG(M._submit())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.TgZ(4,"fd-dialog-footer-button")(5,"button",28),o.NdJ("click",function(){o.CHM(d);const M=o.oxw();return o.KtG(M.dialogRef.close())}),o.ALo(6,"fdTranslate"),o.qZA()(),o.BQk()}if(2&p){const d=o.oxw();o.xp6(2),o.Q6J("label",o.lcZ(3,3,"platformApprovalFlow.addNodeAddActionBtnLabel"))("disabled",d._isMainSubmitButtonDisabled),o.xp6(3),o.Q6J("label",o.lcZ(6,5,"platformApprovalFlow.addNodeCancelActionBtnLabel"))}}function Be(p,n){if(1&p){const d=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",29),o.NdJ("click",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._confirmSelectedApprovers())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.TgZ(4,"fd-dialog-footer-button")(5,"button",30),o.NdJ("click",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._exitSelectMode())}),o.ALo(6,"fdTranslate"),o.qZA()(),o.BQk()}if(2&p){const d=o.oxw(2);o.xp6(2),o.Q6J("label",o.lcZ(3,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!d._selectedApprovers.length),o.xp6(3),o.Q6J("label",o.lcZ(6,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function ke(p,n){if(1&p){const d=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",29),o.NdJ("click",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._confirmSelectedTeam())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.TgZ(4,"fd-dialog-footer-button")(5,"button",30),o.NdJ("click",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._exitSelectMode())}),o.ALo(6,"fdTranslate"),o.qZA()(),o.BQk()}if(2&p){const d=o.oxw(2);o.xp6(2),o.Q6J("label",o.lcZ(3,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!d._selectedTeam&&!d.viewService.team),o.xp6(3),o.Q6J("label",o.lcZ(6,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Ze(p,n){if(1&p){const d=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",30),o.NdJ("click",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._exitTeamMembersMode())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.BQk()}2&p&&(o.xp6(2),o.Q6J("label",o.lcZ(3,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function Ue(p,n){if(1&p){const d=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",30),o.NdJ("click",function(){o.CHM(d);const M=o.oxw(2);return o.KtG(M._exitUserDetailsMode())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.BQk()}2&p&&(o.xp6(2),o.Q6J("label",o.lcZ(3,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function ue(p,n){if(1&p&&(o.ynx(0),o.YNc(1,Be,7,7,"ng-container",2),o.YNc(2,ke,7,7,"ng-container",2),o.YNc(3,Ze,4,3,"ng-container",2),o.YNc(4,Ue,4,3,"ng-container",2),o.BQk()),2&p){const d=o.oxw();o.xp6(1),o.Q6J("ngIf",d.viewService.isSelectUserMode),o.xp6(1),o.Q6J("ngIf",d.viewService.isSelectTeamMode),o.xp6(1),o.Q6J("ngIf",d.viewService.isTeamMembersMode),o.xp6(1),o.Q6J("ngIf",d.viewService.isUserDetailsMode)}}function Re(p,n){1&p&&o._UZ(0,"fd-busy-indicator",31),2&p&&o.Q6J("loading",!0)("block",!0)}var ee=(()=>{return(p=ee||(ee={})).SERIAL="SERIAL",p.PARALLEL="PARALLEL",ee;var p})(),le=(()=>{return(p=le||(le={})).SINGLE_USER="SINGLE_USER",p.ANYONE="ANYONE",p.EVERYONE="EVERYONE",le;var p})();class f{constructor(n,d,w){this.dialogRef=n,this.viewService=d,this._cdr=w,this._nodeType=ee.SERIAL,this._nodeTypes=ee,this._nodeTypesArray=Object.keys(ee),this._approverType=le.SINGLE_USER,this._approverTypes=le,this._approverTypesArray=Object.keys(le),this._dueDate=b._U.getNow(),this._selectMode=!1,this._approvers=[],this._teams=[],this._selectedApprovers=[],this._selectedTeamArray=[],this._selectedTeamMembers=[],this._filteredTeamMembers=[],this._checkDueDate=!1,this._displayUserFn=h.Us,this._displayTeamFn=h.Bw,this._trackByFn=h.Hg,this._addToNextSerial=!1}get _data(){return this.dialogRef.data}get _isSingleUserMode(){return this._approverType===this._approverTypes.SINGLE_USER}get _isMainSubmitButtonDisabled(){return!(this._isSingleUserMode?this._selectedApprovers:this._selectedTeamArray).length||this._checkDueDate&&!this._dueDate}get _headerArrowGlyph(){return"navigation-"+(this._data.rtl?"right":"left")+"-arrow"}ngOnInit(){this._data.teamDataSource.match(),this._data.userDataSource.match();const n=this._data.teamDataSource.open(),d=this._data.userDataSource.open();switch(this._dataSourceSub=(0,e.a)([n,d]).subscribe(([w,M])=>{if(this._teams=w,this._approvers=M,this._data.isEdit){this._checkDueDate=!!this._data.checkDueDate,this._checkDueDate&&this._data.node?.dueDate&&(this._dueDate=b._U.getFdDateByDate(new Date(this._data.node.dueDate))),this._selectedApprovers=[...this._data.node?.approvers??[]];const Z=this._data.node?.approvalTeamId&&this._teams.find(Qe=>Qe.id===this._data.node?.approvalTeamId);Z&&(this.viewService.selectTeam(Z),this._selectedTeam=Z,this._selectedTeamArray=[Z],this._approverType=this._data.node?.isEveryoneApprovalNeeded?this._approverTypes.EVERYONE:this._approverTypes.ANYONE)}this._cdr.detectChanges()}),this._viewChangeSub=this.viewService.onViewChange.subscribe(()=>{this._onSearchStringChange(""),this._cdr.detectChanges()}),this._data.nodeTarget){case"empty":case"before":case"after":this._nodeType=this._nodeTypes.SERIAL;break;case"parallel":this._nodeType=this._nodeTypes.PARALLEL}}ngOnDestroy(){this._viewChangeSub.unsubscribe(),this._dataSourceSub.unsubscribe(),this._data.userDataSource.close(),this._data.teamDataSource.close()}_goToSelectMode(){this._selectMode=!0,this.viewService.setCurrentView(this._isSingleUserMode?T.n.SELECT_USER:T.n.SELECT_TEAM),this._cdr.detectChanges()}_exitSelectMode(){this._selectedApprovers.length&&!this._data.node?.approvers.length&&(this._selectedApprovers=[]),!this._data.isEdit&&!this._data.node?.approvalTeamId&&this.viewService.resetTeam(),this._selectMode=!1,this.viewService.resetView(),this._cdr.detectChanges()}_setSelectedApprovers(n){this._selectedApprovers=n,this._confirmSelectedApprovers()}_confirmSelectedApprovers(){this._data.node&&(this._data.node.approvers=this._selectedApprovers,this._data.node.variousTeams=this._data.node.approvers.some(n=>n.teamId!==this._data.node.approvers[0].teamId),this._data.node.description=this._data.node.variousTeams?"":this._selectedApprovers[0]?.description,delete this._data.node.approvalTeamId,delete this._data.node.isEveryoneApprovalNeeded,this._exitSelectMode())}_setSelectedTeam(n){this.viewService.selectTeam(n)}_confirmSelectedTeam(){this.viewService.team&&(this._selectedTeam=this.viewService.team,this._selectedTeamArray=[this.viewService.team],this._data.node&&(this._data.node.variousTeams=!1,this._data.node.approvalTeamId=this.viewService.team.id,this._data.node.description=this.viewService.team.name,this._data.node.isEveryoneApprovalNeeded=this._approverType===le.EVERYONE),this._exitSelectMode())}_seeUserDetails(n){this.viewService.setCurrentView(T.n.USER_DETAILS),this._userToShowDetails=n,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",n.id]])),this._cdr.detectChanges()}_exitUserDetailsMode(){this.viewService.setCurrentView(this.viewService.team?T.n.VIEW_TEAM_MEMBERS:T.n.SELECT_USER),this._userToShowDetails=void 0,this._userToShowDetailsData$=void 0,this._cdr.detectChanges()}_viewTeamMembers(n){this.viewService.selectTeam(n),this.viewService.setCurrentView(T.n.VIEW_TEAM_MEMBERS),this._selectedTeamMembers=n.members,this._setFilteredTeamMembers(this._selectedTeamMembers),this._cdr.detectChanges()}_exitTeamMembersMode(){this.viewService.setCurrentView(T.n.SELECT_TEAM),this.viewService.resetTeam(),this._selectedTeamMembers=[],this._cdr.detectChanges()}_submit(){this._data.node&&!this._isSingleUserMode&&this._selectedTeam&&(this._data.node.approvers=[...this._selectedTeam.members]),this._data.node&&this._checkDueDate&&(this._data.node.dueDate=this._dueDate.toDate()),this.dialogRef.close({node:this._data.node,nodeType:this._nodeType,toNextSerial:this._addToNextSerial})}_onSearchStringChange(n=""){const d=new Map([["query",n]]);this.viewService.isSelectUserMode?this._data.userDataSource.match(d):this.viewService.isSelectTeamMode?this._data.teamDataSource.match(d):this.viewService.isTeamMembersMode&&this._setFilteredTeamMembers(this._selectedTeamMembers.filter(w=>(0,h.TV)(w,n)))}_setFilteredTeamMembers(n){this._filteredTeamMembers=[...n],this._cdr.detectChanges()}}f.\u0275fac=function(n){return new(n||f)(o.Y36(l.zj),o.Y36(T.E),o.Y36(o.sBO))},f.\u0275cmp=o.Xpm({type:f,selectors:[["fdp-approval-flow-add-node"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-add-node"],decls:11,vars:8,consts:[["fdCompact",""],["fdkTemplate","header"],[4,"ngIf"],["loadingTpl",""],[3,"placeholder","suggestions","inputChange",4,"ngIf"],[3,"glyph","click"],[3,"placeholder","suggestions","inputChange"],["fd-form-item","",4,"ngIf"],["fd-form-item",""],["fd-form-label",""],[3,"value","valueChange"],[4,"ngFor","ngForOf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange",4,"ngIf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange",4,"ngIf"],[3,"ngSwitch"],["fd-option","",3,"value",4,"ngSwitchCase"],["fd-option","",3,"value"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange"],[3,"ngModel","ngModelChange"],["type","single",3,"state","ngModel","ngModelChange"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick",4,"ngIf","ngIfElse"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange",4,"ngIf","ngIfElse"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange"],[3,"user","detailsTemplate","details"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],["fd-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fd-initial-focus","","fdType","transparent",3,"label","click"],[3,"loading","block"]],template:function(n,d){1&n&&(o.TgZ(0,"fd-dialog",0)(1,"fd-dialog-header"),o.YNc(2,re,7,6,"ng-template",1),o.qZA(),o.TgZ(3,"fd-dialog-body"),o.YNc(4,Ne,16,13,"ng-container",2),o.YNc(5,Le,4,3,"ng-container",2),o.qZA(),o.TgZ(6,"fd-dialog-footer"),o.YNc(7,Oe,7,7,"ng-container",2),o.YNc(8,ue,5,4,"ng-container",2),o.qZA()(),o.YNc(9,Re,1,2,"ng-template",null,3,o.W1O)),2&n&&(o.xp6(1),o.ekj("show-search",d._selectMode&&!d._userToShowDetails),o.xp6(2),o.ekj("fd-dialog__body--auto-height",d.viewService.isUserDetailsMode),o.xp6(1),o.Q6J("ngIf",!d._selectMode),o.xp6(1),o.Q6J("ngIf",d._selectMode),o.xp6(2),o.Q6J("ngIf",!d._selectMode),o.xp6(1),o.Q6J("ngIf",d._selectMode))},dependencies:[y.sg,y.O5,y.RF,y.n9,B.JJ,B.On,P.$,R.r,K.o,W.a,S.H,N.g,D.A,g.u,m.r,u.S,A.N,A.j,C.ri,k.L,z.b,X.Hr,H.x,q.L,J.B,$.J,oe.h,te.R,L.Q,O.S,E.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n",".fdp-approval-flow-add-node .fd-dialog__body{width:20rem;height:27rem}.fdp-approval-flow-add-node .fd-dialog__body--auto-height{height:auto}\n"],encapsulation:2,changeDetection:0})},29877:(V,I,t)=>{t.d(I,{F:()=>te});var e=t(91551),b=t(40790),l=t(94650),T=t(36895),h=t(30514),o=t(34531),y=t(79754),B=t(93839),P=t(71497),R=t(85677),K=t(45277),W=t(21382),S=t(81353),N=t(97039),D=t(56569),g=t(26069),m=t(77762),u=t(79600),A=t(27946);function C(L,O){if(1&L){const E=l.EpF();l.TgZ(0,"fd-icon",10),l.NdJ("click",function(){l.CHM(E);const G=l.oxw(2);return l.KtG(G._exitUserDetailsMode())})("keyup.space",function(){l.CHM(E);const G=l.oxw(2);return l.KtG(G._exitUserDetailsMode())})("keyup.enter",function(){l.CHM(E);const G=l.oxw(2);return l.KtG(G._exitUserDetailsMode())}),l.qZA()}if(2&L){const E=l.oxw(2);l.Q6J("glyph","navigation-"+(E._data.rtl?"right":"left")+"-arrow")}}function k(L,O){if(1&L&&(l.ynx(0),l._uU(1),l.BQk()),2&L){const E=l.oxw(2);let Y;l.xp6(1),l.AsE("",null==E._data.node?null:E._data.node.description," (",null!==(Y=null==E._data.node||null==E._data.node.approvers?null:E._data.node.approvers.length)&&void 0!==Y?Y:0,")")}}const z=function(){return[]};function X(L,O){if(1&L){const E=l.EpF();l.TgZ(0,"fdp-search-field",11),l.NdJ("inputChange",function(G){l.CHM(E);const ae=l.oxw(2);return l.KtG(ae._onSearchStringChange(G.text))}),l.ALo(1,"fdTranslate"),l.qZA()}2&L&&l.Q6J("placeholder",l.lcZ(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",l.DdM(4,z))}function H(L,O){if(1&L&&(l.TgZ(0,"p"),l.YNc(1,C,1,1,"fd-icon",7),l.YNc(2,k,2,2,"ng-container",8),l.qZA(),l.YNc(3,X,2,5,"fdp-search-field",9)),2&L){const E=l.oxw(),Y=l.MAs(12);l.xp6(1),l.Q6J("ngIf",E._userToShowDetails&&(null==E._data.node?null:E._data.node.approvers)&&E._data.node.approvers.length>1),l.xp6(1),l.Q6J("ngIf",E._isListMode&&!E._userToShowDetails)("ngIfElse",Y),l.xp6(1),l.Q6J("ngIf",!E._userToShowDetails&&E._isListMode)}}function q(L,O){if(1&L&&l._UZ(0,"fdp-approval-flow-user-details",12),2&L){const E=l.oxw();l.Q6J("user",E._userToShowDetails)("detailsTemplate",E._data.userDetailsTemplate)("details",E._userToShowDetailsData$)}}function J(L,O){if(1&L){const E=l.EpF();l.TgZ(0,"fdp-approval-flow-user-list",13),l.NdJ("onUserClick",function(G){l.CHM(E);const ae=l.oxw();return l.KtG(ae._seeUserDetails(G))})("onSelectionChange",function(G){l.CHM(E);const ae=l.oxw();return l.KtG(ae._selectedUsers=G)}),l.qZA()}if(2&L){const E=l.oxw();l.Q6J("users",E._listItems)}}function $(L,O){if(1&L){const E=l.EpF();l.TgZ(0,"fd-dialog-footer-button")(1,"button",14),l.NdJ("click",function(){l.CHM(E);const G=l.oxw();return l.KtG(G._sendReminder())}),l.ALo(2,"fdTranslate"),l.qZA()()}if(2&L){const E=l.oxw();l.xp6(1),l.Q6J("label",l.lcZ(2,2,"platformApprovalFlow.userDetailsSendReminderBtnLabel"))("disabled",!E._data.allowSendReminder||E._isListMode&&!E._selectedUsers.length)}}function oe(L,O){1&L&&(l._uU(0),l.ALo(1,"fdTranslate")),2&L&&l.hij(" ",l.lcZ(1,1,"platformApprovalFlow.userDetailsHeader"),"\n")}class te{constructor(O,E){this.dialogRef=O,this._cdr=E,this._isListMode=!1,this._listItems=[],this._selectedUsers=[]}get _data(){return this.dialogRef.data}ngOnInit(){if(this._isListMode=(this._data.node?.approvers.length??0)>1,this._isListMode)this._setListItems(this._data.node?.approvers??[]);else{const O=this._data.watcher||this._data.node?.approvers[0];O?this._seeUserDetails(O):this.dialogRef.close()}}_setListItems(O=[]){this._listItems=[...O],this._cdr.detectChanges()}_exitUserDetailsMode(){this._userToShowDetails=void 0,this._isListMode=!0}_seeUserDetails(O){this._userToShowDetails=O,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",O.id]])),this._isListMode=!1,this._selectedUsers=[],this._cdr.detectChanges()}_sendReminder(){this.dialogRef.close(this._isListMode?this._selectedUsers:this._data.node?.approvers)}_onSearchStringChange(O){this._setListItems(O?this._data.node?.approvers.filter(E=>(0,b.TV)(E,O)):this._data.node?.approvers)}}te.\u0275fac=function(O){return new(O||te)(l.Y36(e.zj),l.Y36(l.sBO))},te.\u0275cmp=l.Xpm({type:te,selectors:[["fdp-approval-flow-approver-details"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-approver-details"],decls:13,vars:8,consts:[["fdkTemplate","header"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"users","onUserClick","onSelectionChange",4,"ngIf"],["fdCompact",""],[4,"ngIf"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],["defaultHeader",""],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter",4,"ngIf"],[4,"ngIf","ngIfElse"],["fdCompact","",3,"placeholder","suggestions","inputChange",4,"ngIf"],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter"],["fdCompact","",3,"placeholder","suggestions","inputChange"],[3,"user","detailsTemplate","details"],[3,"users","onUserClick","onSelectionChange"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","disabled","click"]],template:function(O,E){1&O&&(l.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),l.YNc(2,H,4,4,"ng-template",0),l.qZA(),l.TgZ(3,"fd-dialog-body"),l.YNc(4,q,1,3,"fdp-approval-flow-user-details",1),l.YNc(5,J,1,1,"fdp-approval-flow-user-list",2),l.qZA(),l.TgZ(6,"fd-dialog-footer",3),l.YNc(7,$,3,4,"fd-dialog-footer-button",4),l.TgZ(8,"fd-dialog-footer-button")(9,"button",5),l.NdJ("click",function(){return E.dialogRef.close("Cancel")}),l.ALo(10,"fdTranslate"),l.qZA()()()(),l.YNc(11,oe,2,3,"ng-template",null,6,l.W1O)),2&O&&(l.xp6(1),l.ekj("show-search",!E._userToShowDetails&&E._isListMode),l.xp6(3),l.Q6J("ngIf",E._userToShowDetails),l.xp6(1),l.Q6J("ngIf",E._isListMode),l.xp6(2),l.Q6J("ngIf",E._isListMode||E._userToShowDetails&&1===(null==E._data.node||null==E._data.node.approvers?null:E._data.node.approvers.length)),l.xp6(2),l.Q6J("label",l.lcZ(10,6,"platformApprovalFlow.userDetailsCancelBtnLabel")))},dependencies:[T.O5,h.$,o.r,y.o,B.a,P.H,R.g,K.A,W.u,S.r,N.S,D.N,D.j,g.ri,m.R,u.Q,A.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n"],encapsulation:2,changeDetection:0})},30366:(V,I,t)=>{t.d(I,{S:()=>D});var e=t(94650),b=t(40790),l=t(36895),T=t(67604),h=t(27946);function o(g,m){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesApproverAddedSuccess")," "))}function y(g,m){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesTeamAddedSuccess")," "))}function B(g,m){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeEdited")," "))}function P(g,m){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeRemovedSingular")," "))}function R(g,m){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeRemovedPlural")," "))}function K(g,m){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesTeamRemoved")," "))}function W(g,m){1&g&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesErrorBuildGraph")," "))}function S(g,m){if(1&g){const u=e.EpF();e.TgZ(0,"a",5),e.NdJ("click",function(C){e.CHM(u);const k=e.oxw().index,z=e.oxw();return e.KtG(z._undoLastAction(k,C))})("keyup.enter",function(C){e.CHM(u);const k=e.oxw().index,z=e.oxw();return e.KtG(z._undoLastAction(k,C))})("keyup.space",function(C){e.CHM(u);const k=e.oxw().index,z=e.oxw();return e.KtG(z._undoLastAction(k,C))}),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()}2&g&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesUndoAction")," "))}function N(g,m){if(1&g){const u=e.EpF();e.TgZ(0,"fd-message-strip",1),e.NdJ("onDismiss",function(){const k=e.CHM(u).index,z=e.oxw();return e.KtG(z._dismissMessage(k))}),e.TgZ(1,"bdi")(2,"span",2),e.YNc(3,o,3,3,"ng-container",3),e.YNc(4,y,3,3,"ng-container",3),e.YNc(5,B,3,3,"ng-container",3),e.YNc(6,P,3,3,"ng-container",3),e.YNc(7,R,3,3,"ng-container",3),e.YNc(8,K,3,3,"ng-container",3),e.YNc(9,W,3,3,"ng-container",3),e.qZA(),e.YNc(10,S,3,3,"a",4),e.qZA()()}if(2&g){const u=m.$implicit,A=e.oxw();e.Q6J("type","error"===u.type?"error":"success")("dismissible","error"!==u.type),e.xp6(2),e.Q6J("ngSwitch",u.type),e.xp6(1),e.Q6J("ngSwitchCase","approverAddSuccess"),e.xp6(1),e.Q6J("ngSwitchCase","teamAddSuccess"),e.xp6(1),e.Q6J("ngSwitchCase","nodeEdit"),e.xp6(1),e.Q6J("ngSwitchCase","nodeRemove"),e.xp6(1),e.Q6J("ngSwitchCase","nodesRemove"),e.xp6(1),e.Q6J("ngSwitchCase","teamRemove"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngIf",A.undoLastActionAvailable)}}class D{constructor(){this.messages=[],this.undoLastActionAvailable=!1,this.messagesChange=new e.vpe,this.undoLastAction=new e.vpe,this._trackByFn=b.Hg}_dismissMessage(m){this.messages.splice(m,1)}_undoLastAction(m,u){u.preventDefault(),this._dismissMessage(m),this.undoLastAction.emit()}}D.\u0275fac=function(m){return new(m||D)},D.\u0275cmp=e.Xpm({type:D,selectors:[["fdp-approval-flow-messages"]],hostAttrs:[1,"fdp-approval-flow-messages"],inputs:{messages:"messages",undoLastActionAvailable:"undoLastActionAvailable"},outputs:{messagesChange:"messagesChange",undoLastAction:"undoLastAction"},decls:1,vars:1,consts:[["class","fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss"],[3,"ngSwitch"],[4,"ngSwitchCase"],["href","#",3,"click","keyup.enter","keyup.space",4,"ngIf"],["href","#",3,"click","keyup.enter","keyup.space"]],template:function(m,u){1&m&&e.YNc(0,N,11,11,"fd-message-strip",0),2&m&&e.Q6J("ngForOf",u.messages)},dependencies:[l.sg,l.O5,l.RF,l.n9,T.h,h.n],styles:[".fdp-approval-flow-messages__item:not(:last-child){margin-bottom:1rem}\n"],encapsulation:2,changeDetection:0})},17226:(V,I,t)=>{t.d(I,{h:()=>b});var e=t(94650);class b{constructor(T){this.elRef=T,this.active=!1}_checkIfNodeDraggedInDropZone(T){this.active=!1;const h=this.elRef.nativeElement.getBoundingClientRect();h.top+h.height>T.top&&h.left+h.width>T.left&&h.bottom-h.height<T.bottom&&h.right-h.width<T.right&&(this.active=!0)}}b.\u0275fac=function(T){return new(T||b)(e.Y36(e.SBq))},b.\u0275dir=e.lG2({type:b,selectors:[["","fdp-approval-flow-drop-zone",""]],inputs:{placement:"placement"},exportAs:["fdp-approval-flow-drop-zone"]})},19731:(V,I,t)=>{t.d(I,{D:()=>ee});var e=t(94650),b=t(50727),l=t(60505),T=t(44604),h=t(62389),o=t(17226),y=t(40790),B=t(2215),P=t(36895),R=t(30514),K=t(34531),W=t(21484),S=t(49034),N=t(8451),D=t(92899),g=t(66583),m=t(11545),u=t(27946);const A=["overflowMenuButton"],C=["nodeContent"];function k(f,p){if(1&f&&e._UZ(0,"div",9),2&f){const n=e.oxw();e.ekj("fdp-approval-flow-node__vertical-line-before-solid",n._isVerticalLineBeforeSolid)}}function z(f,p){if(1&f&&e._UZ(0,"div",10),2&f){const n=e.oxw();e.ekj("fdp-approval-flow-node__vertical-line-after-solid",n._isVerticalLineAfterSolid)}}function X(f,p){1&f&&e._UZ(0,"div",14)}function H(f,p){1&f&&e._UZ(0,"div",15)}function q(f,p){1&f&&e._UZ(0,"div",16)}function J(f,p){if(1&f&&(e.ynx(0),e.YNc(1,X,1,0,"div",11),e.YNc(2,H,1,0,"div",12),e.YNc(3,q,1,0,"div",13),e.Hsn(4),e.BQk()),2&f){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.renderArrow),e.xp6(1),e.Q6J("ngIf",n._isRoot&&0===(null==n.meta?null:n.meta.nodeIndex)),e.xp6(1),e.Q6J("ngIf",n._isFinal&&0===(null==n.meta?null:n.meta.nodeIndex))}}function $(f,p){if(1&f&&(e.TgZ(0,"button",18),e.NdJ("click",function(d){return d.stopPropagation()}),e.qZA()),2&f){const n=e.oxw(2),d=e.MAs(14);e.Q6J("fdMenuTrigger",d)("disabled",n._isEditActionsAvailable)}}function oe(f,p){if(1&f&&e.YNc(0,$,1,2,"button",17),2&f){const n=e.oxw();e.Q6J("ngIf",!(null!=n.node&&n.node.disableActions))}}function te(f,p){if(1&f&&(e.ynx(0),e._uU(1),e.BQk()),2&f){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.node.approvers[0].name," ")}}const L=function(f){return{count:f}};function O(f,p){if(1&f&&(e._uU(0),e.ALo(1,"fdTranslate")),2&f){const n=e.oxw(2);e.hij(" ",e.xi3(1,1,"platformApprovalFlow.nodeMembersCount",e.VKq(4,L,n.node.approvers.length))," ")}}function E(f,p){if(1&f&&(e.ynx(0),e._uU(1),e.BQk()),2&f){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.node.approvers.length>1?n.node.description:n.node.approvers.length?n.node.approvers[0].description:""," ")}}function Y(f,p){1&f&&(e._uU(0),e.ALo(1,"fdTranslate")),2&f&&e.hij(" ",e.lcZ(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function G(f,p){1&f&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusApproved")))}function ae(f,p){1&f&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusRejected")))}function ve(f,p){1&f&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusInProgress")))}function ge(f,p){1&f&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusNotStarted")))}function se(f,p){if(1&f&&(e.ynx(0)(1,26),e.YNc(2,G,3,3,"ng-container",27),e.YNc(3,ae,3,3,"ng-container",27),e.YNc(4,ve,3,3,"ng-container",27),e.YNc(5,ge,3,3,"ng-container",27),e.BQk()()),2&f){const n=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",n.node.status),e.xp6(1),e.Q6J("ngSwitchCase","approved"),e.xp6(1),e.Q6J("ngSwitchCase","rejected"),e.xp6(1),e.Q6J("ngSwitchCase","in progress"),e.xp6(1),e.Q6J("ngSwitchCase","not started")}}function ne(f,p){1&f&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&f&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.nodeStatusDueToday")," "))}function re(f,p){if(1&f&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&f){const n=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"platformApprovalFlow.nodeStatusDueInXDays",e.VKq(4,L,n.dueDateThreshold-n._dueIn))," ")}}function he(f,p){if(1&f&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&f){const n=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"platformApprovalFlow.nodeStatusXDaysOverdue",e.VKq(4,L,n._dueIn-n.dueDateThreshold))," ")}}function _e(f,p){if(1&f&&(e.ynx(0),e.YNc(1,ne,3,3,"ng-container",2),e.YNc(2,re,3,6,"ng-container",2),e.YNc(3,he,3,6,"ng-container",2),e.BQk()),2&f){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n._dueIn===n.dueDateThreshold),e.xp6(1),e.Q6J("ngIf",n._dueIn<n.dueDateThreshold),e.xp6(1),e.Q6J("ngIf",n._dueIn>n.dueDateThreshold)}}function me(f,p){if(1&f&&(e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,te,2,1,"ng-container",21),e.YNc(3,O,2,6,"ng-template",null,22,e.W1O),e.qZA(),e.TgZ(5,"div",23),e.YNc(6,E,2,1,"ng-container",21),e.YNc(7,Y,2,3,"ng-template",null,24,e.W1O),e.qZA(),e.TgZ(9,"fdp-object-status",25),e.YNc(10,se,6,5,"ng-container",2),e.YNc(11,_e,4,3,"ng-container",2),e.qZA()()),2&f){const n=e.MAs(4),d=e.MAs(8),w=e.oxw();e.xp6(1),e.ekj("fdp-approval-flow-node__name--members-count",w.node.approvers.length>1),e.Q6J("id",w.approvalFlowNodeId),e.xp6(1),e.Q6J("ngIf",1===w.node.approvers.length)("ngIfElse",n),e.xp6(4),e.Q6J("ngIf",!w.node.variousTeams)("ngIfElse",d),e.xp6(3),e.Q6J("status",w._objectStatus)("inverted",!0),e.xp6(1),e.Q6J("ngIf",!w.checkDueDate||!w._showDueDateWarning),e.xp6(1),e.Q6J("ngIf",w.checkDueDate&&w._showDueDateWarning)}}function we(f,p){1&f&&e.GkF(0)}const Ae=function(){return{placement:"before-all"}};function Ce(f,p){if(1&f&&(e.ynx(0),e.YNc(1,we,1,0,"ng-container",28),e.BQk()),2&f){e.oxw();const n=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(2,Ae))}}function be(f,p){1&f&&e.GkF(0)}const Te=function(){return{placement:"before"}};function xe(f,p){if(1&f&&(e.ynx(0),e.YNc(1,be,1,0,"ng-container",28),e.BQk()),2&f){e.oxw();const n=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(2,Te))}}function Ee(f,p){1&f&&e.GkF(0)}const Me=function(){return{placement:"after"}};function De(f,p){if(1&f&&(e.ynx(0),e.YNc(1,Ee,1,0,"ng-container",28),e.BQk()),2&f){e.oxw();const n=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(2,Me))}}function Ne(f,p){1&f&&e.GkF(0)}const Se=function(){return{placement:"after-all"}};function Fe(f,p){if(1&f&&(e.ynx(0),e.YNc(1,Ne,1,0,"ng-container",28),e.BQk()),2&f){e.oxw();const n=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(2,Se))}}function ye(f,p){if(1&f){const n=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(n);const w=e.oxw().placement,M=e.oxw();return e.KtG(M.onAdd.emit(w))}),e.qZA()}if(2&f){const n=e.oxw().placement,d=e.MAs(2),w=e.oxw();e.Udp("visibility",d.active?"hidden":""),e.ekj("fdp-approval-flow-node__add--blank",w._blank)("fdp-approval-flow-node__add--before",!w._blank&&("before"===n||"before-all"===n))("fdp-approval-flow-node__add--before-all",!w._blank&&"before-all"===n)("fdp-approval-flow-node__add--after",!w._blank&&("after"===n||"after-all"===n))("fdp-approval-flow-node__add--after-all","after-all"===n)}}function Ie(f,p){if(1&f&&(e.YNc(0,ye,1,12,"button",29),e._UZ(1,"div",30,31)),2&f){const n=p.placement,d=e.MAs(2),w=e.oxw();e.Q6J("ngIf","approved"!==w.node.status),e.xp6(1),e.ekj("fdp-approval-flow-node__drop-zone--active",d.active)("fdp-approval-flow-node__drop-zone--blank",w.isNextNodeBlank)("fdp-approval-flow-node__drop-zone--partial",w._dropZonePartial(n)),e.Q6J("placement",n)}}function Pe(f,p){if(1&f){const n=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(n);const w=e.oxw();return e.MAs(14).close(),e.KtG(w.onAdd.emit("before"))}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&f&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversBefore")))}function Le(f,p){if(1&f){const n=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(n);const w=e.oxw();return e.MAs(14).close(),e.KtG(w.onAdd.emit("after"))}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&f&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversAfter")))}function Oe(f,p){if(1&f){const n=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(n);const w=e.oxw();return e.MAs(14).close(),e.KtG(w.onAdd.emit("parallel"))}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&f&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversParallel")))}function Be(f,p){if(1&f){const n=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(n);const w=e.oxw();return e.MAs(14).close(),e.KtG(w.onEdit.emit())}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&f&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"platformApprovalFlow.nodeActionEditApprover"),""))}function ke(f,p){if(1&f){const n=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){e.CHM(n);const w=e.oxw();return e.MAs(14).close(),e.KtG(w.onDelete.emit())}),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&f&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"platformApprovalFlow.nodeActionRemove"),""))}const Ue={approved:"positive",rejected:"negative","in progress":"informative","not started":""};let Re=0;class ee{get _blank(){return!!this.node?.blank}get _space(){return!!this.node?.space}get _isRoot(){return this.meta?.isRoot}get _isFinal(){return this.meta?.isFinal}get _renderLineBefore(){return!this.node?.blank}get _renderLineAfter(){return!this.node?.blank||this._isFinal}get _isApproved(){return this.node&&(0,y.aC)(this.node)}get _isParentApproved(){return this.meta?.parents?.length?this.meta.parents.every(p=>(0,y.aC)(p)):!!this.meta?.rootNodesApproved}get _isNodeSelected(){return this.isEdit&&this._isSelected}get _isParallelStart(){return Boolean(this.meta?.parallelStart)}get _isParallelEnd(){return Boolean(this.meta?.parallelEnd)}get _isFirstInParallel(){return Boolean(this.meta?.isFirstInParallel)}get _isLastInParallel(){return Boolean(this.meta?.isLastInParallel)}get _lastBlank(){return this._blank&&0===this.node.targets.length}get _isSelected(){return!!this.node.selected}constructor(p,n,d){this._elRef=p,this._cdr=n,this._rtlService=d,this.renderArrow=!1,this.checkDueDate=!1,this.dueDateThreshold=7,this.allNodesInColumnApproved=!1,this._showDueDateWarning=!1,this._dueIn=0,this.onAdd=new e.vpe,this.onEdit=new e.vpe,this.onDelete=new e.vpe,this.approvalFlowNodeId="fdp-approval-flow-node-"+Re++,this._subscriptions=new b.w0,this._translationResolver=new B.en}get _nativeElement(){return this._elRef.nativeElement}get _isNotStarted(){return!(0,y._3)(this.node)}get _isEditActionsAvailable(){return"approved"===this.node.status||"rejected"===this.node.status}get _activeDropZones(){return this._dropZones.filter(p=>p.active)}get _isAnyDropZoneActive(){return this._activeDropZones.length>0}get _isVerticalLineBeforeSolid(){return this.meta?.parents.length?this.meta.parents.every(p=>(0,y.aC)(p)):!!this.meta?.isVerticalLineBeforeSolid}get _isVerticalLineAfterSolid(){return this.node?.targets.length?this._isVerticalLineBeforeSolid&&this.allNodesInColumnApproved:!!this.meta?.isVerticalLineAfterSolid}get _showAddButton(){return this.isEdit&&!this._blank&&!this._space&&!this.node?.disableActions}get _showAfterAllAddButton(){return this.isEdit&&!this._space&&!this.node?.disableActions}_dropZonePartial(p){return!this._blank&&(!this.isNextNodeBlank||"before"===p)||this._lastBlank&&"after-all"===p}ngOnInit(){this._checkNodeStatus(),this._subscriptions.add(this._rtlService?.rtl.subscribe(()=>this._cdr.markForCheck()))}ngOnChanges(){this._checkNodeStatus()}ngOnDestroy(){this._subscriptions.unsubscribe()}_onMenuOpen(){this._menu.refreshPosition()}_focus(p){this._gridListItem?.focus(p)}_deactivateDropZones(){this._dropZones.forEach(p=>p.active=!1),this._cdr.detectChanges()}_checkIfNodeDraggedInDropZone(p){this._dropZones.forEach(n=>n._checkIfNodeDraggedInDropZone(p)),this._cdr.detectChanges()}_checkNodeStatus(){if(this.node){if(this.checkDueDate&&this.node.dueDate){const p=Number(new Date(this.node.dueDate))-864e5*this.dueDateThreshold,n=Date.now()-p;return this._dueIn=Math.round(n/864e5),this._showDueDateWarning=!(0,y.aC)(this.node)&&p<Date.now(),this._objectStatus=this._showDueDateWarning?"critical":le(this.node.status),void this._cdr.detectChanges()}this._objectStatus=le(this.node.status),this._cdr.detectChanges()}}}function le(f){return Ue[f]}ee.\u0275fac=function(p){return new(p||ee)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(l.qFd,8))},ee.\u0275cmp=e.Xpm({type:ee,selectors:[["fdp-approval-flow-node"]],contentQueries:function(p,n,d){if(1&p&&e.Suo(d,h.Oh,5),2&p){let w;e.iGM(w=e.CRH())&&(n._gridListItem=w.first)}},viewQuery:function(p,n){if(1&p&&(e.Gf(T.Mn,5),e.Gf(A,5),e.Gf(C,5),e.Gf(o.h,5)),2&p){let d;e.iGM(d=e.CRH())&&(n._menu=d.first),e.iGM(d=e.CRH())&&(n._overflowMenuButton=d.first),e.iGM(d=e.CRH())&&(n._nodeContent=d.first),e.iGM(d=e.CRH())&&(n._dropZones=d)}},hostAttrs:[1,"fdp-approval-flow-node"],hostVars:36,hostBindings:function(p,n){2&p&&e.ekj("fdp-approval-flow-node--first-root",null==n.meta?null:n.meta.firstOfMultipleRootNodes)("fdp-approval-flow-node--first-final",null==n.meta?null:n.meta.firstOfMultipleFinalNodes)("fdp-approval-flow-node--edit-mode",n.isEdit)("fdp-approval-flow-node--next-blank",n.isNextNodeBlank)("fdp-approval-flow-node--blank",n._blank)("fdp-approval-flow-node--space",n._space)("fdp-approval-flow-node--root",n._isRoot)("fdp-approval-flow-node--final",n._isFinal)("fdp-approval-flow-node--line-before",n._renderLineBefore)("fdp-approval-flow-node--line-after",n._renderLineAfter)("fdp-approval-flow-node--approved",n._isApproved)("fdp-approval-flow-node--parent-approved",n._isParentApproved)("fdp-approval-flow-node--selected",n._isNodeSelected)("fdp-approval-flow-node--parallel-start",n._isParallelStart)("fdp-approval-flow-node--parallel-end",n._isParallelEnd)("fdp-approval-flow-node--first-in-parallel",n._isFirstInParallel)("fdp-approval-flow-node--last-in-parallel",n._isLastInParallel)("fdp-approval-flow-node--last-blank",n._lastBlank)},inputs:{node:"node",meta:"meta",renderArrow:"renderArrow",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allNodesInColumnApproved:"allNodesInColumnApproved",isEdit:"isEdit",isNextNodeBlank:"isNextNodeBlank"},outputs:{onAdd:"onAdd",onEdit:"onEdit",onDelete:"onDelete"},features:[e.TTD],ngContentSelectors:["*"],decls:20,vars:12,consts:[["class","fdp-approval-flow-node__vertical-line-before",3,"fdp-approval-flow-node__vertical-line-before-solid",4,"ngIf"],["class","fdp-approval-flow-node__vertical-line-after",3,"fdp-approval-flow-node__vertical-line-after-solid",4,"ngIf"],[4,"ngIf"],["overflowMenuButton",""],["nodeContent",""],["addNodeButton",""],["fdContentDensity","","placement","bottom-end",3,"isOpenChange"],["menu",""],["fd-menu-item","",3,"click",4,"ngIf"],[1,"fdp-approval-flow-node__vertical-line-before"],[1,"fdp-approval-flow-node__vertical-line-after"],["class","fdp-approval-flow-node__arrow",4,"ngIf"],["class","fdp-approval-flow-node__carousel-start-marker",4,"ngIf"],["class","fdp-approval-flow-node__carousel-end-marker",4,"ngIf"],[1,"fdp-approval-flow-node__arrow"],[1,"fdp-approval-flow-node__carousel-start-marker"],[1,"fdp-approval-flow-node__carousel-end-marker"],["class","fdp-approval-flow-node__menu-button","fd-button","","fdType","transparent","tabindex","0","glyph","overflow","title","Menu","fdCompact","",3,"fdMenuTrigger","disabled","click",4,"ngIf"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","title","Menu","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"fdMenuTrigger","disabled","click"],[1,"fdp-approval-flow-node__info"],[1,"fdp-approval-flow-node__name",3,"id"],[4,"ngIf","ngIfElse"],["multipleApprovers",""],[1,"fdp-approval-flow-node__description"],["variousTeams",""],[3,"status","inverted"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-button","","glyph","add","title","Add node","fdCompact","","class","fdp-approval-flow-node__add",3,"fdp-approval-flow-node__add--blank","fdp-approval-flow-node__add--before","fdp-approval-flow-node__add--before-all","fdp-approval-flow-node__add--after","fdp-approval-flow-node__add--after-all","visibility","click",4,"ngIf"],["fdp-approval-flow-drop-zone","",1,"fdp-approval-flow-node__drop-zone",3,"placement"],["dropZone","fdp-approval-flow-drop-zone"],["fd-button","","glyph","add","title","Add node","fdCompact","",1,"fdp-approval-flow-node__add",3,"click"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(p,n){1&p&&(e.F$t(),e.YNc(0,k,1,2,"div",0),e.YNc(1,z,1,2,"div",1),e.YNc(2,J,5,3,"ng-container",2),e.YNc(3,oe,1,1,"ng-template",null,3,e.W1O),e.YNc(5,me,12,11,"ng-template",null,4,e.W1O),e.YNc(7,Ce,2,3,"ng-container",2),e.YNc(8,xe,2,3,"ng-container",2),e.YNc(9,De,2,3,"ng-container",2),e.YNc(10,Fe,2,3,"ng-container",2),e.YNc(11,Ie,3,8,"ng-template",null,5,e.W1O),e.TgZ(13,"fd-menu",6,7),e.NdJ("isOpenChange",function(){return n._onMenuOpen()}),e.YNc(15,Pe,5,3,"li",8),e.YNc(16,Le,5,3,"li",8),e.YNc(17,Oe,5,3,"li",8),e.YNc(18,Be,5,3,"li",8),e.YNc(19,ke,5,3,"li",8),e.qZA()),2&p&&(e.Q6J("ngIf",null==n.meta?null:n.meta.renderVerticalLineBefore),e.xp6(1),e.Q6J("ngIf",null==n.meta?null:n.meta.renderVerticalLineAfter),e.xp6(1),e.Q6J("ngIf",!n._blank&&!n._space),e.xp6(5),e.Q6J("ngIf",n._showAddButton&&(null==n.meta?null:n.meta.canAddNodeBeforeAll)&&!(null!=n.node&&null!=n.node.actionsConfig&&n.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",n._showAddButton&&(null==n.meta?null:n.meta.canAddNodeBefore)&&!(null!=n.node&&null!=n.node.actionsConfig&&n.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",n._showAddButton&&(null==n.meta?null:n.meta.canAddNodeAfter)&&(null==n.meta?null:n.meta.renderAddNodeAfterButton)&&!(null!=n.node&&null!=n.node.actionsConfig&&n.node.actionsConfig.disableAddAfter)),e.xp6(1),e.Q6J("ngIf",n._showAfterAllAddButton&&(null==n.meta?null:n.meta.canAddNodeAfterAll)&&(null==n.meta?null:n.meta.renderAddNodeAfterButton)&&!(null!=n.node&&null!=n.node.actionsConfig&&n.node.actionsConfig.disableAddAfter)),e.xp6(5),e.Q6J("ngIf",(null==n.meta?null:n.meta.canAddNodeBefore)&&!(null!=n.node&&null!=n.node.actionsConfig&&n.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",(null==n.meta?null:n.meta.canAddNodeAfter)&&!(null!=n.node&&null!=n.node.actionsConfig&&n.node.actionsConfig.disableAddAfter)),e.xp6(1),e.Q6J("ngIf",(null==n.meta?null:n.meta.canAddParallel)&&!(null!=n.node&&null!=n.node.actionsConfig&&n.node.actionsConfig.disableAddParallel)),e.xp6(1),e.Q6J("ngIf",n._isNotStarted&&!(null!=n.node&&null!=n.node.actionsConfig&&n.node.actionsConfig.disableEdit)),e.xp6(1),e.Q6J("ngIf",!(null!=n.node&&null!=n.node.actionsConfig&&n.node.actionsConfig.disableRemove)))},dependencies:[P.O5,P.tP,P.RF,P.n9,R.$,K.r,W.k,S.M,N.qv,D.K,g.h,m.k,o.h,u.n],styles:[".fdp-approval-flow-node{display:block;box-sizing:border-box;position:relative;width:17.375rem;height:5.875rem;margin-bottom:1rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode{height:7.875rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-after:after{top:-4.9375rem;height:8.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{content:\"\";display:block;position:absolute;top:-3.9375rem;height:6.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before{left:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before-solid:before{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{right:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after-solid:after{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-before:before{left:auto;right:-2.0625rem}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-after:after{right:auto;left:-2.0625rem}.fdp-approval-flow-node .fdp-approval-flow-node__add{position:absolute;z-index:10;margin:calc(3.4375rem - 1px) auto auto;inset:0;border-radius:100%;min-width:1rem;max-width:1rem;min-height:1rem;max-height:1rem}.fdp-approval-flow-node .fdp-approval-flow-node__add fd-icon{line-height:1rem;font-size:.7rem;font-weight:900}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before{left:-2.5rem;right:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-2.8rem}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after{right:-2.5rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-2.8rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone{border-radius:.25rem;position:absolute;height:100%;z-index:1}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa);border:.125rem solid #0854a0;border:.125rem solid var(--sapButton_IconColor, #0854a0)}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--blank{width:100%;top:0}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--partial{width:10%;left:0;top:0}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank{background:transparent;box-shadow:none;pointer-events:none;cursor:default}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:before{content:\"\";display:block;position:absolute;width:calc(100% + 4rem);height:0;left:-2rem;top:calc(50% - .0625rem);border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{width:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:not(.fdp-approval-flow-node--last-blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{width:100%}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{content:\"\";width:2rem;height:0;display:block;position:absolute;top:calc(50% - .0625rem);bottom:0;pointer-events:none;border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{right:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--blank:before{border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parent-approved.fdp-approval-flow-node--line-before:before{left:-2rem;border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode.fdp-approval-flow-node--blank{pointer-events:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-end-marker{top:3.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__arrow{display:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{right:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{right:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{left:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{left:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{left:19.875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{right:-12.6875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:calc(100% + 4rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{width:4rem;left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{width:4rem;right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__add,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-after{visibility:hidden}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name{font-size:1rem;line-height:1.25rem;margin-bottom:.1rem;color:#32363a;color:var(--sapTextColor, #32363a)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__description{font-size:.875rem;line-height:1rem;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin-bottom:.4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow{width:0;height:0;border-style:solid;border-width:.375rem 0 .375rem .5rem;border-color:transparent transparent transparent #d9d9d9;border-color:transparent transparent transparent var(--sapGroup_TitleBorderColor, #d9d9d9);position:absolute;left:-.5rem;top:0;bottom:0;margin:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{z-index:1;background:#d9d9d9;background:var(--sapGroup_TitleBorderColor, #d9d9d9);display:block;position:absolute;width:.25rem;height:1rem;top:2.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__arrow{left:auto;right:-.5rem;border-width:.375rem .5rem .375rem 0;border-color:transparent #d9d9d9 transparent transparent;border-color:transparent var(--sapGroup_TitleBorderColor, #d9d9d9) transparent transparent}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-before:before{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-after:after{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count{direction:ltr;text-align:right}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before{right:-2.5rem;left:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-2.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after{left:-2.5rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-2.8rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{left:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{left:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{right:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{right:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{right:19.875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:calc(100% + 2rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{left:-12.6875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:calc(100% + 4rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{left:0}\n"],encapsulation:2,changeDetection:0})},99749:(V,I,t)=>{t.d(I,{h:()=>X});var e=t(91551),b=t(50639),l=t(94650),T=t(36895),h=t(90433),o=t(30514),y=t(34531),B=t(93839),P=t(71497),R=t(85677),K=t(45277),W=t(21382),S=t(81353),N=t(97039),D=t(56569),g=t(67909),m=t(89789),u=t(7892),A=t(15203),C=t(27946);function k(H,q){1&H&&(l.TgZ(0,"p"),l._uU(1),l.ALo(2,"fdTranslate"),l.qZA()),2&H&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"platformApprovalFlow.selectTypeDialogMoveApproverAs")))}function z(H,q){if(1&H){const J=l.EpF();l.TgZ(0,"div",4)(1,"fd-checkbox",10),l.NdJ("ngModelChange",function(oe){l.CHM(J);const te=l.oxw();return l.KtG(te._toNextSerial=oe)}),l._uU(2),l.ALo(3,"fdTranslate"),l.qZA()()}if(2&H){const J=l.oxw();l.xp6(1),l.Q6J("ngModel",J._toNextSerial),l.xp6(1),l.hij(" ",l.lcZ(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}class X{constructor(q){this._dialogRef=q,this._nodeType=b.P2.SERIAL,this._nodeTypes=b.P2,this._toNextSerial=!1}_submit(){this._dialogRef.close({type:this._nodeType,toNextSerial:this._toNextSerial})}}X.\u0275fac=function(q){return new(q||X)(l.Y36(e.zj))},X.\u0275cmp=l.Xpm({type:X,selectors:[["fdp-approval-flow-select-type"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-select-type"],decls:25,vars:20,consts:[["fdkTemplate","header"],["fdCompact",""],[1,"fd-form-label"],[1,"fdp-approval-flow-select-type__form"],["fd-form-item",""],["id","select-type-parallel","name","select-type-parallel",3,"value","ngModel","ngModelChange"],["id","select-type-serial","name","select-type-serial",3,"value","ngModel","ngModelChange"],["fd-form-item","",4,"ngIf"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","click"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],[3,"ngModel","ngModelChange"]],template:function(q,J){1&q&&(l.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),l.YNc(2,k,3,3,"ng-template",0),l.qZA(),l.TgZ(3,"fd-dialog-body",1)(4,"span",2),l._uU(5),l.ALo(6,"fdTranslate"),l.qZA(),l.TgZ(7,"fd-form-group",3)(8,"div",4)(9,"fd-radio-button",5),l.NdJ("ngModelChange",function(oe){return J._nodeType=oe}),l._uU(10),l.ALo(11,"fdTranslate"),l.qZA()(),l.TgZ(12,"div",4)(13,"fd-radio-button",6),l.NdJ("ngModelChange",function(oe){return J._nodeType=oe}),l._uU(14),l.ALo(15,"fdTranslate"),l.qZA()(),l.YNc(16,z,4,4,"div",7),l.qZA()(),l.TgZ(17,"fd-dialog-footer",1),l.ynx(18),l.TgZ(19,"fd-dialog-footer-button")(20,"button",8),l.NdJ("click",function(){return J._submit()}),l.ALo(21,"fdTranslate"),l.qZA()(),l.TgZ(22,"fd-dialog-footer-button")(23,"button",9),l.NdJ("click",function(){return J._dialogRef.close()}),l.ALo(24,"fdTranslate"),l.qZA()(),l.BQk(),l.qZA()()),2&q&&(l.xp6(5),l.hij(" ",l.lcZ(6,10,"platformApprovalFlow.selectTypeDialogParallelOrSerial")," "),l.xp6(4),l.Q6J("value",J._nodeTypes.PARALLEL)("ngModel",J._nodeType),l.xp6(1),l.hij(" ",l.lcZ(11,12,"platformApprovalFlow.selectTypeDialogNodeTypeParallel")," "),l.xp6(3),l.Q6J("value",J._nodeTypes.SERIAL)("ngModel",J._nodeType),l.xp6(1),l.hij(" ",l.lcZ(15,14,"platformApprovalFlow.selectTypeDialogNodeTypeSerial")," "),l.xp6(2),l.Q6J("ngIf",J._nodeType===J._nodeTypes.PARALLEL),l.xp6(4),l.Q6J("label",l.lcZ(21,16,"platformApprovalFlow.selectTypeDialogConfirmButton")),l.xp6(3),l.Q6J("label",l.lcZ(24,18,"platformApprovalFlow.selectTypeDialogCancelButton")))},dependencies:[T.O5,h.JJ,h.On,o.$,y.r,B.a,P.H,R.g,K.A,W.u,S.r,N.S,D.N,D.j,g.b,m.J,u.H,A._,C.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n",".fdp-approval-flow-select-type .fd-dialog__body{width:24rem}.fdp-approval-flow-select-type .fd-dialog__body .fd-form-item{margin-bottom:0}\n"],encapsulation:2,changeDetection:0})},46067:(V,I,t)=>{t.d(I,{S:()=>S});var e=t(94650),b=t(40790),l=t(36895),T=t(90433),h=t(30514),o=t(79754),y=t(4270),B=t(60026),P=t(89789),R=t(7892),K=t(15203);function W(N,D){if(1&N){const g=e.EpF();e.TgZ(0,"div",2)(1,"fd-radio-button",3),e.NdJ("ngModelChange",function(u){e.CHM(g);const A=e.oxw();return e.KtG(A.selectedTeamId=u)})("click",function(){const A=e.CHM(g).$implicit,C=e.oxw();return e.KtG(C.onTeamRadioClick.emit(A))}),e.qZA(),e.TgZ(2,"fdp-standard-list-item",4),e.NdJ("click",function(){const A=e.CHM(g).$implicit,C=e.oxw();return e.KtG(C._showTeamDetails(A))}),e.qZA(),e._UZ(3,"fd-icon",5),e.qZA()}if(2&N){const g=D.$implicit,m=D.index,u=e.oxw();e.xp6(1),e.Q6J("value",g.id)("name","team-radio"+m)("ngModel",u.selectedTeamId),e.uIk("id","team-radio"+m),e.xp6(1),e.Q6J("avatarSrc","")("avatarTitle",g.name)("description",g.description||g.members.length+" members")("title",g.name),e.uIk("id","approval-team-"+g.id),e.xp6(1),e.Q6J("glyph","navigation-"+(u.isRtl?"left":"right")+"-arrow")}}class S{constructor(){this.teams=[],this.isRtl=!1,this.onTeamClick=new e.vpe,this.onTeamRadioClick=new e.vpe,this._trackByFn=b.Hg}_showTeamDetails(D){this.onTeamClick.emit(D)}}S.\u0275fac=function(D){return new(D||S)},S.\u0275cmp=e.Xpm({type:S,selectors:[["fdp-approval-flow-team-list"]],hostAttrs:[1,"fdp-approval-flow-team-list"],inputs:{teams:"teams",isRtl:"isRtl",selectedTeamId:"selectedTeamId"},outputs:{onTeamClick:"onTeamClick",onTeamRadioClick:"onTeamRadioClick"},decls:3,vars:3,consts:[["fdCompact","",3,"hasByLine"],["fd-form-item","",4,"ngFor","ngForOf","ngForTrackBy"],["fd-form-item",""],[3,"value","name","ngModel","ngModelChange","click"],[3,"avatarSrc","avatarTitle","description","title","click"],[3,"glyph"]],template:function(D,g){1&D&&(e.TgZ(0,"fdp-list",0)(1,"fd-form-group"),e.YNc(2,W,4,10,"div",1),e.qZA()()),2&D&&(e.Q6J("hasByLine",!0),e.xp6(2),e.Q6J("ngForOf",g.teams)("ngForTrackBy",g._trackByFn))},dependencies:[l.sg,T.JJ,T.On,h.$,o.o,y.n,B.d,P.J,R.H,K._],styles:[".fdp-approval-flow-team-list .fd-form-item{position:relative;margin-bottom:0}.fdp-approval-flow-team-list .fd-form-item fd-radio-button{position:absolute;z-index:1;top:1.4rem}.fdp-approval-flow-team-list .fd-form-item .fd-list__item{padding-left:2rem!important;cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-icon{position:absolute;right:1rem;top:2rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-avatar{color:#fff;color:var(--sapBaseColor, #fff)}[dir=rtl] .fdp-approval-flow-team-list .fd-form-item fd-icon,.fdp-approval-flow-team-list[dir=rtl] .fd-form-item fd-icon{right:auto;left:1rem}[dir=rtl] .fdp-approval-flow-team-list .fd-list__item,.fdp-approval-flow-team-list[dir=rtl] .fd-list__item{padding-right:2rem!important;padding-left:0!important}\n"],encapsulation:2,changeDetection:0})},28325:(V,I,t)=>{t.d(I,{h:()=>D});var e=t(94650),b=t(40790),l=t(36895),T=t(30514),h=t(34531),o=t(27946);function y(g,m){if(1&g){const u=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(u);const C=e.oxw();return e.KtG(C._addNode("empty"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddStepButton"))}function B(g,m){if(1&g){const u=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(u);const C=e.oxw();return e.KtG(C.enterEditMode.emit())}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarEditButton"))}function P(g,m){if(1&g){const u=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(u);const C=e.oxw(2);return e.KtG(C._addNode("before"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversBefore"))}function R(g,m){if(1&g){const u=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(u);const C=e.oxw(2);return e.KtG(C._addNode("after"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversAfter"))}function K(g,m){if(1&g){const u=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(u);const C=e.oxw(2);return e.KtG(C._addNode("parallel"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversParallel"))}function W(g,m){if(1&g){const u=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(u);const C=e.oxw(2);return e.KtG(C.deleteSelectedNodes.emit())}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarRemove"))}function S(g,m){if(1&g){const u=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(u);const C=e.oxw(2);return e.KtG(C._editSelectedNode())}),e.ALo(1,"fdTranslate"),e.qZA()}2&g&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarEditApprover"))}function N(g,m){if(1&g&&(e.ynx(0),e.YNc(1,P,2,3,"button",1),e.YNc(2,R,2,3,"button",1),e.YNc(3,K,2,3,"button",1),e.YNc(4,W,2,3,"button",1),e.YNc(5,S,2,3,"button",1),e.BQk()),2&g){const u=e.oxw();e.xp6(1),e.Q6J("ngIf",u._canAddBefore),e.xp6(1),e.Q6J("ngIf",u._canAddAfter),e.xp6(1),e.Q6J("ngIf",u._canAddParallel),e.xp6(1),e.Q6J("ngIf",u._canRemoveSelectedNodes),e.xp6(1),e.Q6J("ngIf",u._canEditNode)}}class D{constructor(){this.isEditMode=!1,this.enterEditMode=new e.vpe,this.addNode=new e.vpe,this.editSelectedNode=new e.vpe,this.deleteSelectedNodes=new e.vpe,this._canRemoveSelectedNodes=!1,this._selectedNodes=[]}set selectedNodes(m){this._selectedNodes=m,this._canRemoveSelectedNodes=!!this.selectedNodes.length&&this.selectedNodes.every(u=>!u.disableActions&&!u.actionsConfig?.disableRemove)}get selectedNodes(){return this._selectedNodes}get _notApprovedSelectedNode(){return 1!==this.selectedNodes.length||(0,b.aC)(this.selectedNodes[0])?null:this.selectedNodes[0]}get _canAddBefore(){const m=this._notApprovedSelectedNode;return!(!m||m.disableActions||m.actionsConfig?.disableAddBefore||!this.graphMetadata[m.id].canAddNodeBefore)}get _canAddAfter(){const m=this._notApprovedSelectedNode;return!(!m||m.disableActions||m.actionsConfig?.disableAddAfter||!this.graphMetadata[m.id].canAddNodeAfter)}get _canAddParallel(){const m=this._notApprovedSelectedNode;return!(!this._notApprovedSelectedNode||m?.disableActions||m?.actionsConfig?.disableAddParallel||!this.graphMetadata[m.id].canAddParallel)}get _canEditNode(){const m=this._notApprovedSelectedNode;return!!m&&!m.disableActions&&!m.actionsConfig?.disableEdit}_addNode(m){this.addNode.emit({node:this.selectedNodes[0],target:m})}_editSelectedNode(){this.editSelectedNode.emit(this.selectedNodes[0])}}D.\u0275fac=function(m){return new(m||D)},D.\u0275cmp=e.Xpm({type:D,selectors:[["fdp-approval-flow-toolbar-actions"]],hostAttrs:[1,"fdp-approval-flow-toolbar-actions"],inputs:{graph:"graph",graphMetadata:"graphMetadata",selectedNodes:"selectedNodes",isEditMode:"isEditMode"},outputs:{enterEditMode:"enterEditMode",addNode:"addNode",editSelectedNode:"editSelectedNode",deleteSelectedNodes:"deleteSelectedNodes"},decls:4,vars:3,consts:[["fdCompact",""],["fd-button","",3,"label","click",4,"ngIf"],[4,"ngIf"],["fd-button","",3,"label","click"]],template:function(m,u){1&m&&(e.ynx(0,0),e.YNc(1,y,2,3,"button",1),e.YNc(2,B,2,3,"button",1),e.YNc(3,N,6,5,"ng-container",2),e.BQk()),2&m&&(e.xp6(1),e.Q6J("ngIf",!(null!=u.graph&&null!=u.graph.columns&&u.graph.columns.length||null!=u.graph&&u.graph.errors)),e.xp6(1),e.Q6J("ngIf",!(null==u.graph||null==u.graph.columns||!u.graph.columns.length||u.isEditMode)),e.xp6(1),e.Q6J("ngIf",u.isEditMode))},dependencies:[l.O5,T.$,h.r,o.n],styles:[".fdp-approval-flow-toolbar-actions .fd-button:not(:last-child){margin-right:.5rem}[dir=rtl] .fdp-approval-flow-toolbar-actions .fd-button:not(:last-child),.fdp-approval-flow-toolbar-actions[dir=rtl] .fd-button:not(:last-child){margin-right:0;margin-left:.5rem}\n"],encapsulation:2,changeDetection:0})},79600:(V,I,t)=>{t.d(I,{Q:()=>o});var e=t(94650),b=t(36895),l=t(5982);const T=function(y){return{data:y}};function h(y,B){if(1&y&&(e.GkF(0,5),e.ALo(1,"async")),2&y){const P=e.oxw();e.Q6J("ngTemplateOutlet",P.detailsTemplate)("ngTemplateOutletContext",e.VKq(4,T,e.lcZ(1,2,P.details)))}}class o{}o.\u0275fac=function(B){return new(B||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["fdp-approval-flow-user-details"]],hostAttrs:[1,"fdp-approval-flow-user-details"],inputs:{user:"user",details:"details",detailsTemplate:"detailsTemplate"},decls:8,vars:4,consts:[[1,"fdp-approval-flow-user-details__user-info"],["size","s",3,"image"],[1,"fdp-approval-flow-user-details__name"],[1,"fdp-approval-flow-user-details__description"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(B,P){1&B&&(e.TgZ(0,"div",0),e._UZ(1,"fd-avatar",1),e.TgZ(2,"div")(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA()()(),e.YNc(7,h,2,6,"ng-container",4)),2&B&&(e.xp6(1),e.Q6J("image",P.user.imgUrl),e.xp6(3),e.Oqu(P.user.name),e.xp6(2),e.Oqu(P.user.description),e.xp6(1),e.Q6J("ngIf",P.detailsTemplate))},dependencies:[b.O5,b.tP,l.A,b.Ov],styles:[".fdp-approval-flow-user-details__user-info{display:flex;align-items:center;margin-bottom:1rem}.fdp-approval-flow-user-details__name{font-size:1rem}.fdp-approval-flow-user-details__description{color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70)}\n"],encapsulation:2,changeDetection:0})},77762:(V,I,t)=>{t.d(I,{R:()=>g});var e=t(94650),b=t(9866),l=t(40790),T=t(36895),h=t(90433),o=t(4270),y=t(60026),B=t(27946);function P(m,u){1&m&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&m&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.userListSelectedItemsCountSingular")," "))}const R=function(m){return{count:m}};function K(m,u){if(1&m&&(e._uU(0),e.ALo(1,"fdTranslate")),2&m){const A=e.oxw(2);e.hij(" ",e.xi3(1,1,"platformApprovalFlow.userListSelectedItemsCountPlural",e.VKq(4,R,A._selectedItems.length))," ")}}function W(m,u){if(1&m&&(e.TgZ(0,"div",3),e.YNc(1,P,3,3,"ng-container",4),e.YNc(2,K,2,6,"ng-template",null,5,e.W1O),e.qZA()),2&m){const A=e.MAs(3),C=e.oxw();e.xp6(1),e.Q6J("ngIf",1===C._selectedItems.length)("ngIfElse",A)}}function S(m,u){if(1&m){const A=e.EpF();e.TgZ(0,"fdp-standard-list-item",6),e.NdJ("click",function(k){const X=e.CHM(A).$implicit,H=e.oxw();return k.stopPropagation(),e.KtG(H.onUserClick.emit(X))}),e.qZA()}if(2&m){const A=u.$implicit,C=e.oxw();e.Q6J("avatarSrc",A.imgUrl)("avatarTitle",A.name)("description",A.description)("ariaLabel",A.name)("title",A.name),e.uIk("id",C._idPrefix+A.id)}}class g{constructor(u){this._cdr=u,this.users=[],this.selectedUsers=[],this.isSelectable=!0,this.onUserClick=new e.vpe,this.onSelectionChange=new e.vpe,this._selectedItems=[],this._idPrefix="approval-node-user-",this._trackByFn=l.Hg,this._displayUsers=[]}ngAfterViewInit(){if(this.selectedUsers.length){const u=this.selectedUsers.map(A=>A.name);this._selectedItems=this.listItems.filter(A=>!!A.avatar?.ariaLabel&&u.includes(A.avatar.ariaLabel)),this._selectedItems.forEach(A=>{A._selected=!0,this.list._selectItem(A)}),this._cdr.detectChanges()}}ngOnChanges(u){u.users&&this._collectDataProgressive()}ngOnDestroy(){this._killInterval()}_onSelect(u){this._selectedItems=u.selectedItems,this.onSelectionChange.emit(this._getUsersFromSelectedItems(u.selectedItems))}_getUsersFromSelectedItems(u){return u.map(A=>this.users.find(C=>`${this._idPrefix+C.id}`===A.itemEl.nativeElement.id)).filter(A=>!!A)}_collectDataProgressive(){if(this._killInterval(),this._displayUsers=[],!this.users?.length)return;const u={currentIndex:0};this._userCollectorIntervalFn(u),this._intervalID=window.setInterval(this._userCollectorIntervalFn.bind(this),10,u)}_userCollectorIntervalFn(u){const A=u.currentIndex+100,C=[];for(let k=u.currentIndex;k<=A;k++){if(k>=this.users.length){this._killInterval();break}C.push(this.users[k])}u.currentIndex+=100,this._displayUsers.push(...C),this._cdr.markForCheck()}_killInterval(){this._intervalID&&clearInterval(this._intervalID)}}g.\u0275fac=function(u){return new(u||g)(e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["fdp-approval-flow-user-list"]],viewQuery:function(u,A){if(1&u&&(e.Gf(b.ns,5),e.Gf(b.db,5)),2&u){let C;e.iGM(C=e.CRH())&&(A.list=C.first),e.iGM(C=e.CRH())&&(A.listItems=C)}},hostAttrs:[1,"fdp-approval-flow-user-list"],inputs:{users:"users",selectedUsers:"selectedUsers",isSelectable:"isSelectable"},outputs:{onUserClick:"onUserClick",onSelectionChange:"onSelectionChange"},features:[e.TTD],decls:3,vars:9,consts:[["class","fdp-approval-flow-user-list__selected-count",4,"ngIf"],[3,"selectionMode","selection","navigationIndicator","hasByLine","ngModel","selectedItems","ngModelChange","selectedItemChange"],[3,"avatarSrc","avatarTitle","description","ariaLabel","title","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fdp-approval-flow-user-list__selected-count"],[4,"ngIf","ngIfElse"],["multipleItems",""],[3,"avatarSrc","avatarTitle","description","ariaLabel","title","click"]],template:function(u,A){1&u&&(e.YNc(0,W,4,2,"div",0),e.TgZ(1,"fdp-list",1),e.NdJ("ngModelChange",function(k){return A._selectedItems=k})("selectedItemChange",function(k){return A._onSelect(k)}),e.YNc(2,S,1,6,"fdp-standard-list-item",2),e.qZA()),2&u&&(e.Q6J("ngIf",A._selectedItems.length),e.xp6(1),e.Q6J("selectionMode",A.isSelectable?"multi":"none")("selection",A.isSelectable)("navigationIndicator",!0)("hasByLine",!0)("ngModel",A._selectedItems)("selectedItems",A._selectedItems),e.xp6(1),e.Q6J("ngForOf",A._displayUsers)("ngForTrackBy",A._trackByFn))},dependencies:[T.sg,T.O5,h.JJ,h.On,o.n,y.d,B.n],styles:[".fdp-approval-flow-user-list{display:block;margin-top:-1rem}.fdp-approval-flow-user-list__selected-count{line-height:2rem;margin:0 -1rem;padding:0 1rem;background:#f2f2f2;background:var(--sapList_HeaderBackground, #f2f2f2)}\n"],encapsulation:2,changeDetection:0})},96153:(V,I,t)=>{t.d(I,{K:()=>Je});var e=t(94650),b=t(29521),l=t(50727),T=t(77579),h=t(56451),o=t(54968),y=t(39841),B=t(59468),P=t(68675),R=t(63900),K=t(69718),W=t(54004),S=t(71884),N=t(60505),g=(t(62389),t(91551)),m=t(29877),u=t(19731),A=t(50639),C=t(40790),k=t(99749);function L(v,r){const a=[];let i,s;for(let _=v;_>0;_--)i=Object.assign({},(0,C.dL)(),{targets:s?[s]:[],status:r}),s=i.id,a.unshift(i);return a}var ne=t(91591),re=t(46698),he=t(5698),_e=t(36895),me=t(90433),we=t(5982),Ae=t(45371),Ce=t(47551),be=t(33201),Te=t(30514),xe=t(34531),Ee=t(79754),Me=t(57648),De=t(5182),Ne=t(9334),Se=t(83112),Fe=t(45757),ye=t(79101),Ie=t(40999),Pe=t(94834),Le=t(73555),Oe=t(30891),Be=t(6941),ke=t(76314),Ze=t(67755),Ue=t(30366),ue=t(28325),Re=t(27946);const ee=["graphContainerEl"],le=["graphEl"],f=["gridList"];function p(v,r){if(1&v){const a=e.EpF();e.TgZ(0,"fdp-approval-flow-toolbar-actions",10),e.NdJ("enterEditMode",function(){e.CHM(a);const s=e.oxw();return e.KtG(s._enterEditMode())})("addNode",function(s){e.CHM(a);const _=e.oxw();return e.KtG(_._addNode(s.node,s.target))})("editSelectedNode",function(s){e.CHM(a);const _=e.oxw();return e.KtG(_._editNode(s))})("deleteSelectedNodes",function(){e.CHM(a);const s=e.oxw();return e.KtG(s._deleteSelectedNodes())}),e.qZA()}if(2&v){const a=e.oxw();e.Q6J("graph",a._graph)("selectedNodes",a._selectedNodes)("graphMetadata",a._graphMetadata)("isEditMode",a._isEditMode)}}function n(v,r){if(1&v){const a=e.EpF();e.TgZ(0,"fd-avatar",15),e.NdJ("avatarClicked",function(s){const c=e.CHM(a).$implicit,x=e.oxw(3);return e.KtG(x._onWatcherClick(c,s))}),e.qZA()}if(2&v){const a=r.$implicit;e.Q6J("image",a.imgUrl||"")("label",a.name)("clickable",!0)("circle",!0)}}function d(v,r){if(1&v&&(e.ynx(0),e.YNc(1,n,1,4,"fd-avatar",14),e.BQk()),2&v){const a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==a._approvalProcess?null:a._approvalProcess.watchers)("ngForTrackBy",a._trackByFn)}}function w(v,r){if(1&v){const a=e.EpF();e.TgZ(0,"div",16)(1,"fd-multi-input",17),e.NdJ("ngModelChange",function(s){e.CHM(a);const _=e.oxw(2);return e.KtG(_._selectedWatcherIds=s)})("ngModelChange",function(s){e.CHM(a);const _=e.oxw(2);return e.KtG(_._watchersSelectionChanged(s))}),e.ALo(2,"fdTranslate"),e.qZA()()}if(2&v){const a=e.oxw(2);e.xp6(1),e.Q6J("dropdownValues",a._usersForWatchersList)("placeholder",e.lcZ(2,6,"platformApprovalFlow.watchersInputPlaceholder"))("displayFn",a._displayUserFn)("valueFn",a._userValueFn)("showAllButton",!0)("ngModel",a._selectedWatcherIds)}}function M(v,r){if(1&v&&(e.TgZ(0,"div",11)(1,"p",12),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA(),e.YNc(4,d,2,2,"ng-container",7),e.YNc(5,w,3,8,"div",13),e.qZA()),2&v){const a=e.oxw();e.uIk("aria-label",a.watchersLabel),e.xp6(2),e.hij(" ",a.watchersLabel||e.lcZ(3,4,"platformApprovalFlow.defaultWatchersLabel")," "),e.xp6(2),e.Q6J("ngIf",!a._isEditMode),e.xp6(1),e.Q6J("ngIf",a._isEditMode)}}function Z(v,r){if(1&v){const a=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(a);const s=e.oxw(4);return e.KtG(s.nextSlide(-1))}),e.ALo(1,"fdTranslate"),e._UZ(2,"fd-icon",30),e._uU(3),e.qZA()}if(2&v){const a=e.oxw(4);e.uIk("aria-label",e.lcZ(1,3,"platformApprovalFlow.prevButtonAriaLabel")),e.xp6(2),e.Q6J("glyph","navigation-"+(a._rtl?"right":"left")+"-arrow"),e.xp6(1),e.hij(" ",a._carouselStepsLeft," ")}}function Qe(v,r){if(1&v){const a=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(a);const s=e.oxw(4);return e.KtG(s.nextSlide())}),e.ALo(1,"fdTranslate"),e._uU(2),e._UZ(3,"fd-icon",30),e.qZA()}if(2&v){const a=e.oxw(4);e.uIk("aria-label",e.lcZ(1,3,"platformApprovalFlow.nextButtonAriaLabel")),e.xp6(2),e.hij(" ",a._carouselStepsRight," "),e.xp6(1),e.Q6J("glyph","navigation-"+(a._rtl?"left":"right")+"-arrow")}}function We(v,r){if(1&v&&(e.TgZ(0,"div",26),e.YNc(1,Z,4,5,"button",27),e.YNc(2,Qe,4,5,"button",28),e.qZA()),2&v){const a=e.oxw(3);e.ekj("fdp-approval-flow-carousel-controls--edit-mode",a._isEditMode),e.xp6(1),e.Q6J("ngIf",a._carouselStepsLeft>0),e.xp6(1),e.Q6J("ngIf",a._carouselStepsRight>0)}}function ze(v,r){if(1&v&&(e.ynx(0),e.GkF(1,39),e.BQk()),2&v){e.oxw();const a=e.MAs(1);e.xp6(1),e.Q6J("ngTemplateOutlet",a._overflowMenuButton)}}function He(v,r){if(1&v&&e.GkF(0,39),2&v){e.oxw();const a=e.MAs(1);e.Q6J("ngTemplateOutlet",a._nodeContent)}}function Ye(v,r){if(1&v){const a=e.EpF();e.TgZ(0,"fdp-approval-flow-node",34,35),e.NdJ("onAdd",function(s){const c=e.CHM(a).$implicit,x=e.oxw(4);return e.KtG(x._addNode(c,s))})("onEdit",function(){const _=e.CHM(a).$implicit,c=e.oxw(4);return e.KtG(c._editNode(_))})("onDelete",function(){const _=e.CHM(a).$implicit,c=e.oxw(4);return e.KtG(c._onNodeDelete(_))})("keydown",function(s){const c=e.CHM(a).$implicit,x=e.oxw(4);return e.KtG(x._onNodeKeyDown(s,c))})("cdkDragStarted",function(){e.CHM(a);const s=e.oxw(4);return e.KtG(s._dragDropInProgress=!0)})("cdkDragReleased",function(s){const c=e.CHM(a).$implicit,x=e.oxw(4);return e.KtG(x._onNodeDrop(c,s.source))})("cdkDragMoved",function(){const _=e.CHM(a).$implicit,c=e.oxw(4);return e.KtG(c._onNodeDragMoved(_))}),e.TgZ(2,"fd-grid-list-item",36),e.NdJ("press",function(){const _=e.CHM(a).$implicit,c=e.oxw(4);return e.KtG(c._onNodeClick(_))}),e.TgZ(3,"fd-grid-list-item-toolbar"),e.YNc(4,ze,2,1,"ng-container",7),e.qZA(),e._UZ(5,"fd-avatar",37),e.YNc(6,He,1,1,"ng-template",38),e.qZA()()}if(2&v){const a=r.$implicit,i=r.index,s=e.MAs(1),_=e.oxw(),c=_.index,x=_.$implicit,F=e.oxw(3);e.Q6J("cdkDragDisabled",F._isCdkDragDisabled(a))("node",a)("meta",F._graphMetadata[a.id])("isEdit",F._isEditMode)("isNextNodeBlank",F._isNextNodeBlank(a,c,i))("checkDueDate",F.checkDueDate)("dueDateThreshold",F.dueDateThreshold)("renderArrow",c>0)("allNodesInColumnApproved",!!x.allNodesApproved),e.xp6(2),e.ekj("fdp-approval-flow__graph-node-inner--edit",F._isEditMode),e.Q6J("value",a)("selected",!!a.selected)("ariaLabelledBy",s.approvalFlowNodeId)("disableToolbarClick",!0),e.xp6(2),e.Q6J("ngIf",F._isEditMode),e.xp6(1),e.Q6J("image",1===a.approvers.length?a.approvers[0].imgUrl:null)("label",a.approvers.length>1?a.description:null)("circle",!0)}}function Ge(v,r){if(1&v&&(e.TgZ(0,"div",32),e.YNc(1,Ye,7,19,"fdp-approval-flow-node",33),e.qZA()),2&v){const a=r.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",a.nodes)("ngForTrackBy",i._trackByFn)}}function je(v,r){if(1&v&&(e.ynx(0),e.TgZ(1,"div",19),e.YNc(2,We,3,4,"div",20),e.TgZ(3,"div",21,22)(5,"div",23,24),e.YNc(7,Ge,2,2,"div",25),e.qZA()()(),e.BQk()),2&v){const a=e.oxw(2);e.xp6(1),e.ekj("fdp-approval-flow__container--extra-padding-start",!0)("fdp-approval-flow__container--extra-padding-end",!0),e.xp6(1),e.Q6J("ngIf",a._scrollDiff>0),e.xp6(1),e.ekj("fdp-approval-flow__graph-container--multiple-root-nodes",a._multipleRootNodes)("fdp-approval-flow__graph-container--multiple-final-nodes",a._multipleFinalNodes)("fd-scrollbar",!0),e.xp6(2),e.ekj("fdp-approval-flow__graph--edit-mode",a._isEditMode),e.xp6(2),e.Q6J("ngForOf",a._graph.columns)}}function Ve(v,r){if(1&v&&(e.ynx(0),e.YNc(1,je,8,14,"ng-container",18),e.BQk()),2&v){const a=e.oxw(),i=e.MAs(12);e.xp6(1),e.Q6J("ngIf",a._graph.columns.length)("ngIfElse",i)}}function $e(v,r){if(1&v){const a=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"fd-bar-element")(3,"button",42),e.NdJ("click",function(){e.CHM(a);const s=e.oxw();return e.KtG(s._saveEditModeChanges())}),e.ALo(4,"fdTranslate"),e.qZA()(),e.TgZ(5,"fd-bar-element")(6,"button",43),e.NdJ("click",function(){e.CHM(a);const s=e.oxw();return e.KtG(s._exitEditMode())}),e.ALo(7,"fdTranslate"),e.qZA()()()()}if(2&v){const a=e.oxw();e.xp6(3),e.Q6J("label",e.lcZ(4,4,"platformApprovalFlow.editModeSaveButtonLabel"))("disabled",a.disableSaveButton),e.xp6(3),e.Q6J("label",e.lcZ(7,6,"platformApprovalFlow.editModeExitButtonLabel"))("disabled",a.disableExitButton)}}function Xe(v,r){if(1&v&&(e.TgZ(0,"figure",44)(1,"figcaption",45)(2,"h3",46),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA(),e.TgZ(5,"p",47),e._uU(6),e.ALo(7,"fdTranslate"),e.qZA()()(),e.TgZ(8,"div",48),e.O4$(),e.TgZ(9,"svg",49),e._UZ(10,"path",50)(11,"path",51)(12,"path",52)(13,"path",53)(14,"path",54)(15,"path",55)(16,"path",56),e.qZA()()),2&v){const a=e.oxw();e.Q6J("svgConfig",a._emptyApprovalFlowSpotConfig),e.xp6(3),e.hij(" ",e.lcZ(4,3,"platformApprovalFlow.emptyTitle")," "),e.xp6(3),e.hij(" ",e.lcZ(7,5,"platformApprovalFlow.emptyHint")," ")}}let qe=0;class Je{constructor(r,a,i,s,_){this._dialogService=r,this._cdr=a,this._injector=i,this.providers=s,this._rtlService=_,this.checkDueDate=!1,this.dueDateThreshold=7,this.allowSendRemindersForStatuses=["in progress","not started"],this.isEditAvailable=!1,this.allowAddParallelNodes=!0,this.disableSaveButton=!1,this.disableExitButton=!1,this.nodeClick=new e.vpe,this.afterNodeAdd=new e.vpe,this.afterNodeEdit=new e.vpe,this.valueChange=new e.vpe,this.sendReminders=new e.vpe,this.onDataRequested=new e.vpe,this.onDataReceived=new e.vpe,this._isCarousel=!1,this._graphMetadata={},this._isEditMode=!1,this._usersForWatchersList=[],this._selectedWatchers=[],this._selectedWatcherIds=[],this._messages=[],this._displayUserFn=C.Us,this._userValueFn=C.Tc,this._trackByFn=C.Hg,this._emptyApprovalFlowSpotConfig={spot:{url:"",id:"sapIllus-Spot-NoData"}},this._multipleRootNodes=!1,this._multipleFinalNodes=!1,this._dragDropInProgress=!1,this.approvalFlowUniqueId="fdp-approval-flow-"+ ++qe,this._subscriptions=new l.w0,this._dataSourceChanged$=new T.x,this._getNextHorizontalNode=(c,x,F)=>{const U="right"===F?1:-1,Q=this._graph.columns[x+U]?.nodes[c];if(Q)return Q.blank||Q.space?this._getNextHorizontalNode(c,x+U,F):Q},this._getNextVerticalNode=(c,x,F)=>{const U="down"===F?1:-1,Q=this._graph.columns[x].nodes[c+U];if(Q)return Q.blank||Q.space?this._getNextVerticalNode(c+U,x,F):Q}}get approvalProcess(){return(0,re.Z)(this._approvalProcess)}get _rtl(){return this._rtlService?.rtl.getValue()}get _selectedNodes(){return(0,C.$Q)(this._graph).filter(r=>r.selected)}ngOnInit(){if(!this.userDataSource){const r=this.usersDataProviderEntityKey&&this.providers?.get(this.usersDataProviderEntityKey);r?this.userDataSource=new ne._1(r):console.error("Could not resolve users data source")}if(!this.watcherDataSource){const r=this.watchersDataProviderEntityKey&&this.providers?.get(this.watchersDataProviderEntityKey);r?this.watcherDataSource=new ne._1(r):console.error("Could not resolve watchers data source")}if(!this.teamDataSource){const r=this.teamsDataProviderEntityKey&&this.providers?.get(this.teamsDataProviderEntityKey);r?this.teamDataSource=new ne.L8(r):console.error("Could not resolve teams data source")}this._listenOnResize(),this._setupDataSourceSubscription()}ngOnChanges(r){if(r.value){const a=this.value??{watchers:[],nodes:[]};this._initialApprovalProcess=(0,re.Z)(a),this._buildView(a)}(r.userDataSource||r.watcherDataSource||r.teamDataSource)&&this._dataSourceChanged$.next()}ngOnDestroy(){this._subscriptions.unsubscribe()}_isNextNodeBlank(r,a,i){const s=this._graph.columns[a+1]?.nodes[i],_=s?.blank,c=this._graphMetadata[s?.id]?.parallelEnd;return!r.blank&&!!_&&!c}_isCdkDragDisabled(r){return!this._isEditMode||r.blank||r.space||"not started"!==r.status}_onNodeClick(r){this._dragDropInProgress||(this._dialogService.open(m.F,{data:{node:r,allowSendReminder:this.allowSendRemindersForStatuses.includes(r.status),...this._defaultDialogOptions}},this._injector).afterClosed.subscribe(i=>{Array.isArray(i)&&this.sendReminders.emit({users:i,node:r})}),this.nodeClick.emit(r))}_onNodeAdd(r){this.afterNodeAdd.emit(r)}_onNodeEdit(r){this.afterNodeEdit.emit(r)}_onNodeSelectionChange(r){this._graph.columns.forEach(a=>{a.nodes.forEach(i=>{i.selected=!!r.selection.find(s=>s.id===i.id)})})}_onWatcherClick(r,a){a.preventDefault(),this._dialogService.open(m.F,{data:{watcher:r,...this._defaultDialogOptions}})}getNodeMetadataByNodeId(r){return this._graphMetadata[r]}nextSlide(r=1){let i=0;i=1===r?this._carouselStepSize*(this._carouselStepsCount-this._carouselStepsRight+1)+(1===this._carouselStepsRight?0:1)-this._graphEl.nativeElement.clientWidth:this._carouselStepSize*(this._carouselStepsLeft-1)-(1===this._carouselStepsLeft?0:1),this._setScrollPosition(i),this._cdr.detectChanges()}_setScrollPosition(r){this._graphContainerEl.nativeElement.scrollTo({left:r,behavior:"smooth"})}_moveColInView(r){const a=this._graphEl.nativeElement.children[r].firstElementChild;if(!a)return;const{x:i,width:s}=a.getBoundingClientRect(),c=i-this._graphContainerEl.nativeElement.getBoundingClientRect().x,x=c+s;c<0?this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+c):x>this._graphEl.nativeElement.clientWidth&&this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+x-this._graphEl.nativeElement.clientWidth)}_onNodeKeyDown(r,a){if(!N.yS$.isKeyCode(r,[b.LH,b.JH,b.SV,b.oh]))return;const{nodeIndex:i,columnIndex:s}=this._graphMetadata[a.id];let _;r.preventDefault(),"number"==typeof i&&"number"==typeof s&&(N.yS$.isKeyCode(r,b.LH)?i>0&&(_=this._getNextVerticalNode(i,s,"up")):N.yS$.isKeyCode(r,b.JH)?_=this._getNextVerticalNode(i,s,"down"):N.yS$.isKeyCode(r,b.oh)?_=this._getNextHorizontalNode(i,s,this._rtl?"right":"left"):N.yS$.isKeyCode(r,b.SV)&&(_=this._getNextHorizontalNode(i,s,this._rtl?"left":"right"))),_&&this._focusNode(_)}_enterEditMode(){this.watcherDataSource.match(),this._editModeInitSub=this.watcherDataSource.open().subscribe(r=>{this._usersForWatchersList=r,this._selectedWatchers=this._approvalProcess.watchers,this._selectedWatcherIds=this._selectedWatchers.map(a=>a.id),this._isEditMode=!0,this._initialApprovalProcess=(0,re.Z)(this._approvalProcess),this._cdr.detectChanges()}),this._subscriptions.add(this._editModeInitSub)}_saveEditModeChanges(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[];const r={...this._approvalProcess,watchers:this._selectedWatchers};this._buildView(r),this.valueChange.emit(r)}_exitEditMode(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._approvalProcess=(0,re.Z)(this._initialApprovalProcess),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[],this._buildView(this._approvalProcess)}_watchersSelectionChanged(r){const a=new Set(r);this._selectedWatchers=(0,he.Z)(this._selectedWatchers.concat(this._usersForWatchersList).filter(i=>a.has(i.id)),i=>i.id)}_undoLastAction(){this._approvalProcess=(0,re.Z)(this._previousApprovalProcess),this._previousApprovalProcess=void 0,this._buildView(this._approvalProcess)}_addNode(r,a){this._dialogService.open(A.tf,{data:{nodeTarget:a,showNodeTypeSelect:"before"===a&&!r.actionsConfig?.disableAddParallel,node:Object.assign((0,C.dL)(),{blank:!1}),checkDueDate:this.checkDueDate,...this._defaultDialogOptions}},this._injector).afterClosed.subscribe(_=>{if(!_)return;const{node:c,nodeType:x,toNextSerial:F}=_;if(c){switch(this._cacheCurrentApprovalProcess(),c.id=`tempId${(1e3*Math.random()).toFixed()}`,a){case"empty":this._enterEditMode();break;case"before":x===A.P2.SERIAL&&(c.targets=[r.id],this._replaceTargets(r.id,[c.id])),x===A.P2.PARALLEL&&this._processAddingParallelNode(c,r,F);break;case"before-all":c.targets=this._graph.columns[0].nodes.map(U=>U.id);break;case"after":c.targets=r.targets,r.targets=[c.id];break;case"after-all":this._graphMetadata[r.targets[0]]?.parents?(c.targets=r.targets,this._replaceTargets(r.id,[c.id]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(j=>j.id!==r.id)):this._graph.columns[this._graph.columns.length-1].nodes.forEach(j=>j.targets.push(c.id));break;case"parallel":this._processAddingParallelNode(c,r,F)}this._showMessage(c.approvalTeamId?"teamAddSuccess":"approverAddSuccess"),this._approvalProcess.nodes.push(c),this._buildView(this._approvalProcess),this._onNodeAdd(c)}})}_editNode(r){this._dialogService.open(A.tf,{data:{isEdit:!0,node:Object.assign({},r),checkDueDate:this.checkDueDate,...this._defaultDialogOptions}},this._injector).afterClosed.subscribe(i=>{const s=i?.node;s&&(this._cacheCurrentApprovalProcess(),this._updateNode(s),this._showMessage("nodeEdit"),this._buildView(this._approvalProcess),this._onNodeEdit(r))})}_onNodeDelete(r){this._cacheCurrentApprovalProcess(),this._deleteNode(r),this._showMessage(r.approvalTeamId?"teamRemove":"nodeRemove"),this._buildView(this._approvalProcess)}_deleteSelectedNodes(){this._cacheCurrentApprovalProcess(),this._nodeComponents.filter(a=>a._isSelected).map(a=>a.node).forEach(a=>{this._deleteNode(a),this._buildView(this._approvalProcess)}),this._showMessage("nodesRemove")}_onNodeDragMoved(r){const a=this._nodeComponents.find(i=>i.node===r)?._nativeElement.getBoundingClientRect();a&&this._nodeComponents.forEach(i=>{i.node!==r&&Boolean(i._dropZones.length)&&i._checkIfNodeDraggedInDropZone(a)})}_onNodeDrop(r,a){a.reset(),setTimeout(()=>this._dragDropInProgress=!1);const i=this._nodeComponents.find(_=>_._isAnyDropZoneActive);if(!i)return;this._cacheCurrentApprovalProcess();const s=i._activeDropZones[0].placement;if(this._nodeComponents.forEach(_=>_._deactivateDropZones()),"after"===s){this._deleteNode(r),this._buildView(this._approvalProcess);const _=(0,C.$Q)(this._graph).find(c=>c.id===i.node.targets[0]);_?.blank&&(this._deleteNode(_),this._buildView(this._approvalProcess)),r.targets=this._approvalProcess.nodes.find(c=>c.id===i.node.id)?.targets??[],i.node.targets=[r.id],this._finishDragDropProcess(r)}else"before"===s?this._dialogService.open(k.h,void 0,this._injector).afterClosed.subscribe(c=>{if(!c)return;const{type:x,toNextSerial:F}=c;this._deleteNode(r),this._buildView(this._approvalProcess),x===A.P2.SERIAL&&(this._replaceTargets(i.node.id,[r.id]),r.targets=[i.node.id]),x===A.P2.PARALLEL&&this._processAddingParallelNode(r,i.node,F),this._finishDragDropProcess(r)}):"before-all"===s?(this._deleteNode(r),r.targets=this._graph.columns[0].nodes.map(c=>c.id),this._finishDragDropProcess(r)):"after-all"===s&&(this._deleteNode(r),this._buildView(this._approvalProcess),r.targets=[...i.node.targets],0===i.node.targets.length?this._graph.columns[this._graph.columns.length-1].nodes.forEach(c=>c.targets.push(r.id)):(this._approvalProcess.nodes=this._approvalProcess.nodes.filter(_=>_.id!==i.node.id),this._replaceTargets(i.node.id,[r.id])),this._finishDragDropProcess(r))}_finishDragDropProcess(r){this._approvalProcess.nodes.push(r),this._buildView(this._approvalProcess)}_showMessage(r){this._messages=[{type:r}]}_buildView(r){if(r.nodes||(r.nodes=[]),r.watchers||(r.watchers=[]),this._approvalProcess=r,this._graph=function z(v){const r={columns:[],errors:!1};if(!v.length)return r;const a=function H(v){return v.filter(r=>v.every(a=>!(0,C.KY)(a,r.id)))}(v),i=function q(v){return v.filter(r=>!r.targets.length)}(v);if(!a.length||!i.length)return console.warn("Err: Not possible to build graph because root or final nodes aren't present!"),r.errors=!0,r;const s=function J(v,r){const a=[],i=[];for(let s=0;s<v.length;s++)for(i.push([v[s]]);i.length;){const _=i.pop();let c;if(_&&(c=_[_.length-1]),!c)return[];c.targets.length?c.targets.forEach(x=>{const F=r.find(j=>j.id===x);if(!F)return;const U=[..._,F];i.push(U)}):a.push(_)}return a}(a,v);if(!s.length)return console.warn("Err: Not possible to build graph!"),r.errors=!0,r;const _=function $(v){const r=[];return v.forEach(a=>{let i=a.length-1;for(let s=a.length-1;s>0&&a[s].blank;--s)i=s-1;a[i].targets=[],r.push(a.slice(0,i+1))}),r}(s),c=function oe(v){const r=[],a=v.map(s=>s.length),i=Math.max(...a);return v.forEach(s=>{s.length!==i?(s.forEach((_,c)=>{let x=function te(v,r){const a=[],i=r.find(s=>{const _=s.indexOf(v);return _>-1&&s[_+1]?.blank});if(i){const s=i.indexOf(v)+1,_=i.findIndex((c,x)=>x>s&&!c.blank);a.push(...i.slice(s,_>0?_:void 0))}return a}(_,r);if(x.length&&x[0].id!==s[c+1]?.id)return void s.splice(c+1,0,...x);const F=v.map(j=>j.indexOf(_)),U=Math.max(...F);return c<U?(x=L(U-c,s[c-1].status),x[x.length-1].targets=[_.id],s[c-1].targets=[x[0].id],void s.splice(c,0,...x)):c===U&&c===s.length-1?(x=L(i-s.length,s[c].status),s[c].targets=[x[0].id],void s.splice(c+1,0,...x)):void 0}),r.push(s)):r.push(s)}),r}(_),x=function O(v){if(1===v.length)return v;let r=[],a=0;v.forEach((_,c)=>{for(let x=0;x<v.length;x++)if(c!==x&&!r.some(F=>c===F[1]&&x===F[0])){a=0;for(let F=0;F<_.length;F++)_[F].id===v[x][F].id&&a++;r.push([c,x,a])}}),r=r.sort((_,c)=>_[2]>c[2]?-1:1);const i=[],s=[];return r.forEach(_=>{i.some(c=>c===_[0])||(s.push(v[_[0]]),i.push(_[0])),i.some(c=>c===_[1])||(s.push(v[_[1]]),i.push(_[1]))}),s}(c),F=function E(v){const r=[];return v.forEach((a,i)=>{a.forEach(s=>{v.forEach((_,c)=>{c!==i&&_.indexOf(s)>-1&&_.splice(_.indexOf(s),1,(0,C.Ju)())})}),r.push(a)}),r}(x),U=function Y(v){return v.reduce((r,a)=>(a.every(i=>i.space)||r.push(a),r),[])}(F),j=function G(v){const r=[];let a=[];for(let i=0;i<v[0].length;i++){a=[];for(let s=0;s<v.length;s++)a.push(v[s][i]);r.push(a)}return r}(U),Q=function ae(v){const r=[];return v.forEach(a=>{let i;for(let s=a.length-1;s>=0;s--)if(!a[s].space){i=s;break}r.push(i<a.length?a.slice(0,i+1):a)}),r}(j),de=function ve(v){const r=[];return v.forEach(a=>{a.every(s=>s.blank||s.space)?a.forEach(s=>{s.blank&&function ge(v,r,a){a.forEach(i=>{i.forEach(s=>{(0,C.KY)(s,v)&&(s.targets=s.targets.filter(_=>_!==v),s.targets.push(...r))})})}(s.id,s.targets,v)}):r.push(a)}),r}(Q);return r.columns=function se(v){const r=[];return v.forEach((a,i)=>{a.forEach(s=>s.colIndex=i),r.push({nodes:a,index:i,allNodesApproved:a.every(s=>(0,C.aC)(s))})}),r}(de),r}(this._approvalProcess.nodes),this._graph.errors)return void this._showMessage("error");this._graphMetadata=function X(v){const r=(0,C.$Q)(v),a={};return v.columns.forEach((i,s)=>{i.nodes.forEach((_,c)=>{const x=(0,C.u$)(_,r),F=!!x.length&&x.every(ce=>(0,C.aC)(ce)),U=!x.length&&!_.space,j=!_.targets.length&&!_.space,Q=x.length>1,de=0===s&&i.nodes.length>1&&0===c,fe=s===v.columns.length-1&&i.nodes.length>1&&0===c;a[_.id]={parents:x,isRoot:U,isFinal:j,parallelStart:_.targets.length>1,parallelEnd:Q,columnIndex:s,nodeIndex:c,canAddNodeBefore:!(0,C._3)(_)&&!F,canAddNodeBeforeAll:U&&de,canAddNodeAfter:!(0,C.aC)(_),canAddNodeAfterAll:!(0,C.aC)(_)&&(j&&fe||Q&&_.blank),canAddParallel:!(0,C.aC)(_),isVerticalLineBeforeSolid:_.space&&v.columns[s-1]?.allNodesApproved,isVerticalLineAfterSolid:_.space&&i.allNodesApproved,firstOfMultipleRootNodes:de,firstOfMultipleFinalNodes:fe,rootNodesApproved:0===s&&i.allNodesApproved}})}),v.columns.forEach(i=>{i.nodes.forEach((s,_)=>{const c=a[s.id];c.isLastInParallel=a[s.targets[0]]?.parallelEnd,c.isFirstInParallel=a[c.parents[0]?.id]?.parallelStart;const x=i.index,F=x?v.columns[x-1]:void 0,U=x?v.columns[x+1]:void 0,j=F?.nodes[_],Q=U?.nodes[_];c.renderAddNodeAfterButton=c.canAddNodeAfter&&(c.isFinal||c.parallelStart||c.isLastInParallel||Q?.blank);const de=U?.nodes;if(c.parallelStart&&de){const ce=de.filter(ie=>s.targets.includes(ie.id)),Ke=de.findIndex(ie=>ie.id===ce[0].id),pe=de.findIndex(ie=>ie.id===ce[ce.length-1].id);for(let ie=Ke+1;ie<=pe;ie++)a[de[ie].id].renderVerticalLineBefore=!0}const fe=F?.nodes;if(c.parallelEnd&&fe){const ce=fe.findIndex(pe=>pe.id===c.parents[0].id),Ke=fe.findIndex(pe=>pe.id===c.parents[c.parents.length-1].id);for(let pe=ce+1;pe<=Ke;pe++)a[fe[pe].id].renderVerticalLineAfter=!0}c.renderVerticalLineBefore=!!c.renderVerticalLineBefore||_>0&&!j,c.renderVerticalLineAfter=!!c.renderVerticalLineAfter||_>0&&!Q})}),a}(this._graph);const a=(0,C.$Q)(this._graph);this._approvalProcess.nodes=a.filter(i=>!i.space),this._multipleRootNodes=a.filter(i=>this._graphMetadata[i.id].isRoot).length>1,this._multipleFinalNodes=a.filter(i=>this._graphMetadata[i.id].isFinal).length>1,this._cdr.detectChanges(),this._gridList?.clearSelection(),this._isEditMode||this._setScrollPosition(0)}_listenOnResize(){this._subscriptions.add((0,h.T)((0,o.R)(window,"resize"),(0,o.R)(this._graphContainerEl.nativeElement,"scroll")).pipe((0,B.p)(50,void 0,{leading:!0,trailing:!0})).subscribe(()=>{this._cdr.detectChanges()}))}_focusNode(r){const a=this._nodeComponents.find(i=>i.node===r);a&&(this._moveColInView(r.colIndex??0),a._focus({preventScroll:!0}))}_updateNode(r){const a=this._approvalProcess.nodes.findIndex(i=>i.id===r.id);a>-1&&(this._approvalProcess.nodes[a]=r)}_deleteNode(r){const a=[r],i=(0,C.$Q)(this._graph);let _,s=i.find(Q=>Q.id===r.id);do{1===s?.targets.length&&(_=i.find(Q=>Q.id===s?.targets[0]),_?.blank&&1===this._graphMetadata[_.id].parents.length&&(a.push(_),s=_,_=i.find(Q=>Q.id===s?.targets[0])))}while(_?.blank&&1===this._graphMetadata[_.id].parents.length);const F=this._graphMetadata[this._graphMetadata[r.id].parents[0]?.id]?.parallelStart,U=this._graphMetadata[r.targets[0]]?.parallelEnd;this._replaceTargets(r.id,F&&U||a.length>1?[]:s?.targets??[]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(Q=>!a.includes(Q))}_addParallelTargets(r,a){this._approvalProcess.nodes.forEach(i=>{(0,C.KY)(i,r)&&i.targets.push(a)})}_replaceTargets(r,a){this._approvalProcess.nodes.forEach(i=>{(0,C.KY)(i,r)&&(i.targets=i.targets.filter(s=>s!==r),i.targets.push(...a))})}_cacheCurrentApprovalProcess(){this._previousApprovalProcess=(0,re.Z)(this._approvalProcess)}get _carouselStepSize(){return this._graphEl.nativeElement.scrollWidth/this._carouselStepsCount}get _scrollDiff(){return this._graphEl?this._graphEl.nativeElement.scrollWidth-this._graphEl.nativeElement.clientWidth:0}get _carouselStepsCount(){return this._graphEl.nativeElement.children.length}get _carouselStepsLeft(){return Math.ceil(this._graphContainerEl.nativeElement.scrollLeft/this._carouselStepSize)}get _carouselStepsRight(){return Math.ceil((this._scrollDiff-Math.round(this._graphContainerEl.nativeElement.scrollLeft))/this._carouselStepSize)}get _defaultDialogOptions(){return{teamDataSource:this.teamDataSource,userDataSource:this.userDataSource,userDetailsTemplate:this.userDetailsTemplate,rtl:this._rtl}}_findSerialNode(r,a){if(Number.isInteger(r)&&a?.some(_=>{const c=this._graphMetadata[_]?.nodeIndex;return Number.isInteger(c)&&c<=r-1}))return a??[];const s=this._approvalProcess.nodes.find(_=>_.id===a?.[0]);return this._findSerialNode(r,s?.targets)}_processAddingParallelNode(r,a,i=!1){if(r.targets=a.targets,this._addParallelTargets(a.id,r.id),i){let s=this._graphMetadata[a.id].nodeIndex,_=a.targets;if(0===s){const F=this._graph.columns?.[this._graphMetadata[a.id].columnIndex]?.nodes.find((U,j)=>j>0&&!U.space);return F?(s=this._graphMetadata[F.id].columnIndex,_=F.targets,void(r.targets=this._findSerialNode(s,_))):void(r.targets=a.targets)}r.targets=this._findSerialNode(s,_)}}_setupDataSourceSubscription(){const r=this._dataSourceChanged$.pipe((0,P.O)(null),(0,R.w)(()=>{const a=[this.teamDataSource,this.userDataSource,this.watcherDataSource].filter(Boolean).map(i=>(0,h.T)(i.onDataRequested().pipe((0,K.h)(!0)),i.onDataReceived().pipe((0,K.h)(!1))).pipe((0,P.O)(i.isDataLoading)));return(0,y.a)(a)}),(0,W.U)(a=>a.some(Boolean)),(0,S.x)()).subscribe(a=>{a?this.onDataRequested.emit():this.onDataReceived.emit()});this._subscriptions.add(r)}}Je.\u0275fac=function(r){return new(r||Je)(e.Y36(g.xA),e.Y36(e.sBO),e.Y36(e.zs3),e.Y36(ne.Or,8),e.Y36(N.qFd,8))},Je.\u0275cmp=e.Xpm({type:Je,selectors:[["fdp-approval-flow"]],viewQuery:function(r,a){if(1&r&&(e.Gf(ee,5),e.Gf(le,5),e.Gf(f,5),e.Gf(u.D,5)),2&r){let i;e.iGM(i=e.CRH())&&(a._graphContainerEl=i.first),e.iGM(i=e.CRH())&&(a._graphEl=i.first),e.iGM(i=e.CRH())&&(a._gridList=i.first),e.iGM(i=e.CRH())&&(a._nodeComponents=i)}},inputs:{title:"title",value:"value",userDataSource:"userDataSource",watcherDataSource:"watcherDataSource",teamDataSource:"teamDataSource",userDetailsTemplate:"userDetailsTemplate",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allowSendRemindersForStatuses:"allowSendRemindersForStatuses",isEditAvailable:"isEditAvailable",watchersLabel:"watchersLabel",allowAddParallelNodes:"allowAddParallelNodes",disableSaveButton:"disableSaveButton",disableExitButton:"disableExitButton",usersDataProviderEntityKey:"usersDataProviderEntityKey",teamsDataProviderEntityKey:"teamsDataProviderEntityKey",watchersDataProviderEntityKey:"watchersDataProviderEntityKey"},outputs:{nodeClick:"nodeClick",afterNodeAdd:"afterNodeAdd",afterNodeEdit:"afterNodeEdit",valueChange:"valueChange",sendReminders:"sendReminders",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},features:[e.TTD],decls:13,vars:10,consts:[["fdCompact",""],[3,"messages","undoLastActionAvailable","messagesChange","undoLastAction"],[1,"fdp-approval-flow__toolbar",3,"selectionMode","selectionChange"],["gridList",""],[3,"title"],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes",4,"ngIf"],["class","fdp-approval-flow__watchers",4,"ngIf"],[4,"ngIf"],["fd-bar","",4,"ngIf"],["emptyApprovalFlowGraph",""],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes"],[1,"fdp-approval-flow__watchers"],[1,"fdp-approval-flow__watchers-title"],["class","fdp-approval-flow__watchers-input-container",4,"ngIf"],["size","xs",3,"image","label","clickable","circle","avatarClicked",4,"ngFor","ngForOf","ngForTrackBy"],["size","xs",3,"image","label","clickable","circle","avatarClicked"],[1,"fdp-approval-flow__watchers-input-container"],[3,"dropdownValues","placeholder","displayFn","valueFn","showAllButton","ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],[1,"fdp-approval-flow__container"],["class","fdp-approval-flow-carousel-controls",3,"fdp-approval-flow-carousel-controls--edit-mode",4,"ngIf"],[1,"fdp-approval-flow__graph-container"],["graphContainerEl",""],[1,"fdp-approval-flow__graph"],["graphEl",""],["class","fdp-approval-flow__graph-column",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-carousel-controls"],["class","fdp-approval-flow-carousel-controls__button--prev-slide",3,"click",4,"ngIf"],["class","fdp-approval-flow-carousel-controls__button--next-slide",3,"click",4,"ngIf"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide",3,"click"],[3,"glyph"],[1,"fdp-approval-flow-carousel-controls__button--next-slide",3,"click"],[1,"fdp-approval-flow__graph-column"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved"],["approvalFlowNode",""],["type","active",1,"fdp-approval-flow__graph-node-inner",3,"value","selected","ariaLabelledBy","disableToolbarClick","press"],["fd-grid-list-item-image","","size","xs",3,"image","label","circle"],["fd-grid-list-item-body",""],[3,"ngTemplateOutlet"],["fd-bar",""],["fd-bar-right",""],["fd-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fdType","transparent",3,"label","disabled","click"],["fd-illustrated-message","","type","spot",3,"svgConfig"],["fd-illustrated-message-figcaption",""],["fd-illustrated-message-title",""],["fd-illustrated-message-text",""],[2,"display","none"],["xmlns","http://www.w3.org/2000/svg","width","128","height","128","viewBox","0 0 128 128","id","sapIllus-Spot-NoData"],["d","M41.6179,32.7174H84.6273a1,1,0,0,1,.723.3092l7.2445,7.5824,7.4817,7.8491a1,1,0,0,1,.2761.69l-.0046,55.6069a4.1038,4.1038,0,0,1-.8787,2.1212A4.0564,4.0564,0,0,1,98.1,107.9631l-56.3858.0313a2.6167,2.6167,0,0,1-3.0812-3.2309l-.0152-69.0594Z",1,"sapIllus_PatternShadow",2,"fill","var(--sapIllus_PatternShadow)"],["d","M35.7928,27.4987H78.8022a1,1,0,0,1,.723.3092L86.77,35.39l7.4816,7.8492a1,1,0,0,1,.2762.69l-.0046,55.6069a3,3,0,0,1-3,3H35.808a2.9946,2.9946,0,0,1-3-2.9913c-.01-12.0564-.0423-57.0116-.0152-69.0595A2.9943,2.9943,0,0,1,35.7928,27.4987Z",1,"sapIllus_ObjectFillColor",2,"fill","var(--sapIllus_ObjectFillColor)"],["d","M93.2978,44.5335H78.8208a.9925.9925,0,0,1-.974-1.01V28.5108a.97.97,0,0,1,1.6628-.7143L93.9865,42.8092A1.0151,1.0151,0,0,1,93.2978,44.5335Z",1,"sapIllus_BrandColorSecondary",2,"fill","var(--sapIllus_BrandColorSecondary)"],["d","M104.608,38.9485l5.9157-1.7721c1.32-.3954.7584-2.5258-.5689-2.1282L104.0392,36.82c-1.32.3953-.7584,2.5258.5688,2.1282Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M85.2973,21.2465l.9718-5.9331c.2154-1.3151-1.777-1.8807-1.9941-.5554l-.9718,5.9332c-.2155,1.3151,1.777,1.8807,1.9941.5553Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M95.3034,29.0015a1.01,1.01,0,0,1-.6837-.267,1.0783,1.0783,0,0,1-.0864-1.4932l5.9511-6.8857a1.01,1.01,0,0,1,1.4538-.0884,1.0785,1.0785,0,0,1,.0865,1.4932l-5.9511,6.8858A1.0164,1.0164,0,0,1,95.3034,29.0015Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M94.8747,42.8861,80.0855,27.4623a1.5152,1.5152,0,0,0-1.0885-.4636H35.807a3.509,3.509,0,0,0-3.5146,3.4836c-.0294,13.2857.0137,66.7559.0157,69.0257a3.5076,3.5076,0,0,0,3.5146,3.4894H91.7709a3.5106,3.5106,0,0,0,3.5146-3.4982l.005-55.5785A1.49,1.49,0,0,0,94.8747,42.8861Zm-16.21-14.8355a1.15,1.15,0,0,1,.2561-.0309,1.04,1.04,0,0,1,.51.2134l14.276,14.8837.0194.02a.5891.5891,0,0,1,.0968.6251c-.1016.1764-.4086.24-.69.24L78.8355,44a.6031.6031,0,0,1-.5472-.6131c-.0087-4.9588-.017-9.9015-.0035-14.8689A.5189.5189,0,0,1,78.6646,28.0506Zm13.1062,73.95H35.8188a2.5045,2.5045,0,0,1-2.5107-2.491c-.002-2.2694-.0451-55.74-.0157-69.0248a2.5054,2.5054,0,0,1,2.5107-2.4861H77.3684a1.49,1.49,0,0,0-.0976.5106V43.4934A1.5145,1.5145,0,0,0,78.7894,45H78.92L94.286,47.9749l-.0046,51.5269A2.5074,2.5074,0,0,1,91.7708,102.0006Z",1,"sapIllus_StrokeDetailColor",2,"fill","var(--sapIllus_StrokeDetailColor)"]],template:function(r,a){1&r&&(e.ynx(0,0),e.TgZ(1,"fdp-approval-flow-messages",1),e.NdJ("messagesChange",function(s){return a._messages=s})("undoLastAction",function(){return a._undoLastAction()}),e.qZA(),e.TgZ(2,"fd-grid-list",2,3),e.NdJ("selectionChange",function(s){return a._onNodeSelectionChange(s)}),e.TgZ(4,"fd-grid-list-title-bar",4),e.ALo(5,"fdTranslate"),e._UZ(6,"fd-grid-list-title-bar-spacer"),e.YNc(7,p,1,4,"fdp-approval-flow-toolbar-actions",5),e.qZA(),e.YNc(8,M,6,6,"div",6),e.YNc(9,Ve,2,2,"ng-container",7),e.qZA(),e.YNc(10,$e,8,8,"div",8),e.YNc(11,Xe,17,7,"ng-template",null,9,e.W1O),e.BQk()),2&r&&(e.xp6(1),e.Q6J("messages",a._messages)("undoLastActionAvailable",!!a._previousApprovalProcess),e.xp6(1),e.Q6J("selectionMode",a._isEditMode?"multiSelect":"none"),e.xp6(2),e.Q6J("title",a.title||e.lcZ(5,8,"platformApprovalFlow.defaultTitle")),e.xp6(3),e.Q6J("ngIf",a.isEditAvailable),e.xp6(1),e.Q6J("ngIf",(null==a._approvalProcess||null==a._approvalProcess.watchers?null:a._approvalProcess.watchers.length)||a._isEditMode),e.xp6(1),e.Q6J("ngIf",!a._graph.errors),e.xp6(1),e.Q6J("ngIf",a._isEditMode))},dependencies:[_e.sg,_e.O5,_e.tP,me.JJ,me.On,we.A,Ae.R,Ce.M,be.J,Te.$,xe.r,Ee.o,Me.o,De.O,Ne.L,Se.a,Fe.n,ye.s,Ie.D,Pe.L,Le.Zt,Oe.z,Be.N,ke.I,Ze.C,u.D,Ue.S,ue.h,Re.n],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-scrollbar{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:auto;padding:0;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-scrollbar:after,.fd-scrollbar:before{box-sizing:inherit;font-size:inherit}.fd-scrollbar.is-focus,.fd-scrollbar:focus{outline:none;z-index:5}.fd-scrollbar::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-scrollbar::-webkit-scrollbar-corner,.fd-scrollbar::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-scrollbar::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-scrollbar::-webkit-scrollbar-thumb:active,.fd-scrollbar::-webkit-scrollbar-thumb:hover{box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-scrollbar--container::-webkit-scrollbar-corner,.fd-scrollbar--container::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color);border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-corner,.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-corner,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.fdp-approval-flow__watchers{margin-bottom:.5rem;padding-left:.5rem}.fdp-approval-flow__watchers-title{font-size:.875em;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin:1rem 0 .5rem}.fdp-approval-flow__watchers fd-avatar{margin-right:.5rem;cursor:pointer}.fdp-approval-flow__watchers fd-avatar:focus{outline-offset:.0625rem;outline-width:.0625rem;outline-style:dotted;outline-color:var(--sapContent_FocusColor, #0854a0)}.fdp-approval-flow__watchers .fdp-approval-flow__watchers-input-container{width:17.375rem}[dir=rtl] .fdp-approval-flow__watchers,.fdp-approval-flow__watchers[dir=rtl]{padding-right:.5rem}[dir=rtl] .fdp-approval-flow__watchers fd-avatar,.fdp-approval-flow__watchers[dir=rtl] fd-avatar{margin-left:.5rem;margin-right:0}.fdp-approval-flow__container{max-width:100%;position:relative;padding:0 .5rem}.fdp-approval-flow__container--extra-padding-start{padding-left:2rem}.fdp-approval-flow__container--extra-padding-end{padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start{padding-left:.5rem;padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-end{padding-right:.5rem;padding-left:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end{padding-right:2rem;padding-left:2rem}.fdp-approval-flow__graph-container{position:relative;overflow:auto;padding-top:.5rem;padding-bottom:2rem;padding-left:2rem}.fdp-approval-flow__graph-container--multiple-root-nodes{padding-left:4rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-root-nodes,.fdp-approval-flow__graph-container--multiple-root-nodes[dir=rtl]{padding-right:2rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-final-nodes,.fdp-approval-flow__graph-container--multiple-final-nodes[dir=rtl]{padding-left:0}.fdp-approval-flow-carousel-controls{position:absolute;display:flex;align-items:center;width:100%;height:6.375rem;padding-top:.5rem;left:0}.fdp-approval-flow-carousel-controls--edit-mode{height:8.375rem}.fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--next-slide{position:absolute;border:none;background:transparent;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);display:flex;justify-content:space-between;width:2rem;align-items:center;cursor:pointer}.fdp-approval-flow-carousel-controls__button--prev-slide fd-icon,.fdp-approval-flow-carousel-controls__button--next-slide fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;top:.0625rem}.fdp-approval-flow-carousel-controls__button--prev-slide{left:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--prev-slide[dir=rtl]{left:auto;right:0}.fdp-approval-flow-carousel-controls__button--next-slide{right:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--next-slide,.fdp-approval-flow-carousel-controls__button--next-slide[dir=rtl]{left:0;right:auto}.fdp-approval-flow__graph{display:flex;align-items:flex-start;position:relative;left:0;transition:left .3s}.fdp-approval-flow__graph-column{margin-right:4rem;position:relative}[dir=rtl] .fdp-approval-flow__graph-column:first-child,.fdp-approval-flow__graph-column[dir=rtl]:first-child{margin-right:2rem}.fdp-approval-flow__graph fdp-approval-flow-node+fdp-approval-flow-node:not(:last-child){margin-bottom:1rem}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner{padding:0}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content{margin-left:auto}[dir=rtl] .fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content,.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content[dir=rtl]{margin-left:0;margin-right:auto}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--actions{display:none}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner:not(.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner--edit) .fd-toolbar.fd-grid-list__item-toolbar{display:none}.cdk-overlay-container{z-index:1002!important}\n"],encapsulation:2,changeDetection:0})},40790:(V,I,t)=>{function e(S){return"approved"===S.status}function b(S){return"not started"!==S.status}function l(S){return S?.name}function T(S){return S?.name}function h(S){return S?.id}function o(S,N){return S.name.toLowerCase().indexOf(N.toLowerCase())>-1}function y(S,N){return N?.id??S}function B(S){return S.columns.reduce((N,D)=>N.concat(D.nodes),[])}function P(S,N){return N.filter(D=>W(D,S.id))}function R(){return{id:`blankId${(1e3*Math.random()).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",blank:!0}}function K(){return{id:`spaceId${(1e3*Math.random()).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",space:!0}}function W(S,N){return S.targets.includes(N)}t.d(I,{$Q:()=>B,Bw:()=>l,Hg:()=>y,Ju:()=>K,KY:()=>W,TV:()=>o,Tc:()=>h,Us:()=>T,_3:()=>b,aC:()=>e,dL:()=>R,u$:()=>P})},60077:(V,I,t)=>{t.d(I,{KF:()=>e.K,vU:()=>$});var e=t(96153),b=t(36895),l=t(90433),T=t(73555),h=t(13246),o=t(59052),y=t(14257),B=t(72738),P=t(43357),R=t(91551),K=t(10826),W=t(62389),S=t(80686),N=t(70494),D=t(44604),g=t(39650),m=t(15067),u=t(78249),A=t(89146),C=t(30087),k=t(99778),z=t(31358),X=t(9866),H=t(96833),q=t(2215),J=t(94650);class ${}$.\u0275fac=function(ne){return new(ne||$)},$.\u0275mod=J.oAB({type:$}),$.\u0275inj=J.cJS({providers:[H.E],imports:[b.ez,l.u5,h.Fx,o.Fh,y.hJ,S.QX,W.Tw,R.Su,k.t,X._d,X.Ep,z.K2,m.Qj,g.H,B.nD,q.LU,D.$9,A.An,P.I$,C.UH,K.ej,T._t,u.dU,N.bz]}),t(50639),t(29877),t(30366),t(19731),t(17226),t(99749),t(46067),t(28325),t(79600),t(77762)},96833:(V,I,t)=>{t.d(I,{E:()=>l,n:()=>b});var e=t(94650),b=(()=>{return(T=b||(b={})).SELECT_TEAM="SELECT_TEAM",T.SELECT_USER="SELECT_USER",T.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",T.USER_DETAILS="USER_DETAILS",b;var T})();class l{constructor(){this.onViewChange=new e.vpe}get isUserDetailsMode(){return this.currentView===b.USER_DETAILS}get isTeamMembersMode(){return this.currentView===b.VIEW_TEAM_MEMBERS}get isSelectUserMode(){return this.currentView===b.SELECT_USER}get isSelectTeamMode(){return this.currentView===b.SELECT_TEAM}get team(){return this.selectedTeam}setCurrentView(h){this.currentView=h,this.onViewChange.emit()}resetView(){this.currentView=void 0,this.onViewChange.emit()}selectTeam(h){this.selectedTeam=h}resetTeam(){this.selectedTeam=void 0}}l.\u0275fac=function(h){return new(h||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac})}}]);