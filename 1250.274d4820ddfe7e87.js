"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1250],{56853:(Q,O,o)=>{o.d(O,{D:()=>T});var t=o(90433),M=o(60505),e=o(91591),F=o(77579),P=o(61135),A=o(50727),I=o(82722),S=o(63900),L=o(68675),N=o(39300),R=o(37188),V=o(10376),Z=o(83695),j=o(96684),u=o(94650);class T{set forms(s){s&&(Array.isArray(s)||(s=[s]),this._ngForms=s,this._startListeningForErrors())}set formFields(s){this._formFields=s,this._listenToFormFieldErrors(s)}get formFields(){return this._formFields}constructor(s,l){this._destroy$=s,this._config=l,this.messagePopover$=new F.x,this._formFields=[],this._errors$=new P.X([]),this._ngForms=[],this._formItemErrorsSubscription=new A.w0,this._formSubmitted=!1,this.errors=this._errors$.asObservable()}ngAfterViewInit(){this._ngForms.length>0||(this._ngForms=this._projectedForm?.toArray(),this._startListeningForErrors(),this._projectedForm?.changes.pipe((0,I.R)(this._destroy$)).subscribe(()=>{this._ngForms=this._projectedForm.toArray(),this._startListeningForErrors()}))}setMessagePopover(s){this.messagePopover$.next(s)}addForms(s){const l=Array.isArray(s)?s:[s];this._ngForms.push(...l),this._startListeningForErrors()}addFormFields(s){this._formFields.push(...s),this._listenToFormFieldErrors(this._formFields)}_startListeningForErrors(){if(!this._ngForms)return;this._formErrorsSubscription?.unsubscribe(),this._errors$.next([]);const s=this._ngForms.map(l=>l.ngSubmit.pipe((0,S.w)(()=>l.statusChanges.pipe((0,L.O)(l.status),(0,N.h)(d=>"pending"!==d.toLowerCase())))));this._formErrorsSubscription=(0,R.$)(...s).pipe((0,I.R)(this._destroy$)).subscribe(()=>{this._formSubmitted=!0;const l=this._directiveItems.length>0?this._collectPlainFormData():this._collectAdvancedFormData();this._errors$.next(l)}),this._listenToFormFieldErrors(this._projectedFormFieldControls.toArray()),this._projectedFormFieldControls?.changes.subscribe(()=>{this._listenToFormFieldErrors(this._projectedFormFieldControls.toArray())})}_listenToFormFieldErrors(s){this._formItemErrorsSubscription.unsubscribe(),this._formItemErrorsSubscription=new A.w0,s?.forEach(l=>{this._formItemErrorsSubscription.add(l.formField?.errorsChange$.subscribe(()=>{if(!this._formSubmitted)return;const d=this._directiveItems.length>0?this._collectPlainFormData():this._collectAdvancedFormData();this._errors$.next(d)}))})}ngOnDestroy(){this._formItemErrorsSubscription.unsubscribe()}_collectPlainFormData(){const s=[{errors:[]}],l=this._directiveItems.toArray();return this._ngForms.forEach(d=>{Object.keys(d.form.controls).forEach(p=>{const v=d.form.get(p),g=l.find(h=>h.control?.name===p);if(!v?.errors||!g)return;const E=Object.keys(this._config.errors);Object.keys(v.errors).filter(h=>E.includes(h)).forEach(h=>{const B=v.errors[h],y=this._getConfigErrorModel(h),W={name:p,type:y.type,state:(0,j.q)("error"),fieldName:g?.label??"",element:g?.elementRef,heading:{type:"string",error:B,message:y.heading},description:{type:"string",error:B,message:y.description},errors:v.errors};s[0].errors.push(W)})})}),s}_collectAdvancedFormData(){let s=[];const l=this.formFields.length>0?this.formFields:this._projectedFormFieldControls.toArray(),d=p=>Array.isArray(p)?(p.forEach(v=>{s=d(v)}),s):(Object.keys(p.controls).forEach(v=>{const g=p.get(v),E=l.find(h=>h.id===v);g instanceof t.cw&&(s=d(g)),g?.errors&&E&&Object.keys(g.errors).forEach(h=>{const B=E.formField?.groupedErrors.find(D=>D.directive.error===h),y=this._getGroupName(E?.formField),W=this._getErrorModel(v,y,g,E,h,B,g.errors[h]);let K=s.findIndex(D=>D.group===y);-1===K&&(K=s.push({group:y,errors:[]})-1),s[K].errors.push(W)})}),s);return d(this._ngForms.map(p=>p.form))}_getErrorModel(s,l,d,p,v,g,E){let h="error";const B=this._config.errors[v];return g?.directive.type?h=g.directive.type:this._isAdvancedError(B)&&(h=B.type),{name:s,type:h,state:(0,j.q)(h),group:l,fieldName:p?.formField?.label??"",heading:this._getErrorText(p,g,"heading",v,E),description:this._getErrorText(p,g,"description",v,E),errors:d.errors,formField:p,element:p?.elementRef}}_getErrorText(s,l,d="heading",p,v){const g={error:l?.error,type:l?.directive?"directive":s?.formField?.i18Strings?"templateRef":"string"};if("string"===g.type){const E=this._getConfigErrorModel(p);return g.error=v,g.message=E[d],g}return l?.directive?(g.message="heading"===d?l.directive._headingTemplateRef??l.directive._descriptionTemplateRef:l.directive._descriptionTemplateRef,g):(g.message=s?.formField?.i18Strings??null,g)}_getGroupName(s){const l=[];return s?.formGroupContainer?.mainTitle&&l.push(s.formGroupContainer.mainTitle),s?.formFieldGroup?.label&&l.push(s.formFieldGroup.label),l.join(", ")}_getConfigErrorModel(s){const l=this._config.errors[s],d=!this._isAdvancedError(l);return{type:d?"error":l.type,heading:d?l:l.heading,description:d?void 0:l.description}}_isAdvancedError(s){return!!s&&"string"!=typeof s}}T.\u0275fac=function(s){return new(s||T)(u.Y36(M._ZF),u.Y36(V.G))},T.\u0275cmp=u.Xpm({type:T,selectors:[["fdp-message-popover-form-wrapper"]],contentQueries:function(s,l,d){if(1&s&&(u.Suo(d,t.gN,5),u.Suo(d,t.On,5),u.Suo(d,e.Od,5),u.Suo(d,Z.s,5)),2&s){let p;u.iGM(p=u.CRH())&&(l._projectedForm=p),u.iGM(p=u.CRH())&&(l._projectedFormItems=p),u.iGM(p=u.CRH())&&(l._projectedFormFieldControls=p),u.iGM(p=u.CRH())&&(l._directiveItems=p)}},inputs:{forms:"forms",formFields:"formFields"},exportAs:["messagePopoverWrapper"],features:[u._Bn([M._ZF])],ngContentSelectors:["*"],decls:1,vars:0,template:function(s,l){1&s&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0})},8960:(Q,O,o)=>{o.d(O,{I:()=>H});var t=o(37340),M=o(36895),e=o(94650),F=o(60505),P=o(78372),A=o(82722),I=o(22062),S=o(87792),L=o(3568),N=o(7814),R=o(58188),V=o(88729),Z=o(44368),j=o(92464),u=o(94311),U=o(27946);const T=["listView"],w=["detailsView"];function s(n,a){}const l=function(n){return{$implicit:n}};function d(n,a){if(1&n&&e.YNc(0,s,0,0,"ng-template",14),2&n){const r=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",r.heading.message||r.description.message)("ngTemplateOutletContext",e.VKq(2,l,r.heading.error))}}function p(n,a){}function v(n,a){if(1&n&&e.YNc(0,p,0,0,"ng-template",14),2&n){const r=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",r.heading.message)("ngTemplateOutletContext",e.VKq(2,l,r.errors))}}const g=function(n){return{error:n}};function E(n,a){if(1&n&&(e._uU(0),e.ALo(1,"fdTranslate")),2&n){const r=e.oxw().$implicit;e.hij(" ",e.Dn7(1,1,r.heading.message,e.VKq(5,g,r.heading.error),r.heading.message)," ")}}function h(n,a){}function B(n,a){if(1&n&&(e.YNc(0,d,1,4,"ng-template",null,10,e.W1O),e.YNc(2,v,1,4,"ng-template",null,11,e.W1O),e.YNc(4,E,2,7,"ng-template",null,12,e.W1O),e.YNc(6,h,0,0,"ng-template",13)),2&n){const r=a.$implicit,C=e.MAs(1),x=e.MAs(3),_=e.MAs(5);e.xp6(6),e.Q6J("ngTemplateOutlet","directive"===r.heading.type?C:"string"===r.heading.type?_:x)}}function y(n,a){}function W(n,a){if(1&n&&e.YNc(0,y,0,0,"ng-template",14),2&n){const r=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",r.description.message)("ngTemplateOutletContext",e.VKq(2,l,r.description.error))}}function K(n,a){}function G(n,a){if(1&n&&e.YNc(0,K,0,0,"ng-template",14),2&n){const r=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",r.description.message)("ngTemplateOutletContext",e.VKq(2,l,r.errors))}}function D(n,a){if(1&n&&(e._uU(0),e.ALo(1,"fdTranslate")),2&n){const r=e.oxw().$implicit;e.hij(" ",e.Dn7(1,1,r.description.message,e.VKq(5,g,r.description.error),r.description.message)," ")}}function $(n,a){}function X(n,a){if(1&n&&(e.YNc(0,W,1,4,"ng-template",null,15,e.W1O),e.YNc(2,G,1,4,"ng-template",null,16,e.W1O),e.YNc(4,D,2,7,"ng-template",null,17,e.W1O),e.YNc(6,$,0,0,"ng-template",13)),2&n){const r=a.$implicit,C=e.MAs(1),x=e.MAs(3),_=e.MAs(5);e.xp6(6),e.Q6J("ngTemplateOutlet","directive"===r.heading.type?C:"string"===r.heading.type?_:x)}}function k(n,a){if(1&n&&(e.TgZ(0,"li",19)(1,"span",20),e._uU(2),e.qZA()()),2&n){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.group)}}function q(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"a",28),e.NdJ("click",function(x){e.CHM(r);const _=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c._focusElement(x,_))}),e._uU(1),e.qZA()}if(2&n){const r=e.oxw().$implicit;e.xp6(1),e.hij(" ",r.fieldName," ")}}function ee(n,a){if(1&n&&e._uU(0),2&n){const r=e.oxw().$implicit;e.hij(" ",r.fieldName," ")}}function te(n,a){}const oe=function(n){return{"fd-list__item--byline":n}};function z(n,a){if(1&n){const r=e.EpF();e.ynx(0),e.TgZ(1,"li",21),e.NdJ("click",function(){const _=e.CHM(r).$implicit,c=e.oxw(2);return e.KtG(c._showDetails(_))}),e.TgZ(2,"a",22),e._UZ(3,"span",23),e.TgZ(4,"span",24)(5,"span",20),e.YNc(6,q,2,1,"a",25),e.YNc(7,ee,1,1,"ng-template",null,26,e.W1O),e.qZA(),e.TgZ(9,"span",27),e.YNc(10,te,0,0,"ng-template",14),e.qZA()()()(),e.BQk()}if(2&n){const r=a.$implicit,C=a.index,x=e.MAs(8);e.oxw(2);const _=e.MAs(1);e.xp6(1),e.Q6J("tabindex",0===C?0:-1)("ngClass",e.VKq(9,oe,!!r.description.message)),e.xp6(1),e.Q6J("navigationIndicator",!!r.description.message),e.xp6(1),e.Q6J("status",r.state)("glyph","message-"+r.type),e.xp6(3),e.Q6J("ngIf",r.element&&!!r.description.message)("ngIfElse",x),e.xp6(4),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.VKq(11,l,r))}}function re(n,a){if(1&n&&(e.ynx(0),e.YNc(1,k,3,1,"li",18),e.YNc(2,z,11,13,"ng-container",6),e.BQk()),2&n){const r=a.$implicit;e.xp6(1),e.Q6J("ngIf",r.group),e.xp6(1),e.Q6J("ngForOf",r.errors)}}function se(n,a){}function Y(n,a){}function ne(n,a){if(1&n&&(e.TgZ(0,"span",32),e.YNc(1,Y,0,0,"ng-template",14),e.qZA()),2&n){const r=e.oxw(2),C=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",C)("ngTemplateOutletContext",e.VKq(2,l,r.currentEntry))}}function ie(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span",29),e._UZ(2,"span",30),e.YNc(3,se,0,0,"ng-template",14),e.qZA(),e.YNc(4,ne,2,4,"span",31),e.BQk()),2&n){const r=e.oxw(),C=e.MAs(1);e.xp6(2),e.Q6J("status",r.currentEntry.state)("glyph","message-"+r.currentEntry.type),e.xp6(1),e.Q6J("ngTemplateOutlet",C)("ngTemplateOutletContext",e.VKq(5,l,r.currentEntry)),e.xp6(1),e.Q6J("ngIf",r.currentEntry.description.message)}}class H{constructor(a,r,C){this._destroy$=a,this._tabbableService=r,this._document=C,this.openDetails=new e.vpe,this.focusItem=new e.vpe,this.closePopover=new e.vpe,this._initialClass="fd-message-popover__view-container",this._activeListElement=null}ngAfterViewInit(){(0,F.qYq)(this._detailsView.nativeElement).pipe((0,P.b)(20),(0,A.R)(this._destroy$)).subscribe(()=>{const{height:a}=this._detailsView.nativeElement.getBoundingClientRect();this._listView.nativeElement.style.minHeight=`${a}px`})}_showDetails(a){this._activeListElement=this._document.activeElement,a.description.message?(this.currentScreen="details",this.openDetails.emit(a)):this._focusElement(void 0,a)}_focusElement(a,r){r?.element?.nativeElement&&(a?.stopImmediatePropagation(),this.closePopover.emit(!1),this.focusItem.emit(r),setTimeout(()=>{this._tabbableService.getTabbableElement(r.element?.nativeElement)?.focus()}))}_onListAnimationComplete(a){"open"===a.toState&&this._activeListElement&&(this._activeListElement.focus(),this._activeListElement=null)}}H.\u0275fac=function(a){return new(a||H)(e.Y36(F._ZF),e.Y36(F.AaH),e.Y36(M.K0))},H.\u0275cmp=e.Xpm({type:H,selectors:[["fdp-message-view"]],viewQuery:function(a,r){if(1&a&&(e.Gf(T,5,e.SBq),e.Gf(w,5,e.SBq)),2&a){let C;e.iGM(C=e.CRH())&&(r._listView=C.first),e.iGM(C=e.CRH())&&(r._detailsView=C.first)}},hostVars:2,hostBindings:function(a,r){2&a&&e.Tol(r._initialClass)},inputs:{currentScreen:"currentScreen",filteredErrors:"filteredErrors",currentEntry:"currentEntry"},outputs:{openDetails:"openDetails",focusItem:"focusItem",closePopover:"closePopover"},features:[e._Bn([F._ZF,F.AaH])],decls:13,vars:6,consts:[["headingTemplate",""],["descriptionTemplate",""],[1,"fd-message-view"],["tabindex","-1","fd-scrollbar","",1,"fd-message-view__list",3,"overrideTabindex"],["fd-list","",1,"message-popover__list","fd-list--message-view",3,"navigationIndicator"],["listView",""],[4,"ngFor","ngForOf"],[1,"fd-message-view__details"],["detailsView",""],[4,"ngIf"],["directiveHeading",""],["i18nHeading",""],["stringHeading",""],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["directiveDescription",""],["i18nDescription",""],["stringDescription",""],["fd-list-group-header","",4,"ngIf"],["fd-list-group-header",""],["fd-list-title",""],["fd-list-item","",3,"tabindex","ngClass","click"],["fd-list-link","",3,"navigationIndicator"],["fd-object-status","",1,"fd-list__icon",3,"status","glyph"],["fd-list-content",""],["tabindex","0","fd-link","",3,"click",4,"ngIf","ngIfElse"],["textHeading",""],[1,"fd-list__subtitle"],["tabindex","0","fd-link","",3,"click"],[1,"fd-message-view__details-title"],["fd-object-status","",1,"fd-message-view__icon",3,"status","glyph"],["class","fd-message-view__details-description",4,"ngIf"],[1,"fd-message-view__details-description"]],template:function(a,r){1&a&&(e.YNc(0,B,7,1,"ng-template",null,0,e.W1O),e.YNc(2,X,7,1,"ng-template",null,1,e.W1O),e.TgZ(4,"div",2)(5,"section",3),e.NdJ("@openCloseList.done",function(x){return r._onListAnimationComplete(x)}),e.TgZ(6,"ul",4,5),e.YNc(8,re,3,2,"ng-container",6),e.qZA()(),e.TgZ(9,"section",7)(10,"div",null,8),e.YNc(12,ie,5,7,"ng-container",9),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("@openCloseList","list"===r.currentScreen?"open":"closed")("overrideTabindex",!1),e.xp6(1),e.Q6J("navigationIndicator",!0),e.xp6(2),e.Q6J("ngForOf",r.filteredErrors),e.xp6(1),e.Q6J("@openCloseDetails","details"===r.currentScreen?"open":"closed"),e.xp6(3),e.Q6J("ngIf",r.currentEntry))},dependencies:[M.mk,M.sg,M.O5,M.tP,I.n,S.G,L.X,N.K,R.D,V.b,Z.k,j.g,u.N,U.n],encapsulation:2,data:{animation:[(0,t.X$)("openCloseList",[(0,t.SB)("open",(0,t.oB)({transform:"translateX(0)",opacity:1})),(0,t.SB)("closed",(0,t.oB)({transform:"translateX(-50px)",opacity:0})),(0,t.eR)("open => closed",[(0,t.jt)(".1s cubic-bezier(0, 0, 0.2, 1)")]),(0,t.eR)("closed => open",[(0,t.jt)("0.1s .1s cubic-bezier(0, 0, 0.2, 1)")])]),(0,t.X$)("openCloseDetails",[(0,t.SB)("open",(0,t.oB)({transform:"translateX(0)",opacity:1,display:"block"})),(0,t.SB)("closed",(0,t.oB)({transform:"translateX(50px)",opacity:0})),(0,t.eR)("open => closed",[(0,t.jt)(".1s cubic-bezier(0, 0, 0.2, 1)",(0,t.F4)([(0,t.oB)({transform:"translateX(0)",opacity:1,display:"block"}),(0,t.oB)({transform:"translateX(50px)",opacity:0,display:"none"})]))]),(0,t.eR)("closed => open",[(0,t.oB)({display:"block"}),(0,t.jt)("0.1s .1s cubic-bezier(0, 0, 0.2, 1)")])])]},changeDetection:0})},10376:(Q,O,o)=>{o.d(O,{G:()=>e,M:()=>M});var t=o(94650);const M={errors:{email:"platformMessagePopover.defaultErrors.email",max:"platformMessagePopover.defaultErrors.max",maxlength:"platformMessagePopover.defaultErrors.maxLength",min:"platformMessagePopover.defaultErrors.min",minlength:"platformMessagePopover.defaultErrors.minLength",pattern:"platformMessagePopover.defaultErrors.pattern",required:"platformMessagePopover.defaultErrors.required",requiredTrue:"platformMessagePopover.defaultErrors.requiredTrue"}},e=new t.OlP("FdpMessagePopoverConfig")},83695:(Q,O,o)=>{o.d(O,{s:()=>e});var t=o(94650),M=o(90433);class e{constructor(P,A){this.elementRef=P,this.control=A}}e.\u0275fac=function(P){return new(P||e)(t.Y36(t.SBq),t.Y36(M.a5,8))},e.\u0275dir=t.lG2({type:e,selectors:[["","fdpMessagePopoverFormItem",""]],inputs:{label:["fdpMessagePopoverFormItem","label"]}})},1250:(Q,O,o)=>{o.d(O,{Gu:()=>T.G,Dp:()=>d.D,W$:()=>s});var t=o(36895),M=o(90433),e=o(59052),F=o(14257),P=o(80686),A=o(83537),I=o(41204),S=o(69037),L=o(72232),N=o(49745),R=o(14217),V=o(60505),Z=o(2215),j=o(34661),u=o(99778),U=o(70684),T=o(10376),w=o(94650);class s{static withConfig(E){const h=(0,U.Z)(T.M,E,(B,y)=>"object"!=typeof B||Array.isArray(B)?Array.isArray(B)?B.concat(y):y:Object.assign(B,y));return{ngModule:s,providers:[{provide:T.G,useValue:h}]}}}s.\u0275fac=function(E){return new(E||s)},s.\u0275mod=w.oAB({type:s}),s.\u0275inj=w.cJS({providers:[{provide:T.G,useValue:T.M}],imports:[t.ez,P.QX,L.UU,e.Fh,I.pV,R.g7,M.u5,F.hJ,S.px,N.Y,A.LO,u.t,j.RO,Z.LU,V.OqV]}),o(22895);var d=o(56853);o(8960),o(83695)},22895:(Q,O,o)=>{o.d(O,{p:()=>x});var t=o(94650),e=(o(72232),o(60505)),F=o(11229),P=o(43496);const I=function A(_,c,i,f){for(var m=-1,b=null==_?0:_.length;++m<b;){var J=_[m];c(f,J,i(J),_)}return f};var S=o(90139),L=o(94157);var V=o(78706);const U=function Z(_,c){return function(i,f){if(null==i)return i;if(!(0,V.Z)(i))return _(i,f);for(var m=i.length,b=c?m:-1,J=Object(i);(c?b--:++b<m)&&!1!==f(J[b],b,J););return i}}(function N(_,c){return _&&(0,S.Z)(_,c,L.Z)}),w=function T(_,c,i,f){return U(_,function(m,b,J){c(f,m,i(m),J)}),f};var s=o(23708),l=o(14177),g=Object.prototype.hasOwnProperty;const h=function d(_,c){return function(i,f){var m=(0,l.Z)(i)?I:w,b=c?c():{};return m(i,_,(0,s.Z)(f,2),b)}}(function(_,c,i){g.call(_,i)?++_[i]:(0,P.Z)(_,i,1)});var B=o(20113);var K=o(82722),G=o(96684),D=o(36895),$=o(95010),X=o(75657),k=o(64381),q=o(45371),ee=o(5474),te=o(47551),oe=o(3765),z=o(90433),re=o(34531),se=o(44368),Y=o(56569),ne=o(8960),ie=o(27946);const H=["popover"];function n(_,c){if(1&_&&(t.TgZ(0,"button",15),t._UZ(1,"span",16),t.TgZ(2,"span",17),t._uU(3),t.qZA()()),2&_){const i=c.$implicit;t.Q6J("value",i.group),t.xp6(1),t.Q6J("status",i.state)("glyph","message-"+i.group),t.xp6(2),t.Oqu(i.count)}}function a(_,c){if(1&_){const i=t.EpF();t.TgZ(0,"fd-segmented-button",12),t.NdJ("ngModelChange",function(m){t.CHM(i);const b=t.oxw(2);return t.KtG(b._currentErrorType=m)})("ngModelChange",function(){t.CHM(i);const m=t.oxw(2);return t.KtG(m._filterErrors())}),t._UZ(1,"button",13),t.ALo(2,"fdTranslate"),t.YNc(3,n,4,4,"button",14),t.qZA()}if(2&_){const i=t.oxw(2);t.Q6J("ngModel",i._currentErrorType),t.xp6(1),t.Q6J("label",t.lcZ(2,3,"platformMessagePopover.allErrors")),t.xp6(2),t.Q6J("ngForOf",i._errorTypes)}}function r(_,c){if(1&_){const i=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(i);const m=t.oxw(2);return t.KtG(m._showList())}),t.qZA()}}function C(_,c){if(1&_){const i=t.EpF();t.TgZ(0,"fd-popover",1,2)(2,"fd-popover-control"),t._UZ(3,"button",3),t.qZA(),t.TgZ(4,"div")(5,"div",4)(6,"div",5)(7,"div",6),t.YNc(8,a,4,5,"fd-segmented-button",7),t.YNc(9,r,1,0,"button",8),t.qZA(),t.TgZ(10,"div",9)(11,"button",10),t.NdJ("click",function(){t.CHM(i);const m=t.MAs(1);return t.KtG(m.close())}),t.qZA()()()(),t.TgZ(12,"fdp-message-view",11),t.NdJ("openDetails",function(m){t.CHM(i);const b=t.oxw();return t.KtG(b._showDetails(m))})("closePopover",function(m){t.CHM(i);const b=t.oxw();return t.KtG(b._closePopover(m))})("focusItem",function(m){t.CHM(i);const b=t.oxw();return t.KtG(b.focusItem.emit(m))}),t.qZA()()()}if(2&_){const i=t.oxw();t.Q6J("focusTrapped",!0)("focusAutoCapture",!0)("disableScrollbar",!0),t.xp6(3),t.Q6J("ngClass","fd-message-popover__trigger--"+i._priorityState)("glyph","message-"+i._priorityFormState)("label",i._priorityStateItemsCount.toString()),t.xp6(5),t.Q6J("ngIf","list"===i.currentScreen),t.xp6(1),t.Q6J("ngIf","details"===i.currentScreen),t.xp6(3),t.Q6J("currentScreen",i.currentScreen)("filteredErrors",i._filteredErrors)("currentEntry",i.currentEntry)}}class x{constructor(c,i){this._cdr=c,this._destroy$=i,this.focusItem=new t.vpe,this.currentScreen="list",this._currentErrorType="all",this._errorTypes=[],this._priorityStateItemsCount=0,this._filteredErrors=[],this._groupedErrors=[]}ngOnInit(){this.wrapper?.setMessagePopover(this),this.wrapper?.errors.pipe((0,K.R)(this._destroy$)).subscribe(c=>{this._groupedErrors=c,this._errorTypes=[];const i=h(function y(_){return null!=_&&_.length?(0,B.Z)(_,1):[]}(Object.values(this._groupedErrors.map(m=>m.errors))),"type"),f=Object.keys(i);f.forEach(m=>{this._errorTypes.push({group:m,count:i[m],state:(0,G.q)(m)})}),this._priorityFormState=(0,F.QL)(f),this._priorityState=(0,G.q)(this._priorityFormState),this._priorityStateItemsCount=i[this._priorityFormState],this._filterErrors(),this._cdr.detectChanges()})}_showList(){this.currentScreen="list",this.currentEntry=null}_showDetails(c){this.currentScreen="details",this.currentEntry=c}_closePopover(c=!0){this._popover.close(c)}_filterErrors(){"all"!==this._currentErrorType?(this._filteredErrors=[],this._groupedErrors.forEach(c=>{const i=c.errors.filter(f=>f.type===this._currentErrorType);0!==i.length&&this._filteredErrors.push({group:c.group,errors:i})})):this._filteredErrors=this._groupedErrors}}x.\u0275fac=function(c){return new(c||x)(t.Y36(t.sBO),t.Y36(e._ZF))},x.\u0275cmp=t.Xpm({type:x,selectors:[["fdp-message-popover"]],viewQuery:function(c,i){if(1&c&&t.Gf(H,5),2&c){let f;t.iGM(f=t.CRH())&&(i._popover=f.first)}},inputs:{wrapper:"wrapper"},outputs:{focusItem:"focusItem"},features:[t._Bn([e._ZF])],decls:1,vars:1,consts:[["placement","top-start",3,"focusTrapped","focusAutoCapture","disableScrollbar",4,"ngIf"],["placement","top-start",3,"focusTrapped","focusAutoCapture","disableScrollbar"],["popover",""],["fd-button","","type","button",1,"fd-message-popover__trigger","fd-message-popover__trigger",3,"ngClass","glyph","label"],["fd-popover-body-header",""],["fd-bar","","barDesign","header",1,"fd-bar--growing"],["fd-bar-left",""],[3,"ngModel","ngModelChange",4,"ngIf"],["fd-button","","fdInitialFocus","","fdType","transparent","glyph","navigation-left-arrow","title","Go back",3,"click",4,"ngIf"],["fd-bar-right",""],["fd-button","","fdType","transparent","glyph","decline",3,"click"],[3,"currentScreen","filteredErrors","currentEntry","openDetails","closePopover","focusItem"],[3,"ngModel","ngModelChange"],["fd-button","","value","all",3,"label"],["fd-button","",3,"value",4,"ngFor","ngForOf"],["fd-button","",3,"value"],["fd-object-status","",3,"status","glyph"],[1,"fd-button__text"],["fd-button","","fdInitialFocus","","fdType","transparent","glyph","navigation-left-arrow","title","Go back",3,"click"]],template:function(c,i){1&c&&t.YNc(0,C,13,11,"fd-popover",0),2&c&&t.Q6J("ngIf",i._errorTypes.length>0)},dependencies:[D.mk,D.sg,D.O5,$.f,X.d,k.U,q.R,ee.b,te.M,oe.p,z.JJ,z.On,re.r,se.k,Y.N,Y.j,ne.I,ie.n],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-message-view{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:hidden;padding:0;position:relative}.fd-message-view:after,.fd-message-view:before{box-sizing:inherit;font-size:inherit}.fd-message-view__list{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;max-height:50vh;max-width:26rem;padding:0}.fd-message-view__list:after,.fd-message-view__list:before{box-sizing:inherit;font-size:inherit}.fd-message-view__list--hidden{opacity:0}.fd-message-view__details{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);display:none;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;inset:0;line-height:var(--sapContent_LineHeight);margin:0;padding:1rem 1rem 1rem 3.5rem;position:absolute}.fd-message-view__details:after,.fd-message-view__details:before{box-sizing:inherit;font-size:inherit}.fd-message-view__details[dir=rtl],[dir=rtl] .fd-message-view__details{padding:1rem 3.5rem 1rem 1rem}.fd-message-view__details-title{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);color:var(--sapGroup_TitleTextColor);display:block;font-family:var(--sapFontFamily);font-family:var(--sapFontHeaderFamily);font-size:var(--sapFontSize);font-size:var(--sapFontHeader5Size);font-weight:400;font-weight:var(--sapFontHeaderWeight);forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0 0 1rem;padding:0;white-space:normal}.fd-message-view__details-title:after,.fd-message-view__details-title:before{box-sizing:inherit;font-size:inherit}.fd-message-view__details-title .fd-message-view__icon{font-size:1rem;margin:0 .5rem 0 -2rem}.fd-message-view__details-title .fd-message-view__icon[dir=rtl],[dir=rtl] .fd-message-view__details-title .fd-message-view__icon{margin:0 -2rem 0 .5rem}.fd-message-view__details-description{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);display:block;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);line-height:1.4;margin:0 0 1rem;padding:0;white-space:normal}.fd-message-view__details-description:after,.fd-message-view__details-description:before{box-sizing:inherit;font-size:inherit}.fd-message-view__details--visible{display:block}.fd-message-popover__trigger.is-focus,.fd-message-popover__trigger:focus{outline-color:var(--sapContent_ContrastFocusColor);z-index:5}.fd-message-popover__trigger--critical{--fdButtonColor:var(--sapButton_Critical_TextColor);--fdButtonBackgroundColor:var(--sapButton_Critical_Background);--fdButtonBorderColor:var(--sapButton_Critical_BorderColor)}.fd-message-popover__trigger--critical.is-hover,.fd-message-popover__trigger--critical:hover{--fdButtonColor:var(--sapButton_Critical_Hover_TextColor);--fdButtonBackgroundColor:var(--sapButton_Critical_Hover_Background);--fdButtonBorderColor:var(--sapButton_Critical_Hover_BorderColor)}.fd-message-popover__trigger--critical.is-active,.fd-message-popover__trigger--critical:active{--fdButtonColor:var(--sapButton_Critical_Active_TextColor);--fdButtonBackgroundColor:var(--sapButton_Critical_Active_Background);--fdButtonBorderColor:var(--sapButton_Critical_Active_BorderColor)}.fd-message-popover__trigger--negative{--fdButtonColor:var(--sapButton_Negative_TextColor);--fdButtonBackgroundColor:var(--sapButton_Negative_Background);--fdButtonBorderColor:var(--sapButton_Negative_BorderColor)}.fd-message-popover__trigger--negative.is-hover,.fd-message-popover__trigger--negative:hover{--fdButtonColor:var(--sapButton_Negative_Hover_TextColor);--fdButtonBackgroundColor:var(--sapButton_Negative_Hover_Background);--fdButtonBorderColor:var(--sapButton_Negative_Hover_BorderColor)}.fd-message-popover__trigger--negative.is-active,.fd-message-popover__trigger--negative:active{--fdButtonColor:var(--sapButton_Negative_Active_TextColor);--fdButtonBackgroundColor:var(--sapButton_Negative_Active_Background);--fdButtonBorderColor:var(--sapButton_Negative_Active_BorderColor)}.fd-message-popover__trigger--success{--fdButtonColor:var(--sapButton_Success_TextColor);--fdButtonBackgroundColor:var(--sapButton_Success_Background);--fdButtonBorderColor:var(--sapButton_Success_BorderColor)}.fd-message-popover__trigger--success.is-hover,.fd-message-popover__trigger--success:hover{--fdButtonColor:var(--sapButton_Success_Hover_TextColor);--fdButtonBackgroundColor:var(--sapButton_Success_Hover_Background);--fdButtonBorderColor:var(--sapButton_Success_Hover_BorderColor)}.fd-message-popover__trigger--success.is-active,.fd-message-popover__trigger--success:active{--fdButtonColor:var(--sapButton_Success_Active_TextColor);--fdButtonBackgroundColor:var(--sapButton_Success_Active_Background);--fdButtonBorderColor:var(--sapButton_Success_Active_BorderColor)}.fd-message-popover__trigger--information{--fdButtonColor:var(--sapButton_Neutral_TextColor);--fdButtonBackgroundColor:var(--sapButton_Neutral_Background);--fdButtonBorderColor:var(--sapButton_Neutral_BorderColor)}.fd-message-popover__trigger--information.is-hover,.fd-message-popover__trigger--information:hover{--fdButtonColor:var(--sapButton_Neutral_Hover_TextColor);--fdButtonBackgroundColor:var(--sapButton_Neutral_Hover_Background);--fdButtonBorderColor:var(--sapButton_Neutral_Hover_BorderColor)}.fd-message-popover__trigger--information.is-active,.fd-message-popover__trigger--information:active{--fdButtonColor:var(--sapButton_Neutral_Active_TextColor);--fdButtonBackgroundColor:var(--sapButton_Neutral_Active_Background);--fdButtonBorderColor:var(--sapButton_Neutral_Active_BorderColor)}.fd-message-popover__view-container{border-bottom-left-radius:var(--fdPopover_Border_Radius);border-bottom-right-radius:var(--fdPopover_Border_Radius);overflow:hidden;display:block;max-height:40vh}.fd-message-popover__view-container .fd-message-view .fd-list__item:first-child{border-top-left-radius:0;border-top-right-radius:0}.fd-message-popover__view-container .fd-message-view .fd-list__item:first-child:before{border-top-left-radius:0;border-top-right-radius:0}.fd-message-popover__view-container .fd-message-view .fd-list__item:last-child{border-bottom-left-radius:0;border-bottom-right-radius:0}.fd-message-popover__view-container .fd-message-view .fd-list__item:last-child:before{border-bottom-left-radius:0;border-bottom-right-radius:0}.fd-message-view__list{min-width:20rem;min-height:10rem;max-height:40vh}.fd-message-view__list .fd-link{font-size:inherit}.fd-message-view__list .fd-list__link:active,.fd-message-view__list .fd-list__link.is-active{--sapLinkColor: var(--sapList_Active_TextColor);--sapLink_Active_Color: var(--sapList_Active_TextColor)}\n"],encapsulation:2,changeDetection:0})},96684:(Q,O,o)=>{function t(M){switch(M){case"success":return"positive";case"error":return"negative";case"warning":return"critical";case"information":return"informative";default:return"neutral"}}o.d(O,{q:()=>t})}}]);