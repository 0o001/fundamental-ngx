"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4692],{71178:(B,T,n)=>{n.d(T,{m:()=>E});var t=n(90433),p=n(91551),e=n(94650),a=n(93839),J=n(71497),x=n(85677),D=n(45277),I=n(85728),L=n(95002),g=n(57646),S=n(71651),y=n(70277),h=n(14178),m=n(28297),f=n(27946);const _=["formContainer"];function v(V,u){1&V&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformVariantManagement.requiredFieldError")," "))}function A(V,u){1&V&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()),2&V&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformVariantManagement.nameTakenFieldError")," "))}const C=function(){return{S:12}},R=function(){return{trueValue:"public",falseValue:"private"}};class E{constructor(u,M){this.dialog=u,this._formBuilder=M,this._dialogConfig=this.dialog.data,this._nameValidator=[this._variantNameValidator(this._dialogConfig)],this._form=this._formBuilder.group({name:[this._dialogConfig.currentVariantName,[t.kI.required,this._variantNameValidator(this._dialogConfig)]],isDefault:!1,access:"private",applyAutomatically:!1,readonly:!1,favourite:!1})}_submitForm(){this._formContainer.onSubmit(new Event("submit")),this._form.valid&&this.dialog.close(this._form.value)}_variantNameValidator(u){return M=>u.existingVariantNames.includes(M.value)?{nameTaken:!0}:null}}E.\u0275fac=function(u){return new(u||E)(e.Y36(p.zj),e.Y36(t.qu))},E.\u0275cmp=e.Xpm({type:E,selectors:[["fdp-manage-variant-item"]],viewQuery:function(u,M){if(1&u&&e.Gf(_,5,t.sg),2&u){let Z;e.iGM(Z=e.CRH())&&(M._formContainer=Z.first)}},decls:27,vars:59,consts:[["fd-title",""],[3,"formGroup","unifiedLayout","useForm"],["formContainer",""],["id","name","hintPlacement","left",3,"label","column","rank","required","validators","labelColumnLayout","fieldColumnLayout","gapColumnLayout"],["name","name","formControlName","name"],["id","isDefault",3,"noLabelLayout","labelColumnLayout","fieldColumnLayout","gapColumnLayout"],["name","isDefault","formControlName","isDefault",3,"label"],["id","access",3,"noLabelLayout","labelColumnLayout","fieldColumnLayout","gapColumnLayout"],["name","access","formControlName","access",3,"values","label"],["id","applyAutomatically",3,"noLabelLayout","labelColumnLayout","fieldColumnLayout","gapColumnLayout"],["name","applyAutomatically","formControlName","applyAutomatically",3,"label"],[4,"fdpFormFieldError"],["fdType","emphasized","ariaLabel","Interested Emphasized",3,"label","click"],["ariaLabel","Cancel",3,"label","click"]],template:function(u,M){1&u&&(e.TgZ(0,"fd-dialog")(1,"fd-dialog-header")(2,"h1",0),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()(),e.TgZ(5,"fd-dialog-body")(6,"fdp-form-group",1,2)(8,"fdp-form-field",3),e.ALo(9,"fdTranslate"),e._UZ(10,"fdp-input",4),e.qZA(),e.TgZ(11,"fdp-form-field",5),e._UZ(12,"fdp-checkbox",6),e.ALo(13,"fdTranslate"),e.qZA(),e.TgZ(14,"fdp-form-field",7),e._UZ(15,"fdp-checkbox",8),e.ALo(16,"fdTranslate"),e.qZA(),e.TgZ(17,"fdp-form-field",9),e._UZ(18,"fdp-checkbox",10),e.ALo(19,"fdTranslate"),e.qZA(),e.YNc(20,v,3,3,"span",11),e.YNc(21,A,3,3,"span",11),e.qZA()(),e.TgZ(22,"fd-dialog-footer")(23,"fd-button-bar",12),e.NdJ("click",function(){return M._submitForm()}),e.ALo(24,"fdTranslate"),e.qZA(),e.TgZ(25,"fd-button-bar",13),e.NdJ("click",function(){return M.dialog.dismiss("Cancel")}),e.ALo(26,"fdTranslate"),e.qZA()()()),2&u&&(e.xp6(3),e.Oqu(e.lcZ(4,32,"platformVariantManagement.saveView")),e.xp6(3),e.Q6J("formGroup",M._form)("unifiedLayout",!1)("useForm",!0),e.xp6(2),e.Q6J("label",e.lcZ(9,34,"platformVariantManagement.view"))("column",1)("rank",1)("required",!0)("validators",M._nameValidator)("labelColumnLayout",e.DdM(46,C))("fieldColumnLayout",e.DdM(47,C))("gapColumnLayout",e.DdM(48,C)),e.xp6(3),e.Q6J("noLabelLayout",!0)("labelColumnLayout",e.DdM(49,C))("fieldColumnLayout",e.DdM(50,C))("gapColumnLayout",e.DdM(51,C)),e.xp6(1),e.Q6J("label",e.lcZ(13,36,"platformVariantManagement.setAsDefault")),e.xp6(2),e.Q6J("noLabelLayout",!0)("labelColumnLayout",e.DdM(52,C))("fieldColumnLayout",e.DdM(53,C))("gapColumnLayout",e.DdM(54,C)),e.xp6(1),e.Q6J("values",e.DdM(55,R))("label",e.lcZ(16,38,"platformVariantManagement.public")),e.xp6(2),e.Q6J("noLabelLayout",!0)("labelColumnLayout",e.DdM(56,C))("fieldColumnLayout",e.DdM(57,C))("gapColumnLayout",e.DdM(58,C)),e.xp6(1),e.Q6J("label",e.lcZ(19,40,"platformVariantManagement.applyAutomatically")),e.xp6(2),e.Q6J("fdpFormFieldError","required"),e.xp6(1),e.Q6J("fdpFormFieldError","nameTaken"),e.xp6(2),e.Q6J("label",e.lcZ(24,42,"platformVariantManagement.save")),e.xp6(2),e.Q6J("label",e.lcZ(26,44,"platformVariantManagement.cancel")))},dependencies:[a.a,J.H,x.g,D.A,I.N,L.r,g.H,S.h,y.e,t.JJ,t.JL,t.sg,t.u,h.a,m.b,f.n],encapsulation:2,changeDetection:0})},78625:(B,T,n)=>{n.d(T,{o:()=>F});var t=n(91551),p=n(31766);class e extends p.aF{constructor(s){super(s)}update(s){this.items$.next(s)}}var a=n(94650),J=n(36895),x=n(93839),D=n(71497),I=n(85677),L=n(45277),g=n(85728),S=n(95002),y=n(91553),h=n(90433),m=n(14178),f=n(28297),_=n(25739),v=n(30766),A=n(74092),C=n(79754),R=n(15203),E=n(27946);function V(l,s){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-table-cell")(1,"fd-icon",12),a.NdJ("click",function(){const Q=a.CHM(r).$implicit,N=a.oxw();return a.KtG(N._markAsFavourite(Q))}),a.ALo(2,"fdTranslate"),a.qZA()()}if(2&l){const r=s.$implicit;a.xp6(1),a.ekj("fd-variant-management__favourite-state--active",r.favourite),a.Q6J("ariaLabel",a.lcZ(2,3,"platformVariantManagement.markAsFavourite"))}}function u(l,s){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-input",15),a.NdJ("ngModelChange",function(O){a.CHM(r);const Q=a.oxw().$implicit;return a.KtG(Q.name=O)}),a.qZA()}if(2&l){const r=a.oxw().$implicit;a.Q6J("ngModel",r.name)}}function M(l,s){if(1&l&&(a.ynx(0),a._uU(1),a.BQk()),2&l){const r=a.oxw().$implicit;a.xp6(1),a.Oqu(r.name)}}function Z(l,s){if(1&l&&(a.TgZ(0,"fdp-table-cell"),a.YNc(1,u,1,1,"fdp-input",13),a.YNc(2,M,2,1,"ng-container",14),a.qZA()),2&l){const r=s.$implicit;a.xp6(1),a.Q6J("ngIf",!r.readonly),a.xp6(1),a.Q6J("ngIf",r.readonly)}}function K(l,s){if(1&l&&(a.TgZ(0,"fdp-table-cell"),a._uU(1),a.ALo(2,"fdTranslate"),a.qZA()),2&l){const r=s.$implicit;a.xp6(1),a.hij(" ",a.lcZ(2,1,"public"===r.access?"platformVariantManagement.access.public":"platformVariantManagement.access.private")," ")}}function z(l,s){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-table-cell")(1,"fd-radio-button",16),a.NdJ("ngModelChange",function(O){const N=a.CHM(r).$implicit;return a.KtG(N.isDefault=O)}),a.qZA()()}if(2&l){const r=s.$implicit;a.xp6(1),a.Q6J("value",!0)("id","radio-"+r.id)("ngModel",r.isDefault)}}function W(l,s){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-table-cell")(1,"fdp-checkbox",17),a.NdJ("ngModelChange",function(O){const N=a.CHM(r).$implicit;return a.KtG(N.applyAutomatically=O)}),a.qZA()()}if(2&l){const r=s.$implicit;a.xp6(1),a.Q6J("standalone",!0)("ngModel",r.applyAutomatically)}}function Y(l,s){if(1&l){const r=a.EpF();a.TgZ(0,"fdp-button",19),a.NdJ("click",function(){a.CHM(r);const O=a.oxw().$implicit,Q=a.oxw();return a.KtG(Q._removeVariant(O))}),a.ALo(1,"fdTranslate"),a.qZA()}2&l&&a.Q6J("title",a.lcZ(1,1,"platformVariantManagement.removeVariant"))}function j(l,s){if(1&l&&(a.TgZ(0,"fdp-table-cell"),a.YNc(1,Y,2,3,"fdp-button",18),a.qZA()),2&l){const r=s.$implicit;a.xp6(1),a.Q6J("ngIf",!r.readonly)}}class F{constructor(s,r){this.dialog=s,this._cdr=r,this._variants=[],this._variants=this.dialog.data.map(P=>P.clone({},!1)),this._dataProvider=new e(this._variants),this._source=new p.Gl(this._dataProvider)}_markAsFavourite(s){s.favourite=!s.favourite}_removeVariant(s){this._variants.splice(this._variants.findIndex(r=>s.id===r.id),1),this._dataProvider.update(this._variants),this._cdr.detectChanges()}_saveVariants(){this.dialog.close(this._variants)}}F.\u0275fac=function(s){return new(s||F)(a.Y36(t.zj),a.Y36(a.sBO))},F.\u0275cmp=a.Xpm({type:F,selectors:[["fdp-manage-variants-dialog"]],decls:31,vars:35,consts:[["id","fd-dialog-header-1","fd-title",""],[1,"fd-variant-management__table",3,"dataSource","noVerticalBorders"],["name","favourite","key","favourite"],[4,"fdpCellDef","fdpCellDefAs"],["name","name","key","name",3,"label"],["name","access","key","access",3,"label"],["name","isDefault","key","isDefault","align","center",3,"label"],["name","applyAutomatically","key","applyAutomatically","align","center",3,"label"],["name","createdBy","key","createdBy",3,"label"],["name","actions"],["fdType","emphasized","ariaLabel","Interested Emphasized",3,"label","click"],[3,"label","ariaLabel","click"],["tabindex","0","glyph","favorite",1,"fd-variant-management__favourite-state",3,"ariaLabel","click"],[3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"ngModel","ngModelChange"],["name","is-variant-default",3,"value","id","ngModel","ngModelChange"],["name","applyAutomatically",1,"fd-variant-management__centered-checkbox",3,"standalone","ngModel","ngModelChange"],["buttonType","transparent","glyph","decline",3,"title","click",4,"ngIf"],["buttonType","transparent","glyph","decline",3,"title","click"]],template:function(s,r){1&s&&(a.TgZ(0,"fd-dialog")(1,"fd-dialog-header")(2,"h1",0),a._uU(3),a.ALo(4,"fdTranslate"),a.qZA()(),a.TgZ(5,"fd-dialog-body")(6,"fdp-table",1)(7,"fdp-column",2),a.YNc(8,V,3,5,"fdp-table-cell",3),a.qZA(),a.TgZ(9,"fdp-column",4),a.ALo(10,"fdTranslate"),a.YNc(11,Z,3,2,"fdp-table-cell",3),a.qZA(),a.TgZ(12,"fdp-column",5),a.ALo(13,"fdTranslate"),a.YNc(14,K,3,3,"fdp-table-cell",3),a.qZA(),a.TgZ(15,"fdp-column",6),a.ALo(16,"fdTranslate"),a.YNc(17,z,2,3,"fdp-table-cell",3),a.qZA(),a.TgZ(18,"fdp-column",7),a.ALo(19,"fdTranslate"),a.YNc(20,W,2,2,"fdp-table-cell",3),a.qZA(),a._UZ(21,"fdp-column",8),a.ALo(22,"fdTranslate"),a.TgZ(23,"fdp-column",9),a.YNc(24,j,2,1,"fdp-table-cell",3),a.qZA()()(),a.TgZ(25,"fd-dialog-footer")(26,"fd-button-bar",10),a.NdJ("click",function(){return r._saveVariants()}),a.ALo(27,"fdTranslate"),a.qZA(),a.TgZ(28,"fd-button-bar",11),a.NdJ("click",function(){return r.dialog.dismiss("Cancel")}),a.ALo(29,"fdTranslate"),a.ALo(30,"fdTranslate"),a.qZA()()()),2&s&&(a.xp6(3),a.hij(" ",a.lcZ(4,17,"platformVariantManagement.manageViews")," "),a.xp6(3),a.Q6J("dataSource",r._source)("noVerticalBorders",!0),a.xp6(2),a.Q6J("fdpCellDefAs",r._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(10,19,"platformVariantManagement.view")),a.xp6(2),a.Q6J("fdpCellDefAs",r._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(13,21,"platformVariantManagement.sharing")),a.xp6(2),a.Q6J("fdpCellDefAs",r._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(16,23,"platformVariantManagement.default")),a.xp6(2),a.Q6J("fdpCellDefAs",r._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(19,25,"platformVariantManagement.applyAutomatically")),a.xp6(2),a.Q6J("fdpCellDefAs",r._variantModel),a.xp6(1),a.Q6J("label",a.lcZ(22,27,"platformVariantManagement.createdBy")),a.xp6(3),a.Q6J("fdpCellDefAs",r._variantModel),a.xp6(2),a.Q6J("label",a.lcZ(27,29,"platformVariantManagement.save")),a.xp6(2),a.Q6J("label",a.lcZ(29,31,"platformVariantManagement.cancel"))("ariaLabel",a.lcZ(30,33,"platformVariantManagement.cancel")))},dependencies:[J.O5,x.a,D.H,I.g,L.A,g.N,S.r,y.r0,h.JJ,h.On,m.a,f.b,_.a,v.Z,A.tY,A.y_,C.o,R._,E.n],encapsulation:2,changeDetection:0})},76107:(B,T,n)=>{n.d(T,{t:()=>y});var t=n(60505),p=n(91591),e=n(12559),a=n.n(e),J=n(68675),x=n(82722),D=n(39300),I=n(50727),L=n(19093),g=n(94650);class y{set _projectedVariantManager(m){this._variantManager=m,this._setPresets()}get _projectedVariantManager(){return this._variantManager}get _variantManagement(){return this._projectedVariantManager||this.variantManager}constructor(m){this._destroy$=m}ngAfterViewInit(){this._setPresets(),this._managedComponents?.changes.pipe((0,J.O)(this._managedComponents),(0,x.R)(this._destroy$)).subscribe(()=>{this._listenToPresetChanges()})}ngOnDestroy(){this._activeVariantSubscription?.unsubscribe(),this._componentsPresetChangeSubscription?.unsubscribe()}_setPresets(){this._activeVariantSubscription?.unsubscribe(),this._activeVariantSubscription=this._variantManagement?.activeVariantChangeSubject.pipe((0,D.h)(m=>!!m&&!!this._managedComponents),(0,x.R)(this._destroy$)).subscribe(()=>{this._managedComponents.toArray().forEach(f=>{f.setPreset(this._variantManagement.activeVariant.data[f.name])})})}_listenToPresetChanges(){this._componentsPresetChangeSubscription?.unsubscribe(),this._componentsPresetChangeSubscription=new I.w0,this._managedComponents.toArray().forEach(f=>{this._componentsPresetChangeSubscription.add(f.presetChanged.pipe((0,D.h)(_=>{const v=this._getComponentPreset().get(f);return!a()(_,v)}),(0,x.R)(this._destroy$)).subscribe(_=>{this._variantManagement?.updateActivePreset(_,f.name)}))})}_getComponentPreset(){const m=this._managedComponents.toArray(),f=this._variantManagement.getActiveVariantData(),_=new Map;return m.forEach(v=>{_.set(v,f[v.name])}),_}}y.\u0275fac=function(m){return new(m||y)(g.Y36(t._ZF))},y.\u0275cmp=g.Xpm({type:y,selectors:[["fdp-variant-management-wrapper"]],contentQueries:function(m,f,_){if(1&m&&(g.Suo(_,L.S,5),g.Suo(_,p.ID,5)),2&m){let v;g.iGM(v=g.CRH())&&(f._projectedVariantManager=v.first),g.iGM(v=g.CRH())&&(f._managedComponents=v)}},inputs:{variantManager:"variantManager"},features:[g._Bn([t._ZF,{provide:L.Y,useExisting:y}])],ngContentSelectors:["*"],decls:1,vars:0,template:function(m,f){1&m&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0})},18905:(B,T,n)=>{n.d(T,{g:()=>p});var t=n(94650);class p{constructor(a){this.templateRef=a}}p.\u0275fac=function(a){return new(a||p)(t.Y36(t.Rgc))},p.\u0275dir=t.lG2({type:p,selectors:[["","fdpVariantManagementDirtyLabel",""]]})},54692:(B,T,n)=>{n.d(T,{nC:()=>A});var t=n(36895),p=n(90433),e=n(91551),a=n(80686),J=n(83537),x=n(41204),D=n(72232),I=n(31108),L=n(78249),g=n(60505),S=n(2215),y=n(34661),h=n(11229),m=n(6457),f=n(31358),_=n(31766),v=n(94650);class A{}A.\u0275fac=function(Z){return new(Z||A)},A.\u0275mod=v.oAB({type:A}),A.\u0275inj=v.cJS({imports:[t.ez,D.UU,e.Su,y.RO,m.$,I.id,J.LO,x.pV,h.Mk,p.UX,p.u5,h.y0,h.AX,h.U_,_.ky,a.QX,L.dU,S.LU,g.drE,f.K2]}),n(96098),n(18905),n(71178),n(76107),n(78625)},19093:(B,T,n)=>{n.d(T,{S:()=>e,Y:()=>p});var t=n(94650);const p=new t.OlP("FdpVariantManagementWrapper"),e=new t.OlP("FdpVariantManagement")},96098:(B,T,n)=>{n.d(T,{$:()=>U});var t=n(94650),p=n(91551),a=(n(72232),n(12559)),J=n.n(a),x=n(61135),D=n(71178),I=n(78625),L=n(18905),g=n(19093),S=n(46698);let y=0;class h{constructor(i){this.access="public",this.applyAutomatically=!1,this.favourite=!1,this.id="variant-item-"+ ++y,this.isDefault=!1,this.readonly=!1,Object.keys(i).forEach(o=>{this[o]=i[o]})}clone(i={},o=!0){const c=Object.assign({},this,i);return c.data=(0,S.Z)(c.data),o&&delete c.id,new h(c)}}var m=n(36895),f=n(95010),_=n(78906),v=n(75657),A=n(67976),C=n(64381),R=n(45371),E=n(5474),V=n(47551),u=n(33201),M=n(85728),Z=n(95002),K=n(91790),z=n(22062),W=n(87792),Y=n(3568),j=n(58188),F=n(26069),l=n(27946),s=n(48604);const r=["popover"];function P(d,i){1&d&&t._uU(0,"*")}function O(d,i){}function Q(d,i){1&d&&t.YNc(0,O,0,0,"ng-template")}function N(d,i){if(1&d&&(t.ynx(0),t.TgZ(1,"span",20),t.YNc(2,P,1,0,"ng-template",null,21,t.W1O),t.YNc(4,Q,1,0,null,22),t.qZA(),t.BQk()),2&d){const o=t.MAs(3),c=t.oxw(2);t.xp6(1),t.ekj("fd-variant-management__dirty-indicator--custom",!!c.dirtyLabel),t.xp6(3),t.Q6J("ngTemplateOutlet",c.dirtyLabel?c.dirtyLabel.templateRef:o)}}function G(d,i){if(1&d){const o=t.EpF();t.TgZ(0,"div",23)(1,"div",9)(2,"fd-bar-element")(3,"fdp-search-field",24),t.NdJ("searchSubmit",function(b){t.CHM(o);const H=t.oxw(2);return t.KtG(H._onSearchSubmit(b))})("cancelSearch",function(){t.CHM(o);const b=t.oxw(2);return t.KtG(b._cancelSearch())}),t.ALo(4,"fdTranslate"),t.qZA()()()()}2&d&&(t.xp6(3),t.Q6J("placeholder",t.lcZ(4,2,"platformVariantManagement.search"))("disableRefresh",!0))}function $(d,i){if(1&d){const o=t.EpF();t.ynx(0),t.TgZ(1,"li",25),t.NdJ("click",function(){const H=t.CHM(o).$implicit,q=t.oxw(2);return t.KtG(q.selectVariant(H))}),t.TgZ(2,"span",26)(3,"span",27),t._uU(4),t.qZA()()(),t.BQk()}if(2&d){const o=i.$implicit;t.xp6(4),t.Oqu(o.name)}}function X(d,i){if(1&d){const o=t.EpF();t.TgZ(0,"fd-button-bar",28),t.NdJ("click",function(){t.CHM(o);const b=t.oxw(2);return t.KtG(b.saveCurrentVariant())}),t.ALo(1,"fdTranslate"),t.qZA()}2&d&&t.Q6J("label",t.lcZ(1,1,"platformVariantManagement.save"))}const k=function(d){return{searchTerm:d,key:"name"}};function w(d,i){if(1&d){const o=t.EpF();t.TgZ(0,"fd-popover",1,2)(2,"fd-popover-control")(3,"div",3)(4,"h4",4),t._uU(5),t.qZA(),t.YNc(6,N,5,3,"ng-container",5),t._UZ(7,"fdp-menu-button",6),t.qZA()(),t.TgZ(8,"fd-popover-body")(9,"div",7)(10,"div",8)(11,"div",9)(12,"fd-bar-element")(13,"h5",10),t._uU(14),t.ALo(15,"fdTranslate"),t.qZA()()()(),t.YNc(16,G,5,4,"div",11),t.qZA(),t.TgZ(17,"ul",12),t.YNc(18,$,5,1,"ng-container",13),t.ALo(19,"fdFilterStrings"),t.qZA(),t.TgZ(20,"div",14)(21,"div",15)(22,"div",16),t.YNc(23,X,2,3,"fd-button-bar",17),t.TgZ(24,"fd-button-bar",18),t.NdJ("click",function(){t.CHM(o);const b=t.oxw();return t.KtG(b._openSaveDialog())}),t.ALo(25,"fdTranslate"),t.qZA(),t.TgZ(26,"fd-button-bar",19),t.NdJ("click",function(){t.CHM(o);const b=t.oxw();return t.KtG(b._openManageDialog())}),t.ALo(27,"fdTranslate"),t.qZA()()()()()()}if(2&d){const o=t.oxw();t.Q6J("noArrow",!1)("focusAutoCapture",!0)("focusTrapped",!0)("triggers",o.popoverTriggers),t.xp6(4),t.Q6J("headerSize",o.headerSize),t.xp6(1),t.hij(" ",o.activeVariant.name," "),t.xp6(1),t.Q6J("ngIf",o._variantChanged),t.xp6(4),t.Q6J("barDesign",o.displaySearch?"header-with-subheader":"header"),t.xp6(4),t.Oqu(t.lcZ(15,16,"platformVariantManagement.myViews")),t.xp6(2),t.Q6J("ngIf",o.displaySearch),t.xp6(2),t.Q6J("ngForOf",t.xi3(19,18,o._variants,t.VKq(25,k,o._filterPhrase)))("ngForTrackBy",o._trackFn),t.xp6(5),t.Q6J("ngIf",!o.activeVariant.readonly&&o._variantChanged),t.xp6(1),t.Q6J("fdType",o.activeVariant.readonly||!o._variantChanged?"emphasized":"transparent")("label",t.lcZ(25,21,"platformVariantManagement.saveAs")),t.xp6(2),t.Q6J("label",t.lcZ(27,23,"platformVariantManagement.manage"))}}class U{set variants(i){this._variants=this._transformVariants(i);let o=this._variants.findIndex(b=>b.isDefault);o=o>-1?o:0,this.selectVariant(this._variants[o])}constructor(i,o){this._dialogService=i,this._cdr=o,this.headerSize=4,this.popoverTriggers=[{trigger:"click",stopPropagation:!0,closeAction:!0,openAction:!0}],this.displaySearch=!1,this.variantsChange=new t.vpe,this.activeVariantChange=new t.vpe,this.activeVariantChangeSubject=new x.X(null),this._variantChanged=!1,this._variants=[],this._filterPhrase=null,this._initialClass="fd-variant-management"}selectVariant(i){this._variantChanged=!1,this.activeVariant=i,this._originalActiveVariant=i.clone({},!1),this.activeVariantChange.emit(i),this.activeVariantChangeSubject.next(i)}getOriginalActiveVariantData(){return this._originalActiveVariant.data}getActiveVariantData(){return this.activeVariant.data}saveCurrentVariant(){const i=this._variants.findIndex(o=>o.id===this.activeVariant.id);this._variants[i]=this.activeVariant,this._originalActiveVariant=this.activeVariant.clone({},!1),this._variantChanged=!1,this.variantsChange.emit(this._variants)}_openSaveDialog(){this._popover?.close(!1),this._dialogService.open(D.m,{data:{existingVariantNames:this._variants.map(o=>o.name),currentVariantName:this.activeVariant.name}}).afterClosed.subscribe({next:o=>{const c=this.activeVariant.clone({...o,createdBy:this.userName});this._variants.push(c),this.variantsChange.emit(this._variants),this.activeVariant=c,this._variantChanged=!1,this._cdr.detectChanges()},error:()=>{}})}updateActivePreset(i,o){const c=this._originalActiveVariant.data[o];this._variantChanged=c&&!J()(i,c),this.activeVariant.data[o]=i,this._cdr.detectChanges()}_openManageDialog(){this._popover?.close(!1),this._dialogService.open(I.o,{data:this._variants}).afterClosed.subscribe({next:o=>{this._variants=o,this.variantsChange.emit(this._variants)},error:()=>{}})}_onSearchSubmit(i){this._filterPhrase=i.text,this._cdr.detectChanges()}_cancelSearch(){this._filterPhrase=null,this._cdr.detectChanges()}_trackFn(i,o){return o.id}_transformVariants(i){return i.map(o=>new h(o))}}U.\u0275fac=function(i){return new(i||U)(t.Y36(p.xA),t.Y36(t.sBO))},U.\u0275cmp=t.Xpm({type:U,selectors:[["fdp-variant-management"]],contentQueries:function(i,o,c){if(1&i&&t.Suo(c,L.g,5),2&i){let b;t.iGM(b=t.CRH())&&(o.dirtyLabel=b.first)}},viewQuery:function(i,o){if(1&i&&t.Gf(r,5),2&i){let c;t.iGM(c=t.CRH())&&(o._popover=c.first)}},hostVars:2,hostBindings:function(i,o){2&i&&t.Tol(o._initialClass)},inputs:{variants:"variants",headerSize:"headerSize",popoverTriggers:"popoverTriggers",userName:"userName",displaySearch:"displaySearch"},outputs:{variantsChange:"variantsChange",activeVariantChange:"activeVariantChange"},features:[t._Bn([{provide:g.S,useExisting:U}])],decls:1,vars:1,consts:[["placement","bottom","additionalBodyClass","fd-variant-management__popover-body",3,"noArrow","focusAutoCapture","focusTrapped","triggers",4,"ngIf"],["placement","bottom","additionalBodyClass","fd-variant-management__popover-body",3,"noArrow","focusAutoCapture","focusTrapped","triggers"],["popover",""],[1,"fd-variant-management__header"],["fd-title","",1,"fd-variant-management__title",3,"headerSize"],[4,"ngIf"],["type","transparent"],["fd-popover-body-header",""],["fd-bar","",3,"barDesign"],["fd-bar-left",""],["fd-title",""],["fd-bar","","barDesign","header",4,"ngIf"],["fd-list",""],[4,"ngFor","ngForOf","ngForTrackBy"],["fd-popover-body-footer",""],["fd-bar","","barDesign","footer"],["fd-bar-right",""],["fdType","emphasized",3,"label","click",4,"ngIf"],[3,"fdType","label","click"],[3,"label","click"],[1,"fd-variant-management__dirty-indicator"],["defaultDirtyIndicator",""],[4,"ngTemplateOutlet"],["fd-bar","","barDesign","header"],[3,"placeholder","disableRefresh","searchSubmit","cancelSearch"],["fd-list-item","",3,"click"],["fd-list-link",""],["fd-list-title",""],["fdType","emphasized",3,"label","click"]],template:function(i,o){1&i&&t.YNc(0,w,28,27,"fd-popover",0),2&i&&t.Q6J("ngIf",o.activeVariant)},dependencies:[m.sg,m.O5,m.tP,f.f,_.x,v.d,A.P,C.U,R.R,E.b,V.M,u.J,M.N,Z.r,K.p,z.n,W.G,Y.X,j.D,F.ri,l.n,s.G],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-variant-management{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;padding:0}.fd-variant-management:after,.fd-variant-management:before{box-sizing:inherit;font-size:inherit}.fd-variant-management__header{-webkit-box-sizing:border-box;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);cursor:pointer;display:flex;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;gap:.125rem;line-height:var(--sapContent_LineHeight);margin:0;padding:0}.fd-variant-management__header:after,.fd-variant-management__header:before{box-sizing:inherit;font-size:inherit}.fd-variant-management .fd-variant-management__title{color:var(--fdVariantManagementHeadingColor)}.fd-variant-management .fd-variant-management__title.is-hover,.fd-variant-management .fd-variant-management__title:hover{color:var(--fdVariantManagementHeadingHoverColor)}.fd-variant-management .fd-variant-management__title.is-active,.fd-variant-management .fd-variant-management__title:active{color:var(--fdVariantManagementHeadingActiveColor)}.fd-variant-management__dirty-indicator{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);color:var(--sapGroup_TitleTextColor);display:inline-block;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;font-weight:700;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;padding:0}.fd-variant-management__dirty-indicator:after,.fd-variant-management__dirty-indicator:before{box-sizing:inherit;font-size:inherit}.fd-variant-management__dirty-indicator--custom{font-size:var(--sapFontSmallSize)}.fd-variant-management__favourite-state{color:var(--sapContent_NonInteractiveIconColor);cursor:pointer}.fd-variant-management__favourite-state--active{color:var(--sapContent_MarkerIconColor)}.fd-variant-management__centered-checkbox{-webkit-box-pack:center;-ms-flex-pack:center;display:flex;justify-content:center}\n"],encapsulation:2,changeDetection:0})}}]);