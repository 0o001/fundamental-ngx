"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5424],{22792:(X,k,a)=>{a.d(k,{s:()=>M});var e=a(94650);let M=(()=>{class l{}return l.\u0275fac=function(A){return new(A||l)},l.\u0275dir=e.lG2({type:l,selectors:[["","fd-grid-list-item-image",""]],hostAttrs:[1,"fd-grid-list__item-image"]}),l})()},91032:(X,k,a)=>{a.d(k,{N:()=>A});var e=a(94650);const M=["fd-illustrated-message-figcaption",""],l=[[["","fd-illustrated-message-title",""]],[["","fd-illustrated-message-text",""]]],N=["[fd-illustrated-message-title]","[fd-illustrated-message-text]"];let A=(()=>{class o{}return o.\u0275fac=function(R){return new(R||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["","fd-illustrated-message-figcaption",""]],hostAttrs:[1,"fd-illustrated-message__figcaption"],attrs:M,ngContentSelectors:N,decls:2,vars:0,template:function(R,B){1&R&&(e.F$t(l),e.Hsn(0),e.Hsn(1,1))},encapsulation:2,changeDetection:0}),o})()},60057:(X,k,a)=>{a.d(k,{I:()=>M});var e=a(94650);let M=(()=>{class l{constructor(){this.fdIllustratedMessageTextClass=!0}}return l.\u0275fac=function(A){return new(A||l)},l.\u0275dir=e.lG2({type:l,selectors:[["","fd-illustrated-message-text",""]],hostVars:2,hostBindings:function(A,o){2&A&&e.ekj("fd-illustrated-message__text",o.fdIllustratedMessageTextClass)}}),l})()},84777:(X,k,a)=>{a.d(k,{C:()=>M});var e=a(94650);let M=(()=>{class l{constructor(){this.fdIllustratedMessageTitleClass=!0}}return l.\u0275fac=function(A){return new(A||l)},l.\u0275dir=e.lG2({type:l,selectors:[["","fd-illustrated-message-title",""]],hostVars:2,hostBindings:function(A,o){2&A&&e.ekj("fd-illustrated-message__title",o.fdIllustratedMessageTitleClass)}}),l})()},53361:(X,k,a)=>{a.d(k,{z:()=>D});var e=a(70655),M=a(43012),l=a(50727),N=a(54968),A=a(94650),o=a(11481),F=a(36895);function B(O,v){if(1&O&&(A.O4$(),A.TgZ(0,"svg",2),A._UZ(1,"use"),A.qZA()),2&O){const T=A.oxw();A.xp6(1),A.uIk("href",T._href)}}function K(O,v){if(1&O&&A._UZ(0,"div",3),2&O){const T=A.oxw();A.Q6J("innerHTML",T._inlineSvg,A.oJD)}}const W=[[["","fd-illustrated-message-figcaption",""]],[["fd-illustrated-message-actions"]]];let L=0;class D{constructor(v,T,m){this._elementRef=v,this._cdRef=T,this._sanitizer=m,this.type="scene",this.noSvg=!1,this.id="fd-illustrated-message-"+L++,this._subscriptions=new l.w0}ngOnChanges(v){this.buildComponentCssClass(),"svgConfig"in v&&this._constructHref()}ngOnInit(){this.buildComponentCssClass(),this._constructHref()}ngAfterViewInit(){"scene"===this.type&&this._subscriptions.add((0,N.R)(window,"resize").subscribe(()=>this._constructHref()))}ngOnDestroy(){this._subscriptions.unsubscribe()}elementRef(){return this._elementRef}buildComponentCssClass(){return["fd-illustrated-message",this.type?`fd-illustrated-message--${this.type}`:"",this.class]}_constructHref(){let v;if(this._inlineSvg=void 0,this.svgConfig)switch(this.type){case"scene":this._isSmallScreen=window.innerWidth<600,v=this._isSmallScreen?this.svgConfig.dialog?.file:this.svgConfig.scene?.file,this._href=this._isSmallScreen?`${this.svgConfig.dialog?.url||""}#${this.svgConfig.dialog?.id}`:`${this.svgConfig.scene?.url||""}#${this.svgConfig.scene?.id}`;break;case"dialog":v=this.svgConfig.dialog?.file,this._href=`${this.svgConfig.dialog?.url||""}#${this.svgConfig.dialog?.id}`;break;case"spot":v=this.svgConfig.spot?.file,this._href=`${this.svgConfig.spot?.url||""}#${this.svgConfig.spot?.id}`;break;case"dot":v=this.svgConfig.dot?.file,this._href=`${this.svgConfig.dot?.url||""}#${this.svgConfig.dot?.id}`}v&&(this._inlineSvg=this._sanitizer.bypassSecurityTrustHtml(v)),this._cdRef.detectChanges()}}D.\u0275fac=function(v){return new(v||D)(A.Y36(A.SBq),A.Y36(A.sBO),A.Y36(o.H7))},D.\u0275cmp=A.Xpm({type:D,selectors:[["","fd-illustrated-message",""]],hostVars:1,hostBindings:function(v,T){2&v&&A.uIk("id",T.id)},inputs:{type:"type",svgConfig:"svgConfig",noSvg:"noSvg",id:"id",class:"class"},features:[A.TTD],attrs:["fd-illustrated-message",""],ngContentSelectors:["[fd-illustrated-message-figcaption]","fd-illustrated-message-actions"],decls:4,vars:2,consts:[["class","fd-illustrated-message__illustration",4,"ngIf"],["style","display: none",3,"innerHTML",4,"ngIf"],[1,"fd-illustrated-message__illustration"],[2,"display","none",3,"innerHTML"]],template:function(v,T){1&v&&(A.F$t(W),A.YNc(0,B,2,1,"svg",0),A.YNc(1,K,1,1,"div",1),A.Hsn(2),A.Hsn(3,1)),2&v&&(A.Q6J("ngIf",!T.noSvg||T._inlineSvg),A.xp6(1),A.Q6J("ngIf",T._inlineSvg))},dependencies:[F.O5],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-illustrated-message{--illustratedMessagePadding:1rem;--illustratedMessageMaxWidth:30rem;--illustrationW:20rem;--illustrationH:15rem;--illustrationMargin:2rem 0;--figcaptionMaxWidth:25rem;--titleMarginBottom:1rem;--titleFontSize:var(--sapFontHeader2Size);--textMarginBottom:.5rem;--actionsMargin:1rem 0;-webkit-box-sizing:border-box;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);display:flex;flex-direction:column;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;height:auto;line-height:var(--sapContent_LineHeight);margin:0;max-width:var(--illustratedMessageMaxWidth);padding:0;padding:var(--illustratedMessagePadding);text-align:center;width:auto}.fd-illustrated-message:after,.fd-illustrated-message:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message-container{-webkit-box-sizing:border-box;background:var(--sapGroup_ContentBackground);border:0;border-radius:.5rem;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;padding:1rem;width:auto}.fd-illustrated-message-container:after,.fd-illustrated-message-container:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__illustration{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;height:var(--illustrationH);line-height:var(--sapContent_LineHeight);margin:0;margin:var(--illustrationMargin);padding:0;width:var(--illustrationW)}.fd-illustrated-message__illustration:after,.fd-illustrated-message__illustration:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__figcaption{-webkit-box-sizing:border-box;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);display:flex;flex-direction:column;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:hidden;padding:0;width:100%}.fd-illustrated-message__figcaption:after,.fd-illustrated-message__figcaption:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__title{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);color:var(--sapGroup_TitleTextColor);font-family:var(--sapFontFamily);font-family:var(--sapFontHeaderFamily);font-size:var(--sapFontSize);font-size:var(--titleFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;margin-bottom:var(--titleMarginBottom);max-width:var(--figcaptionMaxWidth);padding:0;text-align:center;width:100%}.fd-illustrated-message__title:after,.fd-illustrated-message__title:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__text{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;margin-bottom:var(--textMarginBottom);max-width:var(--figcaptionMaxWidth);padding:0;text-align:center}.fd-illustrated-message__text:after,.fd-illustrated-message__text:before{box-sizing:inherit;font-size:inherit}.fd-illustrated-message__actions{-webkit-box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;align-items:center;border:0;box-sizing:border-box;color:var(--sapTextColor);display:flex;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;gap:.5rem;justify-content:center;line-height:var(--sapContent_LineHeight);margin:0;margin:var(--actionsMargin);padding:0;width:100%}.fd-illustrated-message__actions:after,.fd-illustrated-message__actions:before{box-sizing:inherit;font-size:inherit}@media screen and (max-width: 599px){.fd-illustrated-message{--illustratedMessageMaxWidth:20rem;--illustrationW:15rem;--illustrationH:11.25rem;--figcaptionMaxWidth:18rem}}.fd-illustrated-message--dialog{--illustrationW:10rem;--illustrationH:10rem;--illustrationMargin:1rem 0;--titleMarginBottom:.5rem;--titleFontSize:var(--sapFontHeader3Size);--actionsMargin:.5rem 0 1rem 0}.fd-illustrated-message--spot{--illustratedMessagePadding:.5rem;--illustrationW:8rem;--illustrationH:8rem;--illustrationMargin:0 0 .5rem 0;--actionsMargin:.5rem 0;--titleMarginBottom:.5rem;--titleFontSize:var(--sapFontHeader4Size)}.fd-illustrated-message--dot{--illustratedMessagePadding:.25rem;--illustrationW:2.813rem;--illustrationH:2.813rem;--illustrationMargin:0;--textMarginBottom:.313rem;--titleMarginBottom:.25rem;--titleFontSize:var(--sapFontHeader5Size);--actionsMargin:.25rem 0;--illustrationMarginRight:.25rem;-ms-flex-wrap:wrap;flex-direction:row;flex-wrap:wrap}.fd-illustrated-message--dot .fd-illustrated-message__illustration{margin-right:var(--illustrationMarginRight)}.fd-illustrated-message--dot .fd-illustrated-message__illustration[dir=rtl],[dir=rtl] .fd-illustrated-message--dot .fd-illustrated-message__illustration{margin-left:var(--illustrationMarginRight);margin-right:0}.fd-illustrated-message--dot .fd-illustrated-message__illustration+.fd-illustrated-message__figcaption{width:calc(100% - var(--illustrationW) - var(--illustrationMarginRight))}\n"],encapsulation:2,changeDetection:0}),(0,e.gn)([M.Mkd,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",Array)],D.prototype,"buildComponentCssClass",null)},21780:(X,k,a)=>{a.d(k,{bz:()=>l});var e=a(36895),M=a(94650);let l=(()=>{class A{}return A.\u0275fac=function(F){return new(F||A)},A.\u0275mod=M.oAB({type:A}),A.\u0275inj=M.cJS({imports:[e.ez]}),A})();a(53361)},53609:(X,k,a)=>{a.d(k,{P2:()=>pe,tf:()=>ze});var e=a(39841),M=a(95790),l=a(49218),N=a(53572),A=a(84468),o=a(94650),F=a(36895),R=a(90433),B=a(42165),K=a(87757),W=a(61357),H=a(87455),L=a(34853),D=a(23470),O=a(48977),v=a(18279),T=a(34519),m=a(50681),u=a(66497),w=a(23988),U=a(62828),Q=a(80180),oe=a(71338),Y=a(40881),te=a(57095),j=a(77023),V=a(20586),ae=a(68226),le=a(6258),P=a(37362),q=a(55034),x=a(21565);function Z(c,I){1&c&&(o.ynx(0),o._uU(1),o.ALo(2,"fdTranslate"),o.BQk()),2&c&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApprovers")," "))}function $(c,I){1&c&&(o.ynx(0),o._uU(1),o.ALo(2,"fdTranslate"),o.BQk()),2&c&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderEditApprover")," "))}function re(c,I){1&c&&(o.ynx(0),o._uU(1),o.ALo(2,"fdTranslate"),o.BQk()),2&c&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApproverTeam")," "))}function he(c,I){if(1&c){const p=o.EpF();o.ynx(0),o.TgZ(1,"fd-icon",5),o.NdJ("click",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._exitTeamMembersMode())}),o.qZA(),o._uU(2),o.BQk()}if(2&c){const p=o.oxw(2);let E;o.xp6(1),o.Q6J("glyph",p._headerArrowGlyph),o.xp6(1),o.AsE(" ",null!==(E=null==p.viewService.team?null:p.viewService.team.name)&&void 0!==E?E:""," (",null!==(E=null==p.viewService.team||null==p.viewService.team.members?null:p.viewService.team.members.length)&&void 0!==E?E:0,") ")}}function de(c,I){if(1&c){const p=o.EpF();o.ynx(0),o.TgZ(1,"fd-icon",5),o.NdJ("click",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._exitUserDetailsMode())}),o.qZA(),o._uU(2),o.ALo(3,"fdTranslate"),o.BQk()}if(2&c){const p=o.oxw(2);o.xp6(1),o.Q6J("glyph",p._headerArrowGlyph),o.xp6(1),o.hij(" ",o.lcZ(3,2,"platformApprovalFlow.addNodeDialogHeaderDetail")," ")}}const ve=function(){return[]};function se(c,I){if(1&c){const p=o.EpF();o.TgZ(0,"fdp-search-field",6),o.NdJ("inputChange",function(r){o.CHM(p);const C=o.oxw(2);return o.KtG(C._onSearchStringChange(r.text))}),o.ALo(1,"fdTranslate"),o.qZA()}2&c&&o.Q6J("placeholder",o.lcZ(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",o.DdM(4,ve))}function _e(c,I){if(1&c&&(o.TgZ(0,"p"),o.YNc(1,Z,3,3,"ng-container",2),o.YNc(2,$,3,3,"ng-container",2),o.YNc(3,re,3,3,"ng-container",2),o.YNc(4,he,3,3,"ng-container",2),o.YNc(5,de,4,4,"ng-container",2),o.qZA(),o.YNc(6,se,2,5,"fdp-search-field",4)),2&c){const p=o.oxw();o.xp6(1),o.Q6J("ngIf",!p._selectMode&&!p._data.isEdit),o.xp6(1),o.Q6J("ngIf",!p._selectMode&&p._data.isEdit),o.xp6(1),o.Q6J("ngIf",p.viewService.isSelectUserMode||p.viewService.isSelectTeamMode),o.xp6(1),o.Q6J("ngIf",p.viewService.isTeamMembersMode),o.xp6(1),o.Q6J("ngIf",p.viewService.isUserDetailsMode),o.xp6(1),o.Q6J("ngIf",p._selectMode&&!p._userToShowDetails)}}function Ae(c,I){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const p=o.oxw().$implicit;o.Q6J("value",p),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogNodeTypeSerial")," ")}}function ge(c,I){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const p=o.oxw().$implicit;o.Q6J("value",p),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogNodeTypeParallel")," ")}}function we(c,I){if(1&c&&(o.ynx(0)(1,14),o.YNc(2,Ae,3,4,"li",15),o.YNc(3,ge,3,4,"li",15),o.BQk()()),2&c){const p=I.$implicit,E=o.oxw(3);o.xp6(1),o.Q6J("ngSwitch",p),o.xp6(1),o.Q6J("ngSwitchCase",E._nodeTypes.SERIAL),o.xp6(1),o.Q6J("ngSwitchCase",E._nodeTypes.PARALLEL)}}function Ce(c,I){if(1&c){const p=o.EpF();o.TgZ(0,"div",8)(1,"label",9),o._uU(2),o.ALo(3,"fdTranslate"),o.qZA(),o.TgZ(4,"fd-select",10),o.NdJ("valueChange",function(r){o.CHM(p);const C=o.oxw(2);return o.KtG(C._nodeType=r)}),o.YNc(5,we,4,3,"ng-container",11),o.qZA()()}if(2&c){const p=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,3,"platformApprovalFlow.addNodeDialogNodeType")," "),o.xp6(2),o.Q6J("value",p._nodeType),o.xp6(1),o.Q6J("ngForOf",p._nodeTypesArray)}}function be(c,I){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const p=o.oxw().$implicit;o.Q6J("value",p),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeUser")," ")}}function Te(c,I){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const p=o.oxw().$implicit;o.Q6J("value",p),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamAnyone")," ")}}function xe(c,I){if(1&c&&(o.TgZ(0,"li",16),o._uU(1),o.ALo(2,"fdTranslate"),o.qZA()),2&c){const p=o.oxw().$implicit;o.Q6J("value",p),o.xp6(1),o.hij(" ",o.lcZ(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamEveryone")," ")}}function Ee(c,I){if(1&c&&(o.ynx(0)(1,14),o.YNc(2,be,3,4,"li",15),o.YNc(3,Te,3,4,"li",15),o.YNc(4,xe,3,4,"li",15),o.BQk()()),2&c){const p=I.$implicit,E=o.oxw(2);o.xp6(1),o.Q6J("ngSwitch",p),o.xp6(1),o.Q6J("ngSwitchCase",E._approverTypes.SINGLE_USER),o.xp6(1),o.Q6J("ngSwitchCase",E._approverTypes.ANYONE),o.xp6(1),o.Q6J("ngSwitchCase",E._approverTypes.EVERYONE)}}function Me(c,I){if(1&c){const p=o.EpF();o.TgZ(0,"fd-multi-input",17),o.NdJ("ngModelChange",function(r){o.CHM(p);const C=o.oxw(2);return o.KtG(C._selectedApprovers=r)})("openChange",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._goToSelectMode())})("selectedChange",function(r){o.CHM(p);const C=o.oxw(2);return o.KtG(C._setSelectedApprovers(r))}),o.qZA()}if(2&c){const p=o.oxw(2);o.Q6J("showAllButton",!1)("dropdownValues",p._selectedApprovers)("ngModel",p._selectedApprovers)("displayFn",p._displayUserFn)}}function Ne(c,I){if(1&c){const p=o.EpF();o.TgZ(0,"fd-multi-input",18),o.NdJ("ngModelChange",function(r){o.CHM(p);const C=o.oxw(2);return o.KtG(C._selectedTeamArray=r)})("openChange",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._goToSelectMode())}),o.qZA()}if(2&c){const p=o.oxw(2);o.Q6J("showAllButton",!1)("dropdownValues",p._selectedTeamArray)("ngModel",p._selectedTeamArray)("displayFn",p._displayTeamFn)}}function De(c,I){if(1&c){const p=o.EpF();o.TgZ(0,"div",8)(1,"fd-checkbox",19),o.NdJ("ngModelChange",function(r){o.CHM(p);const C=o.oxw(2);return o.KtG(C._addToNextSerial=r)}),o._uU(2),o.ALo(3,"fdTranslate"),o.qZA()()}if(2&c){const p=o.oxw(2);o.xp6(1),o.Q6J("ngModel",p._addToNextSerial),o.xp6(1),o.hij(" ",o.lcZ(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}function Se(c,I){if(1&c){const p=o.EpF();o.TgZ(0,"div",8)(1,"label",9),o._uU(2),o.ALo(3,"fdTranslate"),o.qZA(),o.TgZ(4,"fd-date-picker",20),o.NdJ("ngModelChange",function(r){o.CHM(p);const C=o.oxw(2);return o.KtG(C._dueDate=r)}),o.qZA()()}if(2&c){const p=o.oxw(2);o.xp6(2),o.Oqu(o.lcZ(3,3,"platformApprovalFlow.addNodeDialogDueDate")),o.xp6(2),o.Q6J("state",p._dueDate?null:"error")("ngModel",p._dueDate)}}function Fe(c,I){if(1&c){const p=o.EpF();o.ynx(0),o.YNc(1,Ce,6,5,"div",7),o.TgZ(2,"div",8)(3,"label",9),o._uU(4),o.ALo(5,"fdTranslate"),o.qZA(),o.TgZ(6,"fd-select",10),o.NdJ("valueChange",function(r){o.CHM(p);const C=o.oxw();return o.KtG(C._approverType=r)}),o.YNc(7,Ee,5,4,"ng-container",11),o.qZA()(),o.TgZ(8,"div",8)(9,"label",9),o._uU(10),o.ALo(11,"fdTranslate"),o.qZA(),o.YNc(12,Me,1,4,"fd-multi-input",12),o.YNc(13,Ne,1,4,"fd-multi-input",13),o.qZA(),o.YNc(14,De,4,4,"div",7),o.YNc(15,Se,5,5,"div",7),o.BQk()}if(2&c){const p=o.oxw();o.xp6(1),o.Q6J("ngIf",p._data.showNodeTypeSelect),o.xp6(3),o.hij(" ",o.lcZ(5,9,"platformApprovalFlow.addNodeDialogApproverType")," "),o.xp6(2),o.Q6J("value",p._approverType),o.xp6(1),o.Q6J("ngForOf",p._approverTypesArray),o.xp6(3),o.Oqu(o.lcZ(11,11,"platformApprovalFlow.addNodeDialogUserOrTeam")),o.xp6(2),o.Q6J("ngIf",p._isSingleUserMode),o.xp6(1),o.Q6J("ngIf",!p._isSingleUserMode),o.xp6(1),o.Q6J("ngIf",p._nodeType===p._nodeTypes.PARALLEL),o.xp6(1),o.Q6J("ngIf",p._checkDueDate)}}function ye(c,I){if(1&c){const p=o.EpF();o.TgZ(0,"fdp-approval-flow-team-list",23),o.NdJ("onTeamClick",function(r){o.CHM(p);const C=o.oxw(3);return o.KtG(C._viewTeamMembers(r))})("onTeamRadioClick",function(r){o.CHM(p);const C=o.oxw(3);return o.KtG(C._setSelectedTeam(r))}),o.qZA()}if(2&c){const p=o.oxw(3);o.Q6J("isRtl",p._data.rtl)("teams",p._teams)("selectedTeamId",null==p._selectedTeam?null:p._selectedTeam.id)}}function Ie(c,I){if(1&c&&(o.ynx(0),o.YNc(1,ye,1,3,"fdp-approval-flow-team-list",22),o.BQk()),2&c){const p=o.oxw(2),E=o.MAs(10);o.xp6(1),o.Q6J("ngIf",!p._data.teamDataSource.isDataLoading)("ngIfElse",E)}}function Le(c,I){if(1&c){const p=o.EpF();o.TgZ(0,"fdp-approval-flow-user-list",25),o.NdJ("onUserClick",function(r){o.CHM(p);const C=o.oxw(3);return o.KtG(C._seeUserDetails(r))})("onSelectionChange",function(r){o.CHM(p);const C=o.oxw(3);return o.KtG(C._selectedApprovers=r)}),o.qZA()}if(2&c){const p=o.oxw(3);o.Q6J("users",p.viewService.isSelectUserMode?p._approvers:p._filteredTeamMembers)("isSelectable",p.viewService.isSelectUserMode)("selectedUsers",p._selectedApprovers)}}function Pe(c,I){if(1&c&&(o.ynx(0),o.YNc(1,Le,1,3,"fdp-approval-flow-user-list",24),o.BQk()),2&c){const p=o.oxw(2),E=o.MAs(10);o.xp6(1),o.Q6J("ngIf",p.viewService.isSelectUserMode||!p._data.userDataSource.isDataLoading)("ngIfElse",E)}}function Oe(c,I){if(1&c&&o._UZ(0,"fdp-approval-flow-user-details",26),2&c){const p=o.oxw(2);o.Q6J("user",p._userToShowDetails)("detailsTemplate",p._data.userDetailsTemplate)("details",p._userToShowDetailsData$)}}function ke(c,I){if(1&c&&(o.ynx(0),o.YNc(1,Ie,2,2,"ng-container",2),o.YNc(2,Pe,2,2,"ng-container",2),o.YNc(3,Oe,1,3,"fdp-approval-flow-user-details",21),o.BQk()),2&c){const p=o.oxw();o.xp6(1),o.Q6J("ngIf",p.viewService.isSelectTeamMode),o.xp6(1),o.Q6J("ngIf",p.viewService.isSelectUserMode||p.viewService.isTeamMembersMode),o.xp6(1),o.Q6J("ngIf",p.viewService.isUserDetailsMode&&p._userToShowDetails)}}function Be(c,I){if(1&c){const p=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",27),o.NdJ("click",function(){o.CHM(p);const r=o.oxw();return o.KtG(r._submit())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.TgZ(4,"fd-dialog-footer-button")(5,"button",28),o.NdJ("click",function(){o.CHM(p);const r=o.oxw();return o.KtG(r.dialogRef.close())}),o.ALo(6,"fdTranslate"),o.qZA()(),o.BQk()}if(2&c){const p=o.oxw();o.xp6(2),o.Q6J("label",o.lcZ(3,3,"platformApprovalFlow.addNodeAddActionBtnLabel"))("disabled",p._isMainSubmitButtonDisabled),o.xp6(3),o.Q6J("label",o.lcZ(6,5,"platformApprovalFlow.addNodeCancelActionBtnLabel"))}}function Ze(c,I){if(1&c){const p=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",29),o.NdJ("click",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._confirmSelectedApprovers())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.TgZ(4,"fd-dialog-footer-button")(5,"button",30),o.NdJ("click",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._exitSelectMode())}),o.ALo(6,"fdTranslate"),o.qZA()(),o.BQk()}if(2&c){const p=o.oxw(2);o.xp6(2),o.Q6J("label",o.lcZ(3,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!p._selectedApprovers.length),o.xp6(3),o.Q6J("label",o.lcZ(6,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Ue(c,I){if(1&c){const p=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",29),o.NdJ("click",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._confirmSelectedTeam())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.TgZ(4,"fd-dialog-footer-button")(5,"button",30),o.NdJ("click",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._exitSelectMode())}),o.ALo(6,"fdTranslate"),o.qZA()(),o.BQk()}if(2&c){const p=o.oxw(2);o.xp6(2),o.Q6J("label",o.lcZ(3,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!p._selectedTeam&&!p.viewService.team),o.xp6(3),o.Q6J("label",o.lcZ(6,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Re(c,I){if(1&c){const p=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",30),o.NdJ("click",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._exitTeamMembersMode())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.BQk()}2&c&&(o.xp6(2),o.Q6J("label",o.lcZ(3,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function Je(c,I){if(1&c){const p=o.EpF();o.ynx(0),o.TgZ(1,"fd-dialog-footer-button")(2,"button",30),o.NdJ("click",function(){o.CHM(p);const r=o.oxw(2);return o.KtG(r._exitUserDetailsMode())}),o.ALo(3,"fdTranslate"),o.qZA()(),o.BQk()}2&c&&(o.xp6(2),o.Q6J("label",o.lcZ(3,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function Qe(c,I){if(1&c&&(o.ynx(0),o.YNc(1,Ze,7,7,"ng-container",2),o.YNc(2,Ue,7,7,"ng-container",2),o.YNc(3,Re,4,3,"ng-container",2),o.YNc(4,Je,4,3,"ng-container",2),o.BQk()),2&c){const p=o.oxw();o.xp6(1),o.Q6J("ngIf",p.viewService.isSelectUserMode),o.xp6(1),o.Q6J("ngIf",p.viewService.isSelectTeamMode),o.xp6(1),o.Q6J("ngIf",p.viewService.isTeamMembersMode),o.xp6(1),o.Q6J("ngIf",p.viewService.isUserDetailsMode)}}function Ke(c,I){1&c&&o._UZ(0,"fd-busy-indicator",31),2&c&&o.Q6J("loading",!0)("block",!0)}var pe=(()=>{return(c=pe||(pe={})).SERIAL="SERIAL",c.PARALLEL="PARALLEL",pe;var c})(),ie=(()=>{return(c=ie||(ie={})).SINGLE_USER="SINGLE_USER",c.ANYONE="ANYONE",c.EVERYONE="EVERYONE",ie;var c})();let ze=(()=>{class c{constructor(p,E,r){this.dialogRef=p,this.viewService=E,this._cdr=r,this._nodeType=pe.SERIAL,this._nodeTypes=pe,this._nodeTypesArray=Object.keys(pe),this._approverType=ie.SINGLE_USER,this._approverTypes=ie,this._approverTypesArray=Object.keys(ie),this._dueDate=M._U.getNow(),this._selectMode=!1,this._approvers=[],this._teams=[],this._selectedApprovers=[],this._selectedTeamArray=[],this._selectedTeamMembers=[],this._filteredTeamMembers=[],this._checkDueDate=!1,this._displayUserFn=A.Us,this._displayTeamFn=A.Bw,this._trackByFn=A.Hg,this._addToNextSerial=!1}get _data(){return this.dialogRef.data}get _isSingleUserMode(){return this._approverType===this._approverTypes.SINGLE_USER}get _isMainSubmitButtonDisabled(){return!(this._isSingleUserMode?this._selectedApprovers:this._selectedTeamArray).length||this._checkDueDate&&!this._dueDate}get _headerArrowGlyph(){return"navigation-"+(this._data.rtl?"right":"left")+"-arrow"}ngOnInit(){this._data.teamDataSource.match(),this._data.userDataSource.match();const p=this._data.teamDataSource.open(),E=this._data.userDataSource.open();switch(this._dataSourceSub=(0,e.a)([p,E]).subscribe(([r,C])=>{if(this._teams=r,this._approvers=C,this._data.isEdit){this._checkDueDate=!!this._data.checkDueDate,this._checkDueDate&&this._data.node?.dueDate&&(this._dueDate=M._U.getFdDateByDate(new Date(this._data.node.dueDate))),this._selectedApprovers=[...this._data.node?.approvers??[]];const i=this._data.node?.approvalTeamId&&this._teams.find(f=>f.id===this._data.node?.approvalTeamId);i&&(this.viewService.selectTeam(i),this._selectedTeam=i,this._selectedTeamArray=[i],this._approverType=this._data.node?.isEveryoneApprovalNeeded?this._approverTypes.EVERYONE:this._approverTypes.ANYONE)}this._cdr.detectChanges()}),this._viewChangeSub=this.viewService.onViewChange.subscribe(()=>{this._onSearchStringChange(""),this._cdr.detectChanges()}),this._data.nodeTarget){case"empty":case"before":case"after":this._nodeType=this._nodeTypes.SERIAL;break;case"parallel":this._nodeType=this._nodeTypes.PARALLEL}}ngOnDestroy(){this._viewChangeSub.unsubscribe(),this._dataSourceSub.unsubscribe(),this._data.userDataSource.close(),this._data.teamDataSource.close()}_goToSelectMode(){this._selectMode=!0,this.viewService.setCurrentView(this._isSingleUserMode?N.n.SELECT_USER:N.n.SELECT_TEAM),this._cdr.detectChanges()}_exitSelectMode(){this._selectedApprovers.length&&!this._data.node?.approvers.length&&(this._selectedApprovers=[]),!this._data.isEdit&&!this._data.node?.approvalTeamId&&this.viewService.resetTeam(),this._selectMode=!1,this.viewService.resetView(),this._cdr.detectChanges()}_setSelectedApprovers(p){this._selectedApprovers=p,this._confirmSelectedApprovers()}_confirmSelectedApprovers(){this._data.node&&(this._data.node.approvers=this._selectedApprovers,this._data.node.variousTeams=this._data.node.approvers.some(p=>p.teamId!==this._data.node.approvers[0].teamId),this._data.node.description=this._data.node.variousTeams?"":this._selectedApprovers[0]?.description,delete this._data.node.approvalTeamId,delete this._data.node.isEveryoneApprovalNeeded,this._exitSelectMode())}_setSelectedTeam(p){this.viewService.selectTeam(p)}_confirmSelectedTeam(){this.viewService.team&&(this._selectedTeam=this.viewService.team,this._selectedTeamArray=[this.viewService.team],this._data.node&&(this._data.node.variousTeams=!1,this._data.node.approvalTeamId=this.viewService.team.id,this._data.node.description=this.viewService.team.name,this._data.node.isEveryoneApprovalNeeded=this._approverType===ie.EVERYONE),this._exitSelectMode())}_seeUserDetails(p){this.viewService.setCurrentView(N.n.USER_DETAILS),this._userToShowDetails=p,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",p.id]])),this._cdr.detectChanges()}_exitUserDetailsMode(){this.viewService.setCurrentView(this.viewService.team?N.n.VIEW_TEAM_MEMBERS:N.n.SELECT_USER),this._userToShowDetails=void 0,this._userToShowDetailsData$=void 0,this._cdr.detectChanges()}_viewTeamMembers(p){this.viewService.selectTeam(p),this.viewService.setCurrentView(N.n.VIEW_TEAM_MEMBERS),this._selectedTeamMembers=p.members,this._setFilteredTeamMembers(this._selectedTeamMembers),this._cdr.detectChanges()}_exitTeamMembersMode(){this.viewService.setCurrentView(N.n.SELECT_TEAM),this.viewService.resetTeam(),this._selectedTeamMembers=[],this._cdr.detectChanges()}_submit(){this._data.node&&!this._isSingleUserMode&&this._selectedTeam&&(this._data.node.approvers=[...this._selectedTeam.members]),this._data.node&&this._checkDueDate&&(this._data.node.dueDate=this._dueDate.toDate()),this.dialogRef.close({node:this._data.node,nodeType:this._nodeType,toNextSerial:this._addToNextSerial})}_onSearchStringChange(p=""){const E=new Map([["query",p]]);this.viewService.isSelectUserMode?this._data.userDataSource.match(E):this.viewService.isSelectTeamMode?this._data.teamDataSource.match(E):this.viewService.isTeamMembersMode&&this._setFilteredTeamMembers(this._selectedTeamMembers.filter(r=>(0,A.TV)(r,p)))}_setFilteredTeamMembers(p){this._filteredTeamMembers=[...p],this._cdr.detectChanges()}}return c.\u0275fac=function(p){return new(p||c)(o.Y36(l.zj),o.Y36(N.E),o.Y36(o.sBO))},c.\u0275cmp=o.Xpm({type:c,selectors:[["fdp-approval-flow-add-node"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-add-node"],decls:11,vars:8,consts:[["fdCompact",""],["fdkTemplate","header"],[4,"ngIf"],["loadingTpl",""],[3,"placeholder","suggestions","inputChange",4,"ngIf"],[3,"glyph","click"],[3,"placeholder","suggestions","inputChange"],["fd-form-item","",4,"ngIf"],["fd-form-item",""],["fd-form-label",""],[3,"value","valueChange"],[4,"ngFor","ngForOf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange",4,"ngIf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange",4,"ngIf"],[3,"ngSwitch"],["fd-option","",3,"value",4,"ngSwitchCase"],["fd-option","",3,"value"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange"],[3,"ngModel","ngModelChange"],["type","single",3,"state","ngModel","ngModelChange"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick",4,"ngIf","ngIfElse"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange",4,"ngIf","ngIfElse"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange"],[3,"user","detailsTemplate","details"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],["fd-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fd-initial-focus","","fdType","transparent",3,"label","click"],[3,"loading","block"]],template:function(p,E){1&p&&(o.TgZ(0,"fd-dialog",0)(1,"fd-dialog-header"),o.YNc(2,_e,7,6,"ng-template",1),o.qZA(),o.TgZ(3,"fd-dialog-body"),o.YNc(4,Fe,16,13,"ng-container",2),o.YNc(5,ke,4,3,"ng-container",2),o.qZA(),o.TgZ(6,"fd-dialog-footer"),o.YNc(7,Be,7,7,"ng-container",2),o.YNc(8,Qe,5,4,"ng-container",2),o.qZA()(),o.YNc(9,Ke,1,2,"ng-template",null,3,o.W1O)),2&p&&(o.xp6(1),o.ekj("show-search",E._selectMode&&!E._userToShowDetails),o.xp6(2),o.ekj("fd-dialog__body--auto-height",E.viewService.isUserDetailsMode),o.xp6(1),o.Q6J("ngIf",!E._selectMode),o.xp6(1),o.Q6J("ngIf",E._selectMode),o.xp6(2),o.Q6J("ngIf",!E._selectMode),o.xp6(1),o.Q6J("ngIf",E._selectMode))},dependencies:[F.sg,F.O5,F.RF,F.n9,R.JJ,R.On,B.$,K.r,W.o,H.a,L.H,D.g,O.A,v.u,T.r,m.S,u.N,u.j,w.ri,U.L,Q.b,oe.Hr,Y.x,te.L,j.B,V.J,ae.h,le.R,P.Q,q.S,x.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n",".fdp-approval-flow-add-node .fd-dialog__body{width:20rem;height:27rem}.fdp-approval-flow-add-node .fd-dialog__body--auto-height{height:auto}\n"],encapsulation:2,changeDetection:0}),c})()},40871:(X,k,a)=>{a.d(k,{F:()=>le});var e=a(49218),M=a(84468),l=a(94650),N=a(36895),A=a(42165),o=a(87757),F=a(61357),R=a(87455),B=a(34853),K=a(23470),W=a(48977),H=a(18279),L=a(34519),D=a(50681),O=a(66497),v=a(23988),T=a(6258),m=a(37362),u=a(21565);function w(P,q){if(1&P){const x=l.EpF();l.TgZ(0,"fd-icon",10),l.NdJ("click",function(){l.CHM(x);const $=l.oxw(2);return l.KtG($._exitUserDetailsMode())})("keyup.space",function(){l.CHM(x);const $=l.oxw(2);return l.KtG($._exitUserDetailsMode())})("keyup.enter",function(){l.CHM(x);const $=l.oxw(2);return l.KtG($._exitUserDetailsMode())}),l.qZA()}if(2&P){const x=l.oxw(2);l.Q6J("glyph","navigation-"+(x._data.rtl?"right":"left")+"-arrow")}}function U(P,q){if(1&P&&(l.ynx(0),l._uU(1),l.BQk()),2&P){const x=l.oxw(2);let Z;l.xp6(1),l.AsE("",null==x._data.node?null:x._data.node.description," (",null!==(Z=null==x._data.node||null==x._data.node.approvers?null:x._data.node.approvers.length)&&void 0!==Z?Z:0,")")}}const Q=function(){return[]};function oe(P,q){if(1&P){const x=l.EpF();l.TgZ(0,"fdp-search-field",11),l.NdJ("inputChange",function($){l.CHM(x);const re=l.oxw(2);return l.KtG(re._onSearchStringChange($.text))}),l.ALo(1,"fdTranslate"),l.qZA()}2&P&&l.Q6J("placeholder",l.lcZ(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",l.DdM(4,Q))}function Y(P,q){if(1&P&&(l.TgZ(0,"p"),l.YNc(1,w,1,1,"fd-icon",7),l.YNc(2,U,2,2,"ng-container",8),l.qZA(),l.YNc(3,oe,2,5,"fdp-search-field",9)),2&P){const x=l.oxw(),Z=l.MAs(12);l.xp6(1),l.Q6J("ngIf",x._userToShowDetails&&(null==x._data.node?null:x._data.node.approvers)&&x._data.node.approvers.length>1),l.xp6(1),l.Q6J("ngIf",x._isListMode&&!x._userToShowDetails)("ngIfElse",Z),l.xp6(1),l.Q6J("ngIf",!x._userToShowDetails&&x._isListMode)}}function te(P,q){if(1&P&&l._UZ(0,"fdp-approval-flow-user-details",12),2&P){const x=l.oxw();l.Q6J("user",x._userToShowDetails)("detailsTemplate",x._data.userDetailsTemplate)("details",x._userToShowDetailsData$)}}function j(P,q){if(1&P){const x=l.EpF();l.TgZ(0,"fdp-approval-flow-user-list",13),l.NdJ("onUserClick",function($){l.CHM(x);const re=l.oxw();return l.KtG(re._seeUserDetails($))})("onSelectionChange",function($){l.CHM(x);const re=l.oxw();return l.KtG(re._selectedUsers=$)}),l.qZA()}if(2&P){const x=l.oxw();l.Q6J("users",x._listItems)}}function V(P,q){if(1&P){const x=l.EpF();l.TgZ(0,"fd-dialog-footer-button")(1,"button",14),l.NdJ("click",function(){l.CHM(x);const $=l.oxw();return l.KtG($._sendReminder())}),l.ALo(2,"fdTranslate"),l.qZA()()}if(2&P){const x=l.oxw();l.xp6(1),l.Q6J("label",l.lcZ(2,2,"platformApprovalFlow.userDetailsSendReminderBtnLabel"))("disabled",!x._data.allowSendReminder||x._isListMode&&!x._selectedUsers.length)}}function ae(P,q){1&P&&(l._uU(0),l.ALo(1,"fdTranslate")),2&P&&l.hij(" ",l.lcZ(1,1,"platformApprovalFlow.userDetailsHeader"),"\n")}let le=(()=>{class P{constructor(x,Z){this.dialogRef=x,this._cdr=Z,this._isListMode=!1,this._listItems=[],this._selectedUsers=[]}get _data(){return this.dialogRef.data}ngOnInit(){if(this._isListMode=(this._data.node?.approvers.length??0)>1,this._isListMode)this._setListItems(this._data.node?.approvers??[]);else{const x=this._data.watcher||this._data.node?.approvers[0];x?this._seeUserDetails(x):this.dialogRef.close()}}_setListItems(x=[]){this._listItems=[...x],this._cdr.detectChanges()}_exitUserDetailsMode(){this._userToShowDetails=void 0,this._isListMode=!0}_seeUserDetails(x){this._userToShowDetails=x,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",x.id]])),this._isListMode=!1,this._selectedUsers=[],this._cdr.detectChanges()}_sendReminder(){this.dialogRef.close(this._isListMode?this._selectedUsers:this._data.node?.approvers)}_onSearchStringChange(x){this._setListItems(x?this._data.node?.approvers.filter(Z=>(0,M.TV)(Z,x)):this._data.node?.approvers)}}return P.\u0275fac=function(x){return new(x||P)(l.Y36(e.zj),l.Y36(l.sBO))},P.\u0275cmp=l.Xpm({type:P,selectors:[["fdp-approval-flow-approver-details"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-approver-details"],decls:13,vars:8,consts:[["fdkTemplate","header"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"users","onUserClick","onSelectionChange",4,"ngIf"],["fdCompact",""],[4,"ngIf"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],["defaultHeader",""],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter",4,"ngIf"],[4,"ngIf","ngIfElse"],["fdCompact","",3,"placeholder","suggestions","inputChange",4,"ngIf"],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter"],["fdCompact","",3,"placeholder","suggestions","inputChange"],[3,"user","detailsTemplate","details"],[3,"users","onUserClick","onSelectionChange"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","disabled","click"]],template:function(x,Z){1&x&&(l.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),l.YNc(2,Y,4,4,"ng-template",0),l.qZA(),l.TgZ(3,"fd-dialog-body"),l.YNc(4,te,1,3,"fdp-approval-flow-user-details",1),l.YNc(5,j,1,1,"fdp-approval-flow-user-list",2),l.qZA(),l.TgZ(6,"fd-dialog-footer",3),l.YNc(7,V,3,4,"fd-dialog-footer-button",4),l.TgZ(8,"fd-dialog-footer-button")(9,"button",5),l.NdJ("click",function(){return Z.dialogRef.close("Cancel")}),l.ALo(10,"fdTranslate"),l.qZA()()()(),l.YNc(11,ae,2,3,"ng-template",null,6,l.W1O)),2&x&&(l.xp6(1),l.ekj("show-search",!Z._userToShowDetails&&Z._isListMode),l.xp6(3),l.Q6J("ngIf",Z._userToShowDetails),l.xp6(1),l.Q6J("ngIf",Z._isListMode),l.xp6(2),l.Q6J("ngIf",Z._isListMode||Z._userToShowDetails&&1===(null==Z._data.node||null==Z._data.node.approvers?null:Z._data.node.approvers.length)),l.xp6(2),l.Q6J("label",l.lcZ(10,6,"platformApprovalFlow.userDetailsCancelBtnLabel")))},dependencies:[N.O5,A.$,o.r,F.o,R.a,B.H,K.g,W.A,H.u,L.r,D.S,O.N,O.j,v.ri,T.R,m.Q,u.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n"],encapsulation:2,changeDetection:0}),P})()},62177:(X,k,a)=>{a.d(k,{S:()=>O});var e=a(94650),M=a(84468),l=a(36895),N=a(85684),A=a(21565);function o(v,T){1&v&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesApproverAddedSuccess")," "))}function F(v,T){1&v&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesTeamAddedSuccess")," "))}function R(v,T){1&v&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeEdited")," "))}function B(v,T){1&v&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeRemovedSingular")," "))}function K(v,T){1&v&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesNodeRemovedPlural")," "))}function W(v,T){1&v&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesTeamRemoved")," "))}function H(v,T){1&v&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesErrorBuildGraph")," "))}function L(v,T){if(1&v){const m=e.EpF();e.TgZ(0,"a",5),e.NdJ("click",function(w){e.CHM(m);const U=e.oxw().index,Q=e.oxw();return e.KtG(Q._undoLastAction(U,w))})("keyup.enter",function(w){e.CHM(m);const U=e.oxw().index,Q=e.oxw();return e.KtG(Q._undoLastAction(U,w))})("keyup.space",function(w){e.CHM(m);const U=e.oxw().index,Q=e.oxw();return e.KtG(Q._undoLastAction(U,w))}),e._uU(1),e.ALo(2,"fdTranslate"),e.qZA()}2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.messagesUndoAction")," "))}function D(v,T){if(1&v){const m=e.EpF();e.TgZ(0,"fd-message-strip",1),e.NdJ("onDismiss",function(){const U=e.CHM(m).index,Q=e.oxw();return e.KtG(Q._dismissMessage(U))}),e.TgZ(1,"bdi")(2,"span",2),e.YNc(3,o,3,3,"ng-container",3),e.YNc(4,F,3,3,"ng-container",3),e.YNc(5,R,3,3,"ng-container",3),e.YNc(6,B,3,3,"ng-container",3),e.YNc(7,K,3,3,"ng-container",3),e.YNc(8,W,3,3,"ng-container",3),e.YNc(9,H,3,3,"ng-container",3),e.qZA(),e.YNc(10,L,3,3,"a",4),e.qZA()()}if(2&v){const m=T.$implicit,u=e.oxw();e.Q6J("type","error"===m.type?"error":"success")("dismissible","error"!==m.type),e.xp6(2),e.Q6J("ngSwitch",m.type),e.xp6(1),e.Q6J("ngSwitchCase","approverAddSuccess"),e.xp6(1),e.Q6J("ngSwitchCase","teamAddSuccess"),e.xp6(1),e.Q6J("ngSwitchCase","nodeEdit"),e.xp6(1),e.Q6J("ngSwitchCase","nodeRemove"),e.xp6(1),e.Q6J("ngSwitchCase","nodesRemove"),e.xp6(1),e.Q6J("ngSwitchCase","teamRemove"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngIf",u.undoLastActionAvailable)}}let O=(()=>{class v{constructor(){this.messages=[],this.undoLastActionAvailable=!1,this.messagesChange=new e.vpe,this.undoLastAction=new e.vpe,this._trackByFn=M.Hg}_dismissMessage(m){this.messages.splice(m,1)}_undoLastAction(m,u){u.preventDefault(),this._dismissMessage(m),this.undoLastAction.emit()}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["fdp-approval-flow-messages"]],hostAttrs:[1,"fdp-approval-flow-messages"],inputs:{messages:"messages",undoLastActionAvailable:"undoLastActionAvailable"},outputs:{messagesChange:"messagesChange",undoLastAction:"undoLastAction"},decls:1,vars:1,consts:[["class","fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss"],[3,"ngSwitch"],[4,"ngSwitchCase"],["href","#",3,"click","keyup.enter","keyup.space",4,"ngIf"],["href","#",3,"click","keyup.enter","keyup.space"]],template:function(m,u){1&m&&e.YNc(0,D,11,11,"fd-message-strip",0),2&m&&e.Q6J("ngForOf",u.messages)},dependencies:[l.sg,l.O5,l.RF,l.n9,N.h,A.n],styles:[".fdp-approval-flow-messages__item:not(:last-child){margin-bottom:1rem}\n"],encapsulation:2,changeDetection:0}),v})()},29394:(X,k,a)=>{a.d(k,{D:()=>E});var e=a(94650),M=a(50727),l=a(43012),N=a(21656),A=a(31962);let o=(()=>{class r{constructor(i){this.elRef=i,this.active=!1}_checkIfNodeDraggedInDropZone(i){this.active=!1;const f=this.elRef.nativeElement.getBoundingClientRect();f.top+f.height>i.top&&f.left+f.width>i.left&&f.bottom-f.height<i.bottom&&f.right-f.width<i.right&&(this.active=!0)}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r,selectors:[["","fdp-approval-flow-drop-zone",""]],inputs:{placement:"placement"},exportAs:["fdp-approval-flow-drop-zone"]}),r})();var F=a(84468),R=a(60676),B=a(36895),K=a(42165),W=a(87757),H=a(63793),L=a(50578),D=a(27078),O=a(42437),v=a(24919),T=a(63043),m=a(21565);const u=["overflowMenuButton"],w=["nodeContent"];function U(r,C){if(1&r&&e._UZ(0,"div",11),2&r){const i=e.oxw();e.ekj("fdp-approval-flow-node__vertical-line-before-solid",i._isVerticalLineBeforeSolid)}}function Q(r,C){if(1&r&&e._UZ(0,"div",12),2&r){const i=e.oxw();e.ekj("fdp-approval-flow-node__vertical-line-after-solid",i._isVerticalLineAfterSolid)}}function oe(r,C){1&r&&e._UZ(0,"div",16)}function Y(r,C){1&r&&e._UZ(0,"div",17)}function te(r,C){1&r&&e._UZ(0,"div",18)}function j(r,C){if(1&r&&(e.ynx(0),e.YNc(1,oe,1,0,"div",13),e.YNc(2,Y,1,0,"div",14),e.YNc(3,te,1,0,"div",15),e.Hsn(4),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.renderArrow),e.xp6(1),e.Q6J("ngIf",i._isRoot&&0===(null==i.meta?null:i.meta.nodeIndex)),e.xp6(1),e.Q6J("ngIf",i._isFinal&&0===(null==i.meta?null:i.meta.nodeIndex))}}function V(r,C){if(1&r&&(e.TgZ(0,"button",20),e.NdJ("click",function(f){return f.stopPropagation()}),e.qZA()),2&r){const i=e.oxw(2),f=e.MAs(18);e.Q6J("fdMenuTrigger",f)("disabled",i._isEditActionsAvailable)}}function ae(r,C){if(1&r&&e.YNc(0,V,1,2,"button",19),2&r){const i=e.oxw();e.Q6J("ngIf",!(null!=i.node&&i.node.disableActions))}}function le(r,C){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.node.approvers[0].name," ")}}const P=function(r){return{count:r}};function q(r,C){if(1&r&&(e._uU(0),e.ALo(1,"fdTranslate")),2&r){const i=e.oxw(2);e.hij(" ",e.xi3(1,1,"platformApprovalFlow.nodeMembersCount",e.VKq(4,P,i.node.approvers.length))," ")}}function x(r,C){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.node.approvers.length>1?i.node.description:i.node.approvers.length?i.node.approvers[0].description:""," ")}}function Z(r,C){1&r&&(e._uU(0),e.ALo(1,"fdTranslate")),2&r&&e.hij(" ",e.lcZ(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function $(r,C){1&r&&e.GkF(0)}function re(r,C){1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.nodeStatusDueToday")," "))}function he(r,C){if(1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&r){const i=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"platformApprovalFlow.nodeStatusDueInXDays",e.VKq(4,P,i.dueDateThreshold-i._dueIn))," ")}}function de(r,C){if(1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&r){const i=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"platformApprovalFlow.nodeStatusXDaysOverdue",e.VKq(4,P,i._dueIn-i.dueDateThreshold))," ")}}function ve(r,C){if(1&r&&(e.ynx(0),e.YNc(1,re,3,3,"ng-container",2),e.YNc(2,he,3,6,"ng-container",2),e.YNc(3,de,3,6,"ng-container",2),e.BQk()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i._dueIn===i.dueDateThreshold),e.xp6(1),e.Q6J("ngIf",i._dueIn<i.dueDateThreshold),e.xp6(1),e.Q6J("ngIf",i._dueIn>i.dueDateThreshold)}}function se(r,C){if(1&r&&(e.TgZ(0,"div",21)(1,"div",22),e.YNc(2,le,2,1,"ng-container",23),e.YNc(3,q,2,6,"ng-template",null,24,e.W1O),e.qZA(),e.TgZ(5,"div",25),e.YNc(6,x,2,1,"ng-container",23),e.YNc(7,Z,2,3,"ng-template",null,26,e.W1O),e.qZA(),e.TgZ(9,"fdp-object-status",27),e.YNc(10,$,1,0,"ng-container",28),e.YNc(11,ve,4,3,"ng-container",2),e.qZA()()),2&r){const i=e.MAs(4),f=e.MAs(8),y=e.oxw(),ne=e.MAs(16),We=e.MAs(14);e.xp6(1),e.ekj("fdp-approval-flow-node__name--members-count",y.node.approvers.length>1),e.Q6J("id",y.approvalFlowNodeId),e.xp6(1),e.Q6J("ngIf",1===y.node.approvers.length)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",!y.node.variousTeams)("ngIfElse",f),e.xp6(3),e.Q6J("status",y._objectStatus)("inverted",!0),e.xp6(1),e.Q6J("ngIf",y.approvalStatusTemplate)("ngIfThen",ne)("ngIfElse",We),e.xp6(1),e.Q6J("ngIf",y.checkDueDate&&y._showDueDateWarning)}}function _e(r,C){1&r&&e.GkF(0)}const Ae=function(){return{placement:"before-all"}};function ge(r,C){if(1&r&&(e.ynx(0),e.YNc(1,_e,1,0,"ng-container",29),e.BQk()),2&r){e.oxw();const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.DdM(2,Ae))}}function we(r,C){1&r&&e.GkF(0)}const Ce=function(){return{placement:"before"}};function be(r,C){if(1&r&&(e.ynx(0),e.YNc(1,we,1,0,"ng-container",29),e.BQk()),2&r){e.oxw();const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.DdM(2,Ce))}}function Te(r,C){1&r&&e.GkF(0)}const xe=function(){return{placement:"after"}};function Ee(r,C){if(1&r&&(e.ynx(0),e.YNc(1,Te,1,0,"ng-container",29),e.BQk()),2&r){e.oxw();const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.DdM(2,xe))}}function Me(r,C){1&r&&e.GkF(0)}const Ne=function(){return{placement:"after-all"}};function De(r,C){if(1&r&&(e.ynx(0),e.YNc(1,Me,1,0,"ng-container",29),e.BQk()),2&r){e.oxw();const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.DdM(2,Ne))}}function Se(r,C){if(1&r){const i=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(i);const y=e.oxw().placement,ne=e.oxw();return e.KtG(ne.onAdd.emit(y))}),e.qZA()}if(2&r){const i=e.oxw().placement,f=e.MAs(2),y=e.oxw();e.Udp("visibility",f.active?"hidden":""),e.ekj("fdp-approval-flow-node__add--blank",y._blank)("fdp-approval-flow-node__add--before",!y._blank&&("before"===i||"before-all"===i))("fdp-approval-flow-node__add--before-all",!y._blank&&"before-all"===i)("fdp-approval-flow-node__add--after",!y._blank&&("after"===i||"after-all"===i))("fdp-approval-flow-node__add--after-all","after-all"===i)}}function Fe(r,C){if(1&r&&(e.YNc(0,Se,1,12,"button",30),e._UZ(1,"div",31,32)),2&r){const i=C.placement,f=e.MAs(2),y=e.oxw();e.Q6J("ngIf","approved"!==y.node.status),e.xp6(1),e.ekj("fdp-approval-flow-node__drop-zone--active",f.active)("fdp-approval-flow-node__drop-zone--blank",y.isNextNodeBlank)("fdp-approval-flow-node__drop-zone--partial",y._dropZonePartial(i)),e.Q6J("placement",i)}}function ye(r,C){1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusApproved")))}function Ie(r,C){1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusRejected")))}function Le(r,C){1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusInProgress")))}function Pe(r,C){1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"platformApprovalFlow.statusNotStarted")))}function Oe(r,C){if(1&r&&(e.ynx(0)(1,34),e.YNc(2,ye,3,3,"ng-container",35),e.YNc(3,Ie,3,3,"ng-container",35),e.YNc(4,Le,3,3,"ng-container",35),e.YNc(5,Pe,3,3,"ng-container",35),e.BQk()()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",i.node.status),e.xp6(1),e.Q6J("ngSwitchCase","approved"),e.xp6(1),e.Q6J("ngSwitchCase","rejected"),e.xp6(1),e.Q6J("ngSwitchCase","in progress"),e.xp6(1),e.Q6J("ngSwitchCase","not started")}}function ke(r,C){if(1&r&&e.YNc(0,Oe,6,5,"ng-container",2),2&r){const i=e.oxw();e.Q6J("ngIf",!i.checkDueDate||!i._showDueDateWarning)}}const Be=function(r){return{node:r}};function Ze(r,C){if(1&r&&e.GkF(0,37),2&r){const i=e.oxw(3);e.Q6J("ngTemplateOutlet",i.approvalStatusTemplate)("ngTemplateOutletContext",e.VKq(2,Be,i.node))}}function Ue(r,C){if(1&r&&(e.ynx(0),e.YNc(1,Ze,1,4,"ng-container",36),e.BQk()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.approvalStatusTemplate)}}function Re(r,C){if(1&r&&e.YNc(0,Ue,2,1,"ng-container",2),2&r){const i=e.oxw();e.Q6J("ngIf",!i.checkDueDate||!i._showDueDateWarning)}}function Je(r,C){if(1&r){const i=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(i);const y=e.oxw();return e.MAs(18).close(),e.KtG(y.onAdd.emit("before"))}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversBefore")))}function Qe(r,C){if(1&r){const i=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(i);const y=e.oxw();return e.MAs(18).close(),e.KtG(y.onAdd.emit("after"))}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversAfter")))}function Ke(r,C){if(1&r){const i=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(i);const y=e.oxw();return e.MAs(18).close(),e.KtG(y.onAdd.emit("parallel"))}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"platformApprovalFlow.nodeActionAddApproversParallel")))}function pe(r,C){if(1&r){const i=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(i);const y=e.oxw();return e.MAs(18).close(),e.KtG(y.onEdit.emit())}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&r&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"platformApprovalFlow.nodeActionEditApprover"),""))}function ie(r,C){if(1&r){const i=e.EpF();e.TgZ(0,"li",38),e.NdJ("click",function(){e.CHM(i);const y=e.oxw();return e.MAs(18).close(),e.KtG(y.onDelete.emit())}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA()()()}2&r&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"platformApprovalFlow.nodeActionRemove"),""))}const ze=["*"],c={approved:"positive",rejected:"negative","in progress":"informative","not started":""},I=864e5;let p=0,E=(()=>{class r{get _blank(){return!!this.node?.blank}get _space(){return!!this.node?.space}get _isRoot(){return this.meta?.isRoot}get _isFinal(){return this.meta?.isFinal}get _renderLineBefore(){return!this.node?.blank}get _renderLineAfter(){return!this.node?.blank||this._isFinal}get _isApproved(){return this.node&&(0,F.aC)(this.node)}get _isParentApproved(){return this.meta?.parents?.length?this.meta.parents.every(i=>(0,F.aC)(i)):!!this.meta?.rootNodesApproved}get _isNodeSelected(){return this.isEdit&&this._isSelected}get _isParallelStart(){return Boolean(this.meta?.parallelStart)}get _isParallelEnd(){return Boolean(this.meta?.parallelEnd)}get _isFirstInParallel(){return Boolean(this.meta?.isFirstInParallel)}get _isLastInParallel(){return Boolean(this.meta?.isLastInParallel)}get _lastBlank(){return this._blank&&0===this.node.targets.length}get _isSelected(){return!!this.node.selected}constructor(i,f,y){this._elRef=i,this._cdr=f,this._rtlService=y,this.renderArrow=!1,this.checkDueDate=!1,this.dueDateThreshold=7,this.allNodesInColumnApproved=!1,this._showDueDateWarning=!1,this._dueIn=0,this.onAdd=new e.vpe,this.onEdit=new e.vpe,this.onDelete=new e.vpe,this.approvalFlowNodeId="fdp-approval-flow-node-"+p++,this._subscriptions=new M.w0,this._translationResolver=new R.en}get _nativeElement(){return this._elRef.nativeElement}get _isNotStarted(){return!(0,F._3)(this.node)}get _isEditActionsAvailable(){return"approved"===this.node.status||"rejected"===this.node.status}get _activeDropZones(){return this._dropZones.filter(i=>i.active)}get _isAnyDropZoneActive(){return this._activeDropZones.length>0}get _isVerticalLineBeforeSolid(){return this.meta?.parents.length?this.meta.parents.every(i=>(0,F.aC)(i)):!!this.meta?.isVerticalLineBeforeSolid}get _isVerticalLineAfterSolid(){return this.node?.targets.length?this._isVerticalLineBeforeSolid&&this.allNodesInColumnApproved:!!this.meta?.isVerticalLineAfterSolid}get _showAddButton(){return this.isEdit&&!this._blank&&!this._space&&!this.node?.disableActions}get _showAfterAllAddButton(){return this.isEdit&&!this._space&&!this.node?.disableActions}_dropZonePartial(i){return!this._blank&&(!this.isNextNodeBlank||"before"===i)||this._lastBlank&&"after-all"===i}ngOnInit(){this._checkNodeStatus(),this._subscriptions.add(this._rtlService?.rtl.subscribe(()=>this._cdr.markForCheck()))}ngOnChanges(){this._checkNodeStatus()}ngOnDestroy(){this._subscriptions.unsubscribe()}_onMenuOpen(){this._menu.refreshPosition()}_focus(i){this._gridListItem?.focus(i)}_deactivateDropZones(){this._dropZones.forEach(i=>i.active=!1),this._cdr.detectChanges()}_checkIfNodeDraggedInDropZone(i){this._dropZones.forEach(f=>f._checkIfNodeDraggedInDropZone(i)),this._cdr.detectChanges()}_checkNodeStatus(){if(this.node){if(this.checkDueDate&&this.node.dueDate){const i=Number(new Date(this.node.dueDate))-this.dueDateThreshold*I,f=Date.now()-i;return this._dueIn=Math.round(f/I),this._showDueDateWarning=!(0,F.aC)(this.node)&&i<Date.now(),this._objectStatus=this._showDueDateWarning?"critical":this._getNodeStatusClass(),void this._cdr.detectChanges()}this._objectStatus=this._getNodeStatusClass(),this._cdr.detectChanges()}}_getNodeStatusClass(){return this.statusColorMapping?this.statusColorMapping[this.node.status]:c[this.node.status]}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(l.qFd,8))},r.\u0275cmp=e.Xpm({type:r,selectors:[["fdp-approval-flow-node"]],contentQueries:function(i,f,y){if(1&i&&e.Suo(y,A.Oh,5),2&i){let ne;e.iGM(ne=e.CRH())&&(f._gridListItem=ne.first)}},viewQuery:function(i,f){if(1&i&&(e.Gf(N.Mn,5),e.Gf(u,5),e.Gf(w,5),e.Gf(o,5)),2&i){let y;e.iGM(y=e.CRH())&&(f._menu=y.first),e.iGM(y=e.CRH())&&(f._overflowMenuButton=y.first),e.iGM(y=e.CRH())&&(f._nodeContent=y.first),e.iGM(y=e.CRH())&&(f._dropZones=y)}},hostAttrs:[1,"fdp-approval-flow-node"],hostVars:36,hostBindings:function(i,f){2&i&&e.ekj("fdp-approval-flow-node--first-root",null==f.meta?null:f.meta.firstOfMultipleRootNodes)("fdp-approval-flow-node--first-final",null==f.meta?null:f.meta.firstOfMultipleFinalNodes)("fdp-approval-flow-node--edit-mode",f.isEdit)("fdp-approval-flow-node--next-blank",f.isNextNodeBlank)("fdp-approval-flow-node--blank",f._blank)("fdp-approval-flow-node--space",f._space)("fdp-approval-flow-node--root",f._isRoot)("fdp-approval-flow-node--final",f._isFinal)("fdp-approval-flow-node--line-before",f._renderLineBefore)("fdp-approval-flow-node--line-after",f._renderLineAfter)("fdp-approval-flow-node--approved",f._isApproved)("fdp-approval-flow-node--parent-approved",f._isParentApproved)("fdp-approval-flow-node--selected",f._isNodeSelected)("fdp-approval-flow-node--parallel-start",f._isParallelStart)("fdp-approval-flow-node--parallel-end",f._isParallelEnd)("fdp-approval-flow-node--first-in-parallel",f._isFirstInParallel)("fdp-approval-flow-node--last-in-parallel",f._isLastInParallel)("fdp-approval-flow-node--last-blank",f._lastBlank)},inputs:{node:"node",meta:"meta",renderArrow:"renderArrow",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allNodesInColumnApproved:"allNodesInColumnApproved",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",isEdit:"isEdit",isNextNodeBlank:"isNextNodeBlank"},outputs:{onAdd:"onAdd",onEdit:"onEdit",onDelete:"onDelete"},features:[e.TTD],ngContentSelectors:ze,decls:24,vars:12,consts:[["class","fdp-approval-flow-node__vertical-line-before",3,"fdp-approval-flow-node__vertical-line-before-solid",4,"ngIf"],["class","fdp-approval-flow-node__vertical-line-after",3,"fdp-approval-flow-node__vertical-line-after-solid",4,"ngIf"],[4,"ngIf"],["overflowMenuButton",""],["nodeContent",""],["addNodeButton",""],["defaultStatusTemplate",""],["userStatusTemplate",""],["fdContentDensity","","placement","bottom-end",3,"isOpenChange"],["menu",""],["fd-menu-item","",3,"click",4,"ngIf"],[1,"fdp-approval-flow-node__vertical-line-before"],[1,"fdp-approval-flow-node__vertical-line-after"],["class","fdp-approval-flow-node__arrow",4,"ngIf"],["class","fdp-approval-flow-node__carousel-start-marker",4,"ngIf"],["class","fdp-approval-flow-node__carousel-end-marker",4,"ngIf"],[1,"fdp-approval-flow-node__arrow"],[1,"fdp-approval-flow-node__carousel-start-marker"],[1,"fdp-approval-flow-node__carousel-end-marker"],["class","fdp-approval-flow-node__menu-button","fd-button","","fdType","transparent","tabindex","0","glyph","overflow","title","Menu","fdCompact","",3,"fdMenuTrigger","disabled","click",4,"ngIf"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","title","Menu","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"fdMenuTrigger","disabled","click"],[1,"fdp-approval-flow-node__info"],[1,"fdp-approval-flow-node__name",3,"id"],[4,"ngIf","ngIfElse"],["multipleApprovers",""],[1,"fdp-approval-flow-node__description"],["variousTeams",""],[3,"status","inverted"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-button","","glyph","add","title","Add node","fdCompact","","class","fdp-approval-flow-node__add",3,"fdp-approval-flow-node__add--blank","fdp-approval-flow-node__add--before","fdp-approval-flow-node__add--before-all","fdp-approval-flow-node__add--after","fdp-approval-flow-node__add--after-all","visibility","click",4,"ngIf"],["fdp-approval-flow-drop-zone","",1,"fdp-approval-flow-node__drop-zone",3,"placement"],["dropZone","fdp-approval-flow-drop-zone"],["fd-button","","glyph","add","title","Add node","fdCompact","",1,"fdp-approval-flow-node__add",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(i,f){1&i&&(e.F$t(),e.YNc(0,U,1,2,"div",0),e.YNc(1,Q,1,2,"div",1),e.YNc(2,j,5,3,"ng-container",2),e.YNc(3,ae,1,1,"ng-template",null,3,e.W1O),e.YNc(5,se,12,13,"ng-template",null,4,e.W1O),e.YNc(7,ge,2,3,"ng-container",2),e.YNc(8,be,2,3,"ng-container",2),e.YNc(9,Ee,2,3,"ng-container",2),e.YNc(10,De,2,3,"ng-container",2),e.YNc(11,Fe,3,8,"ng-template",null,5,e.W1O),e.YNc(13,ke,1,1,"ng-template",null,6,e.W1O),e.YNc(15,Re,1,1,"ng-template",null,7,e.W1O),e.TgZ(17,"fd-menu",8,9),e.NdJ("isOpenChange",function(){return f._onMenuOpen()}),e.YNc(19,Je,5,3,"li",10),e.YNc(20,Qe,5,3,"li",10),e.YNc(21,Ke,5,3,"li",10),e.YNc(22,pe,5,3,"li",10),e.YNc(23,ie,5,3,"li",10),e.qZA()),2&i&&(e.Q6J("ngIf",null==f.meta?null:f.meta.renderVerticalLineBefore),e.xp6(1),e.Q6J("ngIf",null==f.meta?null:f.meta.renderVerticalLineAfter),e.xp6(1),e.Q6J("ngIf",!f._blank&&!f._space),e.xp6(5),e.Q6J("ngIf",f._showAddButton&&(null==f.meta?null:f.meta.canAddNodeBeforeAll)&&!(null!=f.node&&null!=f.node.actionsConfig&&f.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",f._showAddButton&&(null==f.meta?null:f.meta.canAddNodeBefore)&&!(null!=f.node&&null!=f.node.actionsConfig&&f.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",f._showAddButton&&(null==f.meta?null:f.meta.canAddNodeAfter)&&(null==f.meta?null:f.meta.renderAddNodeAfterButton)&&!(null!=f.node&&null!=f.node.actionsConfig&&f.node.actionsConfig.disableAddAfter)),e.xp6(1),e.Q6J("ngIf",f._showAfterAllAddButton&&(null==f.meta?null:f.meta.canAddNodeAfterAll)&&(null==f.meta?null:f.meta.renderAddNodeAfterButton)&&!(null!=f.node&&null!=f.node.actionsConfig&&f.node.actionsConfig.disableAddAfter)),e.xp6(9),e.Q6J("ngIf",(null==f.meta?null:f.meta.canAddNodeBefore)&&!(null!=f.node&&null!=f.node.actionsConfig&&f.node.actionsConfig.disableAddBefore)),e.xp6(1),e.Q6J("ngIf",(null==f.meta?null:f.meta.canAddNodeAfter)&&!(null!=f.node&&null!=f.node.actionsConfig&&f.node.actionsConfig.disableAddAfter)),e.xp6(1),e.Q6J("ngIf",(null==f.meta?null:f.meta.canAddParallel)&&!(null!=f.node&&null!=f.node.actionsConfig&&f.node.actionsConfig.disableAddParallel)),e.xp6(1),e.Q6J("ngIf",f._isNotStarted&&!(null!=f.node&&null!=f.node.actionsConfig&&f.node.actionsConfig.disableEdit)),e.xp6(1),e.Q6J("ngIf",!(null!=f.node&&null!=f.node.actionsConfig&&f.node.actionsConfig.disableRemove)))},dependencies:[B.O5,B.tP,B.RF,B.n9,K.$,W.r,H.k,L.M,D.qv,O.K,v.h,T.k,o,m.n],styles:[".fdp-approval-flow-node{display:block;box-sizing:border-box;position:relative;width:17.375rem;height:5.875rem;margin-bottom:1rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode{height:7.875rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-after:after{top:-4.9375rem;height:8.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{content:\"\";display:block;position:absolute;top:-3.9375rem;height:6.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before{left:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before-solid:before{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{right:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after-solid:after{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-before:before{left:auto;right:-2.0625rem}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-after:after{right:auto;left:-2.0625rem}.fdp-approval-flow-node .fdp-approval-flow-node__add{position:absolute;z-index:10;margin:calc(3.4375rem - 1px) auto auto;inset:0;border-radius:100%;min-width:1rem;max-width:1rem;min-height:1rem;max-height:1rem}.fdp-approval-flow-node .fdp-approval-flow-node__add fd-icon{line-height:1rem;font-size:.7rem;font-weight:900}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before{left:-2.5rem;right:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-2.8rem}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after{right:-2.5rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-2.8rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone{border-radius:.25rem;position:absolute;height:100%;z-index:1}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa);border:.125rem solid #0854a0;border:.125rem solid var(--sapButton_IconColor, #0854a0)}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--blank{width:100%;top:0}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--partial{width:10%;left:0;top:0}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank{background:transparent;box-shadow:none;pointer-events:none;cursor:default}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:before{content:\"\";display:block;position:absolute;width:calc(100% + 4rem);height:0;left:-2rem;top:calc(50% - .0625rem);border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{width:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:not(.fdp-approval-flow-node--last-blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{width:100%}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{content:\"\";width:2rem;height:0;display:block;position:absolute;top:calc(50% - .0625rem);bottom:0;pointer-events:none;border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A\") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{right:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--blank:before{border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parent-approved.fdp-approval-flow-node--line-before:before{left:-2rem;border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode.fdp-approval-flow-node--blank{pointer-events:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-end-marker{top:3.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__arrow{display:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{right:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{right:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{left:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{left:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{left:19.875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{right:-12.6875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:calc(100% + 4rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{width:4rem;left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{width:4rem;right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__add,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-after{visibility:hidden}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name{font-size:1rem;line-height:1.25rem;margin-bottom:.1rem;color:#32363a;color:var(--sapTextColor, #32363a)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__description{font-size:.875rem;line-height:1rem;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin-bottom:.4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow{width:0;height:0;border-style:solid;border-width:.375rem 0 .375rem .5rem;border-color:transparent transparent transparent #d9d9d9;border-color:transparent transparent transparent var(--sapGroup_TitleBorderColor, #d9d9d9);position:absolute;left:-.5rem;top:0;bottom:0;margin:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{z-index:1;background:#d9d9d9;background:var(--sapGroup_TitleBorderColor, #d9d9d9);display:block;position:absolute;width:.25rem;height:1rem;top:2.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__arrow{left:auto;right:-.5rem;border-width:.375rem .5rem .375rem 0;border-color:transparent #d9d9d9 transparent transparent;border-color:transparent var(--sapGroup_TitleBorderColor, #d9d9d9) transparent transparent}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-before:before{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-after:after{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count{direction:ltr;text-align:right}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before{right:-2.5rem;left:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-2.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after{left:-2.5rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-2.8rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{left:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{left:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{right:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{right:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{right:19.875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:calc(100% + 2rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{left:-12.6875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:calc(100% + 4rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{left:0}\n"],encapsulation:2,changeDetection:0}),r})()},99886:(X,k,a)=>{a.d(k,{h:()=>oe});var e=a(49218),M=a(53609),l=a(94650),N=a(36895),A=a(90433),o=a(42165),F=a(87757),R=a(87455),B=a(34853),K=a(23470),W=a(48977),H=a(18279),L=a(34519),D=a(50681),O=a(66497),v=a(80180),T=a(20586),m=a(1864),u=a(9485),w=a(21565);function U(Y,te){1&Y&&(l.TgZ(0,"p"),l._uU(1),l.ALo(2,"fdTranslate"),l.qZA()),2&Y&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"platformApprovalFlow.selectTypeDialogMoveApproverAs")))}function Q(Y,te){if(1&Y){const j=l.EpF();l.TgZ(0,"div",4)(1,"fd-checkbox",10),l.NdJ("ngModelChange",function(ae){l.CHM(j);const le=l.oxw();return l.KtG(le._toNextSerial=ae)}),l._uU(2),l.ALo(3,"fdTranslate"),l.qZA()()}if(2&Y){const j=l.oxw();l.xp6(1),l.Q6J("ngModel",j._toNextSerial),l.xp6(1),l.hij(" ",l.lcZ(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}let oe=(()=>{class Y{constructor(j){this._dialogRef=j,this._nodeType=M.P2.SERIAL,this._nodeTypes=M.P2,this._toNextSerial=!1}_submit(){this._dialogRef.close({type:this._nodeType,toNextSerial:this._toNextSerial})}}return Y.\u0275fac=function(j){return new(j||Y)(l.Y36(e.zj))},Y.\u0275cmp=l.Xpm({type:Y,selectors:[["fdp-approval-flow-select-type"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-select-type"],decls:25,vars:20,consts:[["fdkTemplate","header"],["fdCompact",""],[1,"fd-form-label"],[1,"fdp-approval-flow-select-type__form"],["fd-form-item",""],["id","select-type-parallel","name","select-type-parallel",3,"value","ngModel","ngModelChange"],["id","select-type-serial","name","select-type-serial",3,"value","ngModel","ngModelChange"],["fd-form-item","",4,"ngIf"],["fd-button","","fd-dialog-decisive-button","","fdType","emphasized",3,"label","click"],["fd-button","","fd-initial-focus","","fd-dialog-decisive-button","","fdType","transparent",3,"label","click"],[3,"ngModel","ngModelChange"]],template:function(j,V){1&j&&(l.TgZ(0,"fd-dialog")(1,"fd-dialog-header"),l.YNc(2,U,3,3,"ng-template",0),l.qZA(),l.TgZ(3,"fd-dialog-body",1)(4,"span",2),l._uU(5),l.ALo(6,"fdTranslate"),l.qZA(),l.TgZ(7,"fd-form-group",3)(8,"div",4)(9,"fd-radio-button",5),l.NdJ("ngModelChange",function(le){return V._nodeType=le}),l._uU(10),l.ALo(11,"fdTranslate"),l.qZA()(),l.TgZ(12,"div",4)(13,"fd-radio-button",6),l.NdJ("ngModelChange",function(le){return V._nodeType=le}),l._uU(14),l.ALo(15,"fdTranslate"),l.qZA()(),l.YNc(16,Q,4,4,"div",7),l.qZA()(),l.TgZ(17,"fd-dialog-footer",1),l.ynx(18),l.TgZ(19,"fd-dialog-footer-button")(20,"button",8),l.NdJ("click",function(){return V._submit()}),l.ALo(21,"fdTranslate"),l.qZA()(),l.TgZ(22,"fd-dialog-footer-button")(23,"button",9),l.NdJ("click",function(){return V._dialogRef.close()}),l.ALo(24,"fdTranslate"),l.qZA()(),l.BQk(),l.qZA()()),2&j&&(l.xp6(5),l.hij(" ",l.lcZ(6,10,"platformApprovalFlow.selectTypeDialogParallelOrSerial")," "),l.xp6(4),l.Q6J("value",V._nodeTypes.PARALLEL)("ngModel",V._nodeType),l.xp6(1),l.hij(" ",l.lcZ(11,12,"platformApprovalFlow.selectTypeDialogNodeTypeParallel")," "),l.xp6(3),l.Q6J("value",V._nodeTypes.SERIAL)("ngModel",V._nodeType),l.xp6(1),l.hij(" ",l.lcZ(15,14,"platformApprovalFlow.selectTypeDialogNodeTypeSerial")," "),l.xp6(2),l.Q6J("ngIf",V._nodeType===V._nodeTypes.PARALLEL),l.xp6(4),l.Q6J("label",l.lcZ(21,16,"platformApprovalFlow.selectTypeDialogConfirmButton")),l.xp6(3),l.Q6J("label",l.lcZ(24,18,"platformApprovalFlow.selectTypeDialogCancelButton")))},dependencies:[N.O5,A.JJ,A.On,o.$,F.r,R.a,B.H,K.g,W.A,H.u,L.r,D.S,O.N,O.j,v.b,T.J,m.H,u._,w.n],styles:[".fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}\n",".fdp-approval-flow-select-type .fd-dialog__body{width:24rem}.fdp-approval-flow-select-type .fd-dialog__body .fd-form-item{margin-bottom:0}\n"],encapsulation:2,changeDetection:0}),Y})()},55034:(X,k,a)=>{a.d(k,{S:()=>L});var e=a(94650),M=a(84468),l=a(36895),N=a(90433),A=a(42165),o=a(61357),F=a(77826),R=a(33086),B=a(20586),K=a(1864),W=a(9485);function H(D,O){if(1&D){const v=e.EpF();e.TgZ(0,"div",2)(1,"fd-radio-button",3),e.NdJ("ngModelChange",function(m){e.CHM(v);const u=e.oxw();return e.KtG(u.selectedTeamId=m)})("click",function(){const u=e.CHM(v).$implicit,w=e.oxw();return e.KtG(w.onTeamRadioClick.emit(u))}),e.qZA(),e.TgZ(2,"fdp-standard-list-item",4),e.NdJ("click",function(){const u=e.CHM(v).$implicit,w=e.oxw();return e.KtG(w._showTeamDetails(u))}),e.qZA(),e._UZ(3,"fd-icon",5),e.qZA()}if(2&D){const v=O.$implicit,T=O.index,m=e.oxw();e.xp6(1),e.Q6J("value",v.id)("name","team-radio"+T)("ngModel",m.selectedTeamId),e.uIk("id","team-radio"+T),e.xp6(1),e.Q6J("avatarSrc","")("avatarTitle",v.name)("description",v.description||v.members.length+" members")("title",v.name),e.uIk("id","approval-team-"+v.id),e.xp6(1),e.Q6J("glyph","navigation-"+(m.isRtl?"left":"right")+"-arrow")}}let L=(()=>{class D{constructor(){this.teams=[],this.isRtl=!1,this.onTeamClick=new e.vpe,this.onTeamRadioClick=new e.vpe,this._trackByFn=M.Hg}_showTeamDetails(v){this.onTeamClick.emit(v)}}return D.\u0275fac=function(v){return new(v||D)},D.\u0275cmp=e.Xpm({type:D,selectors:[["fdp-approval-flow-team-list"]],hostAttrs:[1,"fdp-approval-flow-team-list"],inputs:{teams:"teams",isRtl:"isRtl",selectedTeamId:"selectedTeamId"},outputs:{onTeamClick:"onTeamClick",onTeamRadioClick:"onTeamRadioClick"},decls:3,vars:3,consts:[["fdCompact","",3,"hasByLine"],["fd-form-item","",4,"ngFor","ngForOf","ngForTrackBy"],["fd-form-item",""],[3,"value","name","ngModel","ngModelChange","click"],[3,"avatarSrc","avatarTitle","description","title","click"],[3,"glyph"]],template:function(v,T){1&v&&(e.TgZ(0,"fdp-list",0)(1,"fd-form-group"),e.YNc(2,H,4,10,"div",1),e.qZA()()),2&v&&(e.Q6J("hasByLine",!0),e.xp6(2),e.Q6J("ngForOf",T.teams)("ngForTrackBy",T._trackByFn))},dependencies:[l.sg,N.JJ,N.On,A.$,o.o,F.n,R.d,B.J,K.H,W._],styles:[".fdp-approval-flow-team-list .fd-form-item{position:relative;margin-bottom:0}.fdp-approval-flow-team-list .fd-form-item fd-radio-button{position:absolute;z-index:1;top:1.4rem}.fdp-approval-flow-team-list .fd-form-item .fd-list__item{padding-left:2rem!important;cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-icon{position:absolute;right:1rem;top:2rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-avatar{color:#fff;color:var(--sapBaseColor, #fff)}[dir=rtl] .fdp-approval-flow-team-list .fd-form-item fd-icon,.fdp-approval-flow-team-list[dir=rtl] .fd-form-item fd-icon{right:auto;left:1rem}[dir=rtl] .fdp-approval-flow-team-list .fd-list__item,.fdp-approval-flow-team-list[dir=rtl] .fd-list__item{padding-right:2rem!important;padding-left:0!important}\n"],encapsulation:2,changeDetection:0}),D})()},87313:(X,k,a)=>{a.d(k,{h:()=>O});var e=a(94650),M=a(84468),l=a(36895),N=a(42165),A=a(87757),o=a(21565);function F(v,T){if(1&v){const m=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(m);const w=e.oxw();return e.KtG(w._addNode("empty"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&v&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddStepButton"))}function R(v,T){if(1&v){const m=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(m);const w=e.oxw();return e.KtG(w.enterEditMode.emit())}),e.ALo(1,"fdTranslate"),e.qZA()}2&v&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarEditButton"))}function B(v,T){if(1&v){const m=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(m);const w=e.oxw(2);return e.KtG(w._addNode("before"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&v&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversBefore"))}function K(v,T){if(1&v){const m=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(m);const w=e.oxw(2);return e.KtG(w._addNode("after"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&v&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversAfter"))}function W(v,T){if(1&v){const m=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(m);const w=e.oxw(2);return e.KtG(w._addNode("parallel"))}),e.ALo(1,"fdTranslate"),e.qZA()}2&v&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarAddApproversParallel"))}function H(v,T){if(1&v){const m=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(m);const w=e.oxw(2);return e.KtG(w.deleteSelectedNodes.emit())}),e.ALo(1,"fdTranslate"),e.qZA()}2&v&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarRemove"))}function L(v,T){if(1&v){const m=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(m);const w=e.oxw(2);return e.KtG(w._editSelectedNode())}),e.ALo(1,"fdTranslate"),e.qZA()}2&v&&e.Q6J("label",e.lcZ(1,1,"platformApprovalFlow.toolbarEditApprover"))}function D(v,T){if(1&v&&(e.ynx(0),e.YNc(1,B,2,3,"button",1),e.YNc(2,K,2,3,"button",1),e.YNc(3,W,2,3,"button",1),e.YNc(4,H,2,3,"button",1),e.YNc(5,L,2,3,"button",1),e.BQk()),2&v){const m=e.oxw();e.xp6(1),e.Q6J("ngIf",m._canAddBefore),e.xp6(1),e.Q6J("ngIf",m._canAddAfter),e.xp6(1),e.Q6J("ngIf",m._canAddParallel),e.xp6(1),e.Q6J("ngIf",m._canRemoveSelectedNodes),e.xp6(1),e.Q6J("ngIf",m._canEditNode)}}let O=(()=>{class v{constructor(){this.isEditMode=!1,this.enterEditMode=new e.vpe,this.addNode=new e.vpe,this.editSelectedNode=new e.vpe,this.deleteSelectedNodes=new e.vpe,this._canRemoveSelectedNodes=!1,this._selectedNodes=[]}set selectedNodes(m){this._selectedNodes=m,this._canRemoveSelectedNodes=!!this.selectedNodes.length&&this.selectedNodes.every(u=>!u.disableActions&&!u.actionsConfig?.disableRemove)}get selectedNodes(){return this._selectedNodes}get _notApprovedSelectedNode(){return 1!==this.selectedNodes.length||(0,M.aC)(this.selectedNodes[0])?null:this.selectedNodes[0]}get _canAddBefore(){const m=this._notApprovedSelectedNode;return!(!m||m.disableActions||m.actionsConfig?.disableAddBefore||!this.graphMetadata[m.id].canAddNodeBefore)}get _canAddAfter(){const m=this._notApprovedSelectedNode;return!(!m||m.disableActions||m.actionsConfig?.disableAddAfter||!this.graphMetadata[m.id].canAddNodeAfter)}get _canAddParallel(){const m=this._notApprovedSelectedNode;return!(!this._notApprovedSelectedNode||m?.disableActions||m?.actionsConfig?.disableAddParallel||!this.graphMetadata[m.id].canAddParallel)}get _canEditNode(){const m=this._notApprovedSelectedNode;return!!m&&!m.disableActions&&!m.actionsConfig?.disableEdit}_addNode(m){this.addNode.emit({node:this.selectedNodes[0],target:m})}_editSelectedNode(){this.editSelectedNode.emit(this.selectedNodes[0])}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["fdp-approval-flow-toolbar-actions"]],hostAttrs:[1,"fdp-approval-flow-toolbar-actions"],inputs:{graph:"graph",graphMetadata:"graphMetadata",selectedNodes:"selectedNodes",isEditMode:"isEditMode"},outputs:{enterEditMode:"enterEditMode",addNode:"addNode",editSelectedNode:"editSelectedNode",deleteSelectedNodes:"deleteSelectedNodes"},decls:4,vars:3,consts:[["fdCompact",""],["fd-button","",3,"label","click",4,"ngIf"],[4,"ngIf"],["fd-button","",3,"label","click"]],template:function(m,u){1&m&&(e.ynx(0,0),e.YNc(1,F,2,3,"button",1),e.YNc(2,R,2,3,"button",1),e.YNc(3,D,6,5,"ng-container",2),e.BQk()),2&m&&(e.xp6(1),e.Q6J("ngIf",!(null!=u.graph&&null!=u.graph.columns&&u.graph.columns.length||null!=u.graph&&u.graph.errors)),e.xp6(1),e.Q6J("ngIf",!(null==u.graph||null==u.graph.columns||!u.graph.columns.length||u.isEditMode)),e.xp6(1),e.Q6J("ngIf",u.isEditMode))},dependencies:[l.O5,N.$,A.r,o.n],styles:[".fdp-approval-flow-toolbar-actions .fd-button:not(:last-child){margin-right:.5rem}[dir=rtl] .fdp-approval-flow-toolbar-actions .fd-button:not(:last-child),.fdp-approval-flow-toolbar-actions[dir=rtl] .fd-button:not(:last-child){margin-right:0;margin-left:.5rem}\n"],encapsulation:2,changeDetection:0}),v})()},37362:(X,k,a)=>{a.d(k,{Q:()=>o});var e=a(94650),M=a(36895),l=a(58464);const N=function(F){return{data:F}};function A(F,R){if(1&F&&(e.GkF(0,5),e.ALo(1,"async")),2&F){const B=e.oxw();e.Q6J("ngTemplateOutlet",B.detailsTemplate)("ngTemplateOutletContext",e.VKq(4,N,e.lcZ(1,2,B.details)))}}let o=(()=>{class F{}return F.\u0275fac=function(B){return new(B||F)},F.\u0275cmp=e.Xpm({type:F,selectors:[["fdp-approval-flow-user-details"]],hostAttrs:[1,"fdp-approval-flow-user-details"],inputs:{user:"user",details:"details",detailsTemplate:"detailsTemplate"},decls:8,vars:4,consts:[[1,"fdp-approval-flow-user-details__user-info"],["size","s",3,"image"],[1,"fdp-approval-flow-user-details__name"],[1,"fdp-approval-flow-user-details__description"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(B,K){1&B&&(e.TgZ(0,"div",0),e._UZ(1,"fd-avatar",1),e.TgZ(2,"div")(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA()()(),e.YNc(7,A,2,6,"ng-container",4)),2&B&&(e.xp6(1),e.Q6J("image",K.user.imgUrl),e.xp6(3),e.Oqu(K.user.name),e.xp6(2),e.Oqu(K.user.description),e.xp6(1),e.Q6J("ngIf",K.detailsTemplate))},dependencies:[M.O5,M.tP,l.A,M.Ov],styles:[".fdp-approval-flow-user-details__user-info{display:flex;align-items:center;margin-bottom:1rem}.fdp-approval-flow-user-details__name{font-size:1rem}.fdp-approval-flow-user-details__description{color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70)}\n"],encapsulation:2,changeDetection:0}),F})()},6258:(X,k,a)=>{a.d(k,{R:()=>v});var e=a(94650),M=a(90859),l=a(84468),N=a(36895),A=a(90433),o=a(77826),F=a(33086),R=a(21565);function B(T,m){1&T&&(e.ynx(0),e._uU(1),e.ALo(2,"fdTranslate"),e.BQk()),2&T&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"platformApprovalFlow.userListSelectedItemsCountSingular")," "))}const K=function(T){return{count:T}};function W(T,m){if(1&T&&(e._uU(0),e.ALo(1,"fdTranslate")),2&T){const u=e.oxw(2);e.hij(" ",e.xi3(1,1,"platformApprovalFlow.userListSelectedItemsCountPlural",e.VKq(4,K,u._selectedItems.length))," ")}}function H(T,m){if(1&T&&(e.TgZ(0,"div",3),e.YNc(1,B,3,3,"ng-container",4),e.YNc(2,W,2,6,"ng-template",null,5,e.W1O),e.qZA()),2&T){const u=e.MAs(3),w=e.oxw();e.xp6(1),e.Q6J("ngIf",1===w._selectedItems.length)("ngIfElse",u)}}function L(T,m){if(1&T){const u=e.EpF();e.TgZ(0,"fdp-standard-list-item",6),e.NdJ("click",function(U){const oe=e.CHM(u).$implicit,Y=e.oxw();return U.stopPropagation(),e.KtG(Y.onUserClick.emit(oe))}),e.qZA()}if(2&T){const u=m.$implicit,w=e.oxw();e.Q6J("avatarSrc",u.imgUrl)("avatarTitle",u.name)("description",u.description)("ariaLabel",u.name)("title",u.name),e.uIk("id",w._idPrefix+u.id)}}let v=(()=>{class T{constructor(u){this._cdr=u,this.users=[],this.selectedUsers=[],this.isSelectable=!0,this.onUserClick=new e.vpe,this.onSelectionChange=new e.vpe,this._selectedItems=[],this._idPrefix="approval-node-user-",this._trackByFn=l.Hg,this._displayUsers=[]}ngAfterViewInit(){if(this.selectedUsers.length){const u=this.selectedUsers.map(w=>w.name);this._selectedItems=this.listItems.filter(w=>!!w.avatar?.ariaLabel&&u.includes(w.avatar.ariaLabel)),this._selectedItems.forEach(w=>{w._selected=!0,this.list._selectItem(w)}),this._cdr.detectChanges()}}ngOnChanges(u){u.users&&this._collectDataProgressive()}ngOnDestroy(){this._killInterval()}_onSelect(u){this._selectedItems=u.selectedItems,this.onSelectionChange.emit(this._getUsersFromSelectedItems(u.selectedItems))}_getUsersFromSelectedItems(u){return u.map(w=>this.users.find(U=>`${this._idPrefix+U.id}`===w.itemEl.nativeElement.id)).filter(w=>!!w)}_collectDataProgressive(){if(this._killInterval(),this._displayUsers=[],!this.users?.length)return;const u={currentIndex:0};this._userCollectorIntervalFn(u),this._intervalID=window.setInterval(this._userCollectorIntervalFn.bind(this),10,u)}_userCollectorIntervalFn(u){const w=u.currentIndex+100,U=[];for(let Q=u.currentIndex;Q<=w;Q++){if(Q>=this.users.length){this._killInterval();break}U.push(this.users[Q])}u.currentIndex+=100,this._displayUsers.push(...U),this._cdr.markForCheck()}_killInterval(){this._intervalID&&clearInterval(this._intervalID)}}return T.\u0275fac=function(u){return new(u||T)(e.Y36(e.sBO))},T.\u0275cmp=e.Xpm({type:T,selectors:[["fdp-approval-flow-user-list"]],viewQuery:function(u,w){if(1&u&&(e.Gf(M.ns,5),e.Gf(M.db,5)),2&u){let U;e.iGM(U=e.CRH())&&(w.list=U.first),e.iGM(U=e.CRH())&&(w.listItems=U)}},hostAttrs:[1,"fdp-approval-flow-user-list"],inputs:{users:"users",selectedUsers:"selectedUsers",isSelectable:"isSelectable"},outputs:{onUserClick:"onUserClick",onSelectionChange:"onSelectionChange"},features:[e.TTD],decls:3,vars:9,consts:[["class","fdp-approval-flow-user-list__selected-count",4,"ngIf"],[3,"selectionMode","selection","navigationIndicator","hasByLine","ngModel","selectedItems","ngModelChange","selectedItemChange"],[3,"avatarSrc","avatarTitle","description","ariaLabel","title","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fdp-approval-flow-user-list__selected-count"],[4,"ngIf","ngIfElse"],["multipleItems",""],[3,"avatarSrc","avatarTitle","description","ariaLabel","title","click"]],template:function(u,w){1&u&&(e.YNc(0,H,4,2,"div",0),e.TgZ(1,"fdp-list",1),e.NdJ("ngModelChange",function(Q){return w._selectedItems=Q})("selectedItemChange",function(Q){return w._onSelect(Q)}),e.YNc(2,L,1,6,"fdp-standard-list-item",2),e.qZA()),2&u&&(e.Q6J("ngIf",w._selectedItems.length),e.xp6(1),e.Q6J("selectionMode",w.isSelectable?"multi":"none")("selection",w.isSelectable)("navigationIndicator",!0)("hasByLine",!0)("ngModel",w._selectedItems)("selectedItems",w._selectedItems),e.xp6(1),e.Q6J("ngForOf",w._displayUsers)("ngForTrackBy",w._trackByFn))},dependencies:[N.sg,N.O5,A.JJ,A.On,o.n,F.d,R.n],styles:[".fdp-approval-flow-user-list{display:block;margin-top:-1rem}.fdp-approval-flow-user-list__selected-count{line-height:2rem;margin:0 -1rem;padding:0 1rem;background:#f2f2f2;background:var(--sapList_HeaderBackground, #f2f2f2)}\n"],encapsulation:2,changeDetection:0}),T})()},9780:(X,k,a)=>{a.d(k,{K:()=>qe});var e=a(94650),M=a(29521),l=a(50727),N=a(77579),A=a(56451),o=a(54968),F=a(39841),R=a(59468),B=a(68675),K=a(63900),W=a(69718),H=a(54004),L=a(71884),D=a(43012),v=(a(31962),a(49218)),T=a(40871),m=a(29394),u=a(53609),w=a(84468),U=a(99886);function P(g,b){const t=[];let d,n;for(let s=g;s>0;s--)d=Object.assign({},(0,w.dL)(),{targets:n?[n]:[],status:b}),n=d.id,t.unshift(d);return t}var se=a(61892),_e=a(46698),Ae=a(5698),ge=a(36895),we=a(90433),Ce=a(58464),be=a(73095),Te=a(62361),xe=a(92664),Ee=a(42165),Me=a(87757),Ne=a(61357),De=a(44359),Se=a(26604),Fe=a(64202),ye=a(49160),Ie=a(89611),Le=a(22792),Pe=a(7287),Oe=a(62828),ke=a(73555),Be=a(53361),Ze=a(91032),Ue=a(60057),Re=a(84777),Je=a(62177),Qe=a(87313),Ke=a(21565);const pe=["graphContainerEl"],ie=["graphEl"],ze=["gridList"];function c(g,b){if(1&g){const t=e.EpF();e.TgZ(0,"fdp-approval-flow-toolbar-actions",10),e.NdJ("enterEditMode",function(){e.CHM(t);const n=e.oxw();return e.KtG(n._enterEditMode())})("addNode",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s._addNode(n.node,n.target))})("editSelectedNode",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s._editNode(n))})("deleteSelectedNodes",function(){e.CHM(t);const n=e.oxw();return e.KtG(n._deleteSelectedNodes())}),e.qZA()}if(2&g){const t=e.oxw();e.Q6J("graph",t._graph)("selectedNodes",t._selectedNodes)("graphMetadata",t._graphMetadata)("isEditMode",t._isEditMode)}}function I(g,b){if(1&g){const t=e.EpF();e.TgZ(0,"fd-avatar",15),e.NdJ("avatarClicked",function(n){const _=e.CHM(t).$implicit,h=e.oxw(3);return e.KtG(h._onWatcherClick(_,n))}),e.qZA()}if(2&g){const t=b.$implicit;e.Q6J("image",t.imgUrl||"")("label",t.name)("clickable",!0)("circle",!0)}}function p(g,b){if(1&g&&(e.ynx(0),e.YNc(1,I,1,4,"fd-avatar",14),e.BQk()),2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t._approvalProcess?null:t._approvalProcess.watchers)("ngForTrackBy",t._trackByFn)}}function E(g,b){if(1&g){const t=e.EpF();e.TgZ(0,"div",16)(1,"fd-multi-input",17),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s._selectedWatcherIds=n)})("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s._watchersSelectionChanged(n))}),e.ALo(2,"fdTranslate"),e.qZA()()}if(2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("dropdownValues",t._usersForWatchersList)("placeholder",e.lcZ(2,6,"platformApprovalFlow.watchersInputPlaceholder"))("displayFn",t._displayUserFn)("valueFn",t._userValueFn)("showAllButton",!0)("ngModel",t._selectedWatcherIds)}}function r(g,b){if(1&g&&(e.TgZ(0,"div",11)(1,"p",12),e._uU(2),e.ALo(3,"fdTranslate"),e.qZA(),e.YNc(4,p,2,2,"ng-container",7),e.YNc(5,E,3,8,"div",13),e.qZA()),2&g){const t=e.oxw();e.uIk("aria-label",t.watchersLabel),e.xp6(2),e.hij(" ",t.watchersLabel||e.lcZ(3,4,"platformApprovalFlow.defaultWatchersLabel")," "),e.xp6(2),e.Q6J("ngIf",!t._isEditMode),e.xp6(1),e.Q6J("ngIf",t._isEditMode)}}function C(g,b){if(1&g){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.nextSlide(-1))}),e.ALo(1,"fdTranslate"),e._UZ(2,"fd-icon",30),e._uU(3),e.qZA()}if(2&g){const t=e.oxw(4);e.uIk("aria-label",e.lcZ(1,3,"platformApprovalFlow.prevButtonAriaLabel")),e.xp6(2),e.Q6J("glyph","navigation-"+(t._rtl?"right":"left")+"-arrow"),e.xp6(1),e.hij(" ",t._carouselStepsLeft," ")}}function i(g,b){if(1&g){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.nextSlide())}),e.ALo(1,"fdTranslate"),e._uU(2),e._UZ(3,"fd-icon",30),e.qZA()}if(2&g){const t=e.oxw(4);e.uIk("aria-label",e.lcZ(1,3,"platformApprovalFlow.nextButtonAriaLabel")),e.xp6(2),e.hij(" ",t._carouselStepsRight," "),e.xp6(1),e.Q6J("glyph","navigation-"+(t._rtl?"left":"right")+"-arrow")}}function f(g,b){if(1&g&&(e.TgZ(0,"div",26),e.YNc(1,C,4,5,"button",27),e.YNc(2,i,4,5,"button",28),e.qZA()),2&g){const t=e.oxw(3);e.ekj("fdp-approval-flow-carousel-controls--edit-mode",t._isEditMode),e.xp6(1),e.Q6J("ngIf",t._carouselStepsLeft>0),e.xp6(1),e.Q6J("ngIf",t._carouselStepsRight>0)}}function y(g,b){if(1&g&&(e.ynx(0),e.GkF(1,39),e.BQk()),2&g){e.oxw();const t=e.MAs(1);e.xp6(1),e.Q6J("ngTemplateOutlet",t._overflowMenuButton)}}function ne(g,b){if(1&g&&e.GkF(0,39),2&g){e.oxw();const t=e.MAs(1);e.Q6J("ngTemplateOutlet",t._nodeContent)}}function We(g,b){if(1&g){const t=e.EpF();e.TgZ(0,"fdp-approval-flow-node",34,35),e.NdJ("onAdd",function(n){const _=e.CHM(t).$implicit,h=e.oxw(4);return e.KtG(h._addNode(_,n))})("onEdit",function(){const s=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_._editNode(s))})("onDelete",function(){const s=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_._onNodeDelete(s))})("keydown",function(n){const _=e.CHM(t).$implicit,h=e.oxw(4);return e.KtG(h._onNodeKeyDown(n,_))})("cdkDragStarted",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n._dragDropInProgress=!0)})("cdkDragReleased",function(n){const _=e.CHM(t).$implicit,h=e.oxw(4);return e.KtG(h._onNodeDrop(_,n.source))})("cdkDragMoved",function(){const s=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_._onNodeDragMoved(s))}),e.TgZ(2,"fd-grid-list-item",36),e.NdJ("press",function(){const s=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_._onNodeClick(s))}),e.TgZ(3,"fd-grid-list-item-toolbar"),e.YNc(4,y,2,1,"ng-container",7),e.qZA(),e._UZ(5,"fd-avatar",37),e.YNc(6,ne,1,1,"ng-template",38),e.qZA()()}if(2&g){const t=b.$implicit,d=b.index,n=e.MAs(1),s=e.oxw(),_=s.index,h=s.$implicit,S=e.oxw(3);e.Q6J("cdkDragDisabled",S._isCdkDragDisabled(t))("node",t)("meta",S._graphMetadata[t.id])("isEdit",S._isEditMode)("isNextNodeBlank",S._isNextNodeBlank(t,_,d))("checkDueDate",S.checkDueDate)("dueDateThreshold",S.dueDateThreshold)("renderArrow",_>0)("allNodesInColumnApproved",!!h.allNodesApproved)("approvalStatusTemplate",S.approvalStatusTemplate)("statusColorMapping",S.statusColorMapping),e.xp6(2),e.ekj("fdp-approval-flow__graph-node-inner--edit",S._isEditMode),e.Q6J("value",t)("selected",!!t.selected)("ariaLabelledBy",n.approvalFlowNodeId)("disableToolbarClick",!0),e.xp6(2),e.Q6J("ngIf",S._isEditMode),e.xp6(1),e.Q6J("image",1===t.approvers.length?t.approvers[0].imgUrl:null)("label",t.approvers.length>1?t.description:null)("circle",!0)}}function Ye(g,b){if(1&g&&(e.TgZ(0,"div",32),e.YNc(1,We,7,21,"fdp-approval-flow-node",33),e.qZA()),2&g){const t=b.$implicit,d=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.nodes)("ngForTrackBy",d._trackByFn)}}function Ge(g,b){if(1&g&&(e.ynx(0),e.TgZ(1,"div",19),e.YNc(2,f,3,4,"div",20),e.TgZ(3,"div",21,22)(5,"div",23,24),e.YNc(7,Ye,2,2,"div",25),e.qZA()()(),e.BQk()),2&g){const t=e.oxw(2);e.xp6(1),e.ekj("fdp-approval-flow__container--extra-padding-start",!0)("fdp-approval-flow__container--extra-padding-end",!0),e.xp6(1),e.Q6J("ngIf",t._scrollDiff>0),e.xp6(1),e.ekj("fdp-approval-flow__graph-container--multiple-root-nodes",t._multipleRootNodes)("fdp-approval-flow__graph-container--multiple-final-nodes",t._multipleFinalNodes)("fd-scrollbar",!0),e.xp6(2),e.ekj("fdp-approval-flow__graph--edit-mode",t._isEditMode),e.xp6(2),e.Q6J("ngForOf",t._graph.columns)}}function je(g,b){if(1&g&&(e.ynx(0),e.YNc(1,Ge,8,14,"ng-container",18),e.BQk()),2&g){const t=e.oxw(),d=e.MAs(12);e.xp6(1),e.Q6J("ngIf",t._graph.columns.length)("ngIfElse",d)}}function Ve(g,b){if(1&g){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"fd-bar-element")(3,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n._saveEditModeChanges())}),e.ALo(4,"fdTranslate"),e.qZA()(),e.TgZ(5,"fd-bar-element")(6,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n._exitEditMode())}),e.ALo(7,"fdTranslate"),e.qZA()()()()}if(2&g){const t=e.oxw();e.xp6(3),e.Q6J("label",e.lcZ(4,4,"platformApprovalFlow.editModeSaveButtonLabel"))("disabled",t.disableSaveButton),e.xp6(3),e.Q6J("label",e.lcZ(7,6,"platformApprovalFlow.editModeExitButtonLabel"))("disabled",t.disableExitButton)}}function $e(g,b){if(1&g&&(e.TgZ(0,"figure",44)(1,"figcaption",45)(2,"h3",46),e._uU(3),e.ALo(4,"fdTranslate"),e.qZA(),e.TgZ(5,"p",47),e._uU(6),e.ALo(7,"fdTranslate"),e.qZA()()(),e.TgZ(8,"div",48),e.O4$(),e.TgZ(9,"svg",49),e._UZ(10,"path",50)(11,"path",51)(12,"path",52)(13,"path",53)(14,"path",54)(15,"path",55)(16,"path",56),e.qZA()()),2&g){const t=e.oxw();e.Q6J("svgConfig",t._emptyApprovalFlowSpotConfig),e.xp6(3),e.hij(" ",e.lcZ(4,3,"platformApprovalFlow.emptyTitle")," "),e.xp6(3),e.hij(" ",e.lcZ(7,5,"platformApprovalFlow.emptyHint")," ")}}let Xe=0,qe=(()=>{class g{constructor(t,d,n,s,_){this._dialogService=t,this._cdr=d,this._injector=n,this.providers=s,this._rtlService=_,this.checkDueDate=!1,this.dueDateThreshold=7,this.allowSendRemindersForStatuses=["in progress","not started"],this.isEditAvailable=!1,this.allowAddParallelNodes=!0,this.disableSaveButton=!1,this.disableExitButton=!1,this.nodeClick=new e.vpe,this.afterNodeAdd=new e.vpe,this.afterNodeEdit=new e.vpe,this.valueChange=new e.vpe,this.sendReminders=new e.vpe,this.onDataRequested=new e.vpe,this.onDataReceived=new e.vpe,this._isCarousel=!1,this._graphMetadata={},this._isEditMode=!1,this._usersForWatchersList=[],this._selectedWatchers=[],this._selectedWatcherIds=[],this._messages=[],this._displayUserFn=w.Us,this._userValueFn=w.Tc,this._trackByFn=w.Hg,this._emptyApprovalFlowSpotConfig={spot:{url:"",id:"sapIllus-Spot-NoData"}},this._multipleRootNodes=!1,this._multipleFinalNodes=!1,this._dragDropInProgress=!1,this.approvalFlowUniqueId="fdp-approval-flow-"+ ++Xe,this._subscriptions=new l.w0,this._dataSourceChanged$=new N.x,this._getNextHorizontalNode=(h,S,J)=>{const G="right"===J?1:-1,z=this._graph.columns[S+G]?.nodes[h];if(z)return z.blank||z.space?this._getNextHorizontalNode(h,S+G,J):z},this._getNextVerticalNode=(h,S,J)=>{const G="down"===J?1:-1,z=this._graph.columns[S].nodes[h+G];if(z)return z.blank||z.space?this._getNextVerticalNode(h+G,S,J):z}}get approvalProcess(){return(0,_e.Z)(this._approvalProcess)}get _rtl(){return this._rtlService?.rtl.getValue()}get _selectedNodes(){return(0,w.$Q)(this._graph).filter(t=>t.selected)}ngOnInit(){if(!this.userDataSource){const t=this.usersDataProviderEntityKey&&this.providers?.get(this.usersDataProviderEntityKey);t?this.userDataSource=new se._1(t):console.error("Could not resolve users data source")}if(!this.watcherDataSource){const t=this.watchersDataProviderEntityKey&&this.providers?.get(this.watchersDataProviderEntityKey);t?this.watcherDataSource=new se._1(t):console.error("Could not resolve watchers data source")}if(!this.teamDataSource){const t=this.teamsDataProviderEntityKey&&this.providers?.get(this.teamsDataProviderEntityKey);t?this.teamDataSource=new se.L8(t):console.error("Could not resolve teams data source")}this._listenOnResize(),this._setupDataSourceSubscription()}ngOnChanges(t){if(t.value){const d=this.value??{watchers:[],nodes:[]};this._initialApprovalProcess=(0,_e.Z)(d),this._buildView(d)}(t.userDataSource||t.watcherDataSource||t.teamDataSource)&&this._dataSourceChanged$.next()}ngOnDestroy(){this._subscriptions.unsubscribe()}_isNextNodeBlank(t,d,n){const s=this._graph.columns[d+1]?.nodes[n],_=s?.blank,h=this._graphMetadata[s?.id]?.parallelEnd;return!t.blank&&!!_&&!h}_isCdkDragDisabled(t){return!this._isEditMode||t.blank||t.space||"not started"!==t.status}_onNodeClick(t){this._dragDropInProgress||(this._dialogService.open(T.F,{data:{node:t,allowSendReminder:this.allowSendRemindersForStatuses.includes(t.status),...this._defaultDialogOptions}},this._injector).afterClosed.subscribe(n=>{Array.isArray(n)&&this.sendReminders.emit({users:n,node:t})}),this.nodeClick.emit(t))}_onNodeAdd(t){this.afterNodeAdd.emit(t)}_onNodeEdit(t){this.afterNodeEdit.emit(t)}_onNodeSelectionChange(t){this._graph.columns.forEach(d=>{d.nodes.forEach(n=>{n.selected=!!t.selection.find(s=>s.id===n.id)})})}_onWatcherClick(t,d){d.preventDefault(),this._dialogService.open(T.F,{data:{watcher:t,...this._defaultDialogOptions}})}getNodeMetadataByNodeId(t){return this._graphMetadata[t]}nextSlide(t=1){let n=0;n=1===t?this._carouselStepSize*(this._carouselStepsCount-this._carouselStepsRight+1)+(1===this._carouselStepsRight?0:1)-this._graphEl.nativeElement.clientWidth:this._carouselStepSize*(this._carouselStepsLeft-1)-(1===this._carouselStepsLeft?0:1),this._setScrollPosition(n),this._cdr.detectChanges()}_setScrollPosition(t){this._graphContainerEl.nativeElement.scrollTo({left:t,behavior:"smooth"})}_moveColInView(t){const d=this._graphEl.nativeElement.children[t].firstElementChild;if(!d)return;const{x:n,width:s}=d.getBoundingClientRect(),h=n-this._graphContainerEl.nativeElement.getBoundingClientRect().x,S=h+s;h<0?this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+h):S>this._graphEl.nativeElement.clientWidth&&this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+S-this._graphEl.nativeElement.clientWidth)}_onNodeKeyDown(t,d){if(!D.yS$.isKeyCode(t,[M.LH,M.JH,M.SV,M.oh]))return;const{nodeIndex:n,columnIndex:s}=this._graphMetadata[d.id];let _;t.preventDefault(),"number"==typeof n&&"number"==typeof s&&(D.yS$.isKeyCode(t,M.LH)?n>0&&(_=this._getNextVerticalNode(n,s,"up")):D.yS$.isKeyCode(t,M.JH)?_=this._getNextVerticalNode(n,s,"down"):D.yS$.isKeyCode(t,M.oh)?_=this._getNextHorizontalNode(n,s,this._rtl?"right":"left"):D.yS$.isKeyCode(t,M.SV)&&(_=this._getNextHorizontalNode(n,s,this._rtl?"left":"right"))),_&&this._focusNode(_)}_enterEditMode(){this.watcherDataSource.match(),this._editModeInitSub=this.watcherDataSource.open().subscribe(t=>{this._usersForWatchersList=t,this._selectedWatchers=this._approvalProcess.watchers,this._selectedWatcherIds=this._selectedWatchers.map(d=>d.id),this._isEditMode=!0,this._initialApprovalProcess=(0,_e.Z)(this._approvalProcess),this._cdr.detectChanges()}),this._subscriptions.add(this._editModeInitSub)}_saveEditModeChanges(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[];const t={...this._approvalProcess,watchers:this._selectedWatchers};this._buildView(t),this.valueChange.emit(t)}_exitEditMode(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._approvalProcess=(0,_e.Z)(this._initialApprovalProcess),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[],this._buildView(this._approvalProcess)}_watchersSelectionChanged(t){const d=new Set(t);this._selectedWatchers=(0,Ae.Z)(this._selectedWatchers.concat(this._usersForWatchersList).filter(n=>d.has(n.id)),n=>n.id)}_undoLastAction(){this._approvalProcess=(0,_e.Z)(this._previousApprovalProcess),this._previousApprovalProcess=void 0,this._buildView(this._approvalProcess)}_addNode(t,d){this._dialogService.open(u.tf,{data:{nodeTarget:d,showNodeTypeSelect:"before"===d&&!t.actionsConfig?.disableAddParallel,node:Object.assign((0,w.dL)(),{blank:!1}),checkDueDate:this.checkDueDate,...this._defaultDialogOptions}},this._injector).afterClosed.subscribe(_=>{if(!_)return;const{node:h,nodeType:S,toNextSerial:J}=_;if(h){switch(this._cacheCurrentApprovalProcess(),h.id=`tempId${(1e3*Math.random()).toFixed()}`,d){case"empty":this._enterEditMode();break;case"before":S===u.P2.SERIAL&&(h.targets=[t.id],this._replaceTargets(t.id,[h.id])),S===u.P2.PARALLEL&&this._processAddingParallelNode(h,t,J);break;case"before-all":h.targets=this._graph.columns[0].nodes.map(G=>G.id);break;case"after":h.targets=t.targets,t.targets=[h.id];break;case"after-all":this._graphMetadata[t.targets[0]]?.parents?(h.targets=t.targets,this._replaceTargets(t.id,[h.id]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(ee=>ee.id!==t.id)):this._graph.columns[this._graph.columns.length-1].nodes.forEach(ee=>ee.targets.push(h.id));break;case"parallel":this._processAddingParallelNode(h,t,J)}this._showMessage(h.approvalTeamId?"teamAddSuccess":"approverAddSuccess"),this._approvalProcess.nodes.push(h),this._buildView(this._approvalProcess),this._onNodeAdd(h)}})}_editNode(t){this._dialogService.open(u.tf,{data:{isEdit:!0,node:Object.assign({},t),checkDueDate:this.checkDueDate,...this._defaultDialogOptions}},this._injector).afterClosed.subscribe(n=>{const s=n?.node;s&&(this._cacheCurrentApprovalProcess(),this._updateNode(s),this._showMessage("nodeEdit"),this._buildView(this._approvalProcess),this._onNodeEdit(t))})}_onNodeDelete(t){this._cacheCurrentApprovalProcess(),this._deleteNode(t),this._showMessage(t.approvalTeamId?"teamRemove":"nodeRemove"),this._buildView(this._approvalProcess)}_deleteSelectedNodes(){this._cacheCurrentApprovalProcess(),this._nodeComponents.filter(d=>d._isSelected).map(d=>d.node).forEach(d=>{this._deleteNode(d),this._buildView(this._approvalProcess)}),this._showMessage("nodesRemove")}_onNodeDragMoved(t){const d=this._nodeComponents.find(n=>n.node===t)?._nativeElement.getBoundingClientRect();d&&this._nodeComponents.forEach(n=>{n.node!==t&&Boolean(n._dropZones.length)&&n._checkIfNodeDraggedInDropZone(d)})}_onNodeDrop(t,d){d.reset(),setTimeout(()=>this._dragDropInProgress=!1);const n=this._nodeComponents.find(_=>_._isAnyDropZoneActive);if(!n)return;this._cacheCurrentApprovalProcess();const s=n._activeDropZones[0].placement;if(this._nodeComponents.forEach(_=>_._deactivateDropZones()),"after"===s){this._deleteNode(t),this._buildView(this._approvalProcess);const _=(0,w.$Q)(this._graph).find(h=>h.id===n.node.targets[0]);_?.blank&&(this._deleteNode(_),this._buildView(this._approvalProcess)),t.targets=this._approvalProcess.nodes.find(h=>h.id===n.node.id)?.targets??[],n.node.targets=[t.id],this._finishDragDropProcess(t)}else"before"===s?this._dialogService.open(U.h,void 0,this._injector).afterClosed.subscribe(h=>{if(!h)return;const{type:S,toNextSerial:J}=h;this._deleteNode(t),this._buildView(this._approvalProcess),S===u.P2.SERIAL&&(this._replaceTargets(n.node.id,[t.id]),t.targets=[n.node.id]),S===u.P2.PARALLEL&&this._processAddingParallelNode(t,n.node,J),this._finishDragDropProcess(t)}):"before-all"===s?(this._deleteNode(t),t.targets=this._graph.columns[0].nodes.map(h=>h.id),this._finishDragDropProcess(t)):"after-all"===s&&(this._deleteNode(t),this._buildView(this._approvalProcess),t.targets=[...n.node.targets],0===n.node.targets.length?this._graph.columns[this._graph.columns.length-1].nodes.forEach(h=>h.targets.push(t.id)):(this._approvalProcess.nodes=this._approvalProcess.nodes.filter(_=>_.id!==n.node.id),this._replaceTargets(n.node.id,[t.id])),this._finishDragDropProcess(t))}_finishDragDropProcess(t){this._approvalProcess.nodes.push(t),this._buildView(this._approvalProcess)}_showMessage(t){this._messages=[{type:t}]}_buildView(t){if(t.nodes||(t.nodes=[]),t.watchers||(t.watchers=[]),this._approvalProcess=t,this._graph=function Q(g){const b={columns:[],errors:!1};if(!g.length)return b;const t=function Y(g){return g.filter(b=>g.every(t=>!(0,w.KY)(t,b.id)))}(g),d=function te(g){return g.filter(b=>!b.targets.length)}(g);if(!t.length||!d.length)return console.warn("Err: Not possible to build graph because root or final nodes aren't present!"),b.errors=!0,b;const n=function j(g,b){const t=[],d=[];for(let n=0;n<g.length;n++)for(d.push([g[n]]);d.length;){const s=d.pop();let _;if(s&&(_=s[s.length-1]),!_)return[];_.targets.length?_.targets.forEach(h=>{const S=b.find(G=>G.id===h);if(!S)return;const J=[...s,S];d.push(J)}):t.push(s)}return t}(t,g);if(!n.length)return console.warn("Err: Not possible to build graph!"),b.errors=!0,b;const s=function V(g){const b=[];return g.forEach(t=>{let d=t.length-1;for(let n=t.length-1;n>0&&t[n].blank;--n)d=n-1;t[d].targets=[],b.push(t.slice(0,d+1))}),b}(n),_=function ae(g){const b=[],t=g.map(n=>n.length),d=Math.max(...t);return g.forEach(n=>{n.length!==d?(n.forEach((s,_)=>{let h=function le(g,b){const t=[],d=b.find(n=>{const s=n.indexOf(g);return s>-1&&n[s+1]?.blank});if(d){const n=d.indexOf(g)+1,s=d.findIndex((_,h)=>h>n&&!_.blank);t.push(...d.slice(n,s>0?s:void 0))}return t}(s,b);if(h.length&&h[0].id!==n[_+1]?.id)return void n.splice(_+1,0,...h);const S=g.map(G=>G.indexOf(s)),J=Math.max(...S);return _<J?(h=P(J-_,n[_-1].status),h[h.length-1].targets=[s.id],n[_-1].targets=[h[0].id],void n.splice(_,0,...h)):_===J&&_===n.length-1?(h=P(d-n.length,n[_].status),n[_].targets=[h[0].id],void n.splice(_+1,0,...h)):void 0}),b.push(n)):b.push(n)}),b}(s),h=function q(g){if(1===g.length)return g;let b=[],t=0;g.forEach((s,_)=>{for(let h=0;h<g.length;h++)if(_!==h&&!b.some(S=>_===S[1]&&h===S[0])){t=0;for(let S=0;S<s.length;S++)s[S].id===g[h][S].id&&t++;b.push([_,h,t])}}),b=b.sort((s,_)=>s[2]>_[2]?-1:1);const d=[],n=[];return b.forEach(s=>{d.some(_=>_===s[0])||(n.push(g[s[0]]),d.push(s[0])),d.some(_=>_===s[1])||(n.push(g[s[1]]),d.push(s[1]))}),n}(_),S=function x(g){const b=[];return g.forEach((t,d)=>{t.forEach(n=>{g.forEach((s,_)=>{_!==d&&s.indexOf(n)>-1&&s.splice(s.indexOf(n),1,(0,w.Ju)())})}),b.push(t)}),b}(h),J=function Z(g){return g.reduce((b,t)=>(t.every(d=>d.space)||b.push(t),b),[])}(S),G=function $(g){const b=[];let t=[];for(let d=0;d<g[0].length;d++){t=[];for(let n=0;n<g.length;n++)t.push(g[n][d]);b.push(t)}return b}(J),ee=function re(g){const b=[];return g.forEach(t=>{let d;for(let n=t.length-1;n>=0;n--)if(!t[n].space){d=n;break}b.push(d<t.length?t.slice(0,d+1):t)}),b}(G),z=function he(g){const b=[];return g.forEach(t=>{t.every(n=>n.blank||n.space)?t.forEach(n=>{n.blank&&function de(g,b,t){t.forEach(d=>{d.forEach(n=>{(0,w.KY)(n,g)&&(n.targets=n.targets.filter(s=>s!==g),n.targets.push(...b))})})}(n.id,n.targets,g)}):b.push(t)}),b}(ee);return b.columns=function ve(g){const b=[];return g.forEach((t,d)=>{t.forEach(n=>n.colIndex=d),b.push({nodes:t,index:d,allNodesApproved:t.every(n=>(0,w.aC)(n))})}),b}(z),b}(this._approvalProcess.nodes),this._graph.errors)return void this._showMessage("error");this._graphMetadata=function oe(g){const b=(0,w.$Q)(g),t={};return g.columns.forEach((d,n)=>{d.nodes.forEach((s,_)=>{const h=(0,w.u$)(s,b),S=!!h.length&&h.every(ue=>(0,w.aC)(ue)),J=!h.length&&!s.space,G=!s.targets.length&&!s.space,ee=h.length>1,z=0===n&&d.nodes.length>1&&0===_,me=n===g.columns.length-1&&d.nodes.length>1&&0===_;t[s.id]={parents:h,isRoot:J,isFinal:G,parallelStart:s.targets.length>1,parallelEnd:ee,columnIndex:n,nodeIndex:_,canAddNodeBefore:!(0,w._3)(s)&&!S,canAddNodeBeforeAll:J&&z,canAddNodeAfter:!(0,w.aC)(s),canAddNodeAfterAll:!(0,w.aC)(s)&&(G&&me||ee&&s.blank),canAddParallel:!(0,w.aC)(s),isVerticalLineBeforeSolid:s.space&&g.columns[n-1]?.allNodesApproved,isVerticalLineAfterSolid:s.space&&d.allNodesApproved,firstOfMultipleRootNodes:z,firstOfMultipleFinalNodes:me,rootNodesApproved:0===n&&d.allNodesApproved}})}),g.columns.forEach(d=>{d.nodes.forEach((n,s)=>{const _=t[n.id];_.isLastInParallel=t[n.targets[0]]?.parallelEnd,_.isFirstInParallel=t[_.parents[0]?.id]?.parallelStart;const h=d.index,S=h?g.columns[h-1]:void 0,J=h?g.columns[h+1]:void 0,G=S?.nodes[s],ee=J?.nodes[s];_.renderAddNodeAfterButton=_.canAddNodeAfter&&(_.isFinal||_.parallelStart||_.isLastInParallel||ee?.blank);const z=J?.nodes;if(_.parallelStart&&z){const ue=z.filter(ce=>n.targets.includes(ce.id)),He=z.findIndex(ce=>ce.id===ue[0].id),fe=z.findIndex(ce=>ce.id===ue[ue.length-1].id);for(let ce=He+1;ce<=fe;ce++)t[z[ce].id].renderVerticalLineBefore=!0}const me=S?.nodes;if(_.parallelEnd&&me){const ue=me.findIndex(fe=>fe.id===_.parents[0].id),He=me.findIndex(fe=>fe.id===_.parents[_.parents.length-1].id);for(let fe=ue+1;fe<=He;fe++)t[me[fe].id].renderVerticalLineAfter=!0}_.renderVerticalLineBefore=!!_.renderVerticalLineBefore||s>0&&!G,_.renderVerticalLineAfter=!!_.renderVerticalLineAfter||s>0&&!ee})}),t}(this._graph);const d=(0,w.$Q)(this._graph);this._approvalProcess.nodes=d.filter(n=>!n.space),this._multipleRootNodes=d.filter(n=>this._graphMetadata[n.id].isRoot).length>1,this._multipleFinalNodes=d.filter(n=>this._graphMetadata[n.id].isFinal).length>1,this._cdr.detectChanges(),this._gridList?.clearSelection(),this._isEditMode||this._setScrollPosition(0)}_listenOnResize(){this._subscriptions.add((0,A.T)((0,o.R)(window,"resize"),(0,o.R)(this._graphContainerEl.nativeElement,"scroll")).pipe((0,R.p)(50,void 0,{leading:!0,trailing:!0})).subscribe(()=>{this._cdr.detectChanges()}))}_focusNode(t){const d=this._nodeComponents.find(n=>n.node===t);d&&(this._moveColInView(t.colIndex??0),d._focus({preventScroll:!0}))}_updateNode(t){const d=this._approvalProcess.nodes.findIndex(n=>n.id===t.id);d>-1&&(this._approvalProcess.nodes[d]=t)}_deleteNode(t){const d=[t],n=(0,w.$Q)(this._graph);let _,s=n.find(z=>z.id===t.id);do{1===s?.targets.length&&(_=n.find(z=>z.id===s?.targets[0]),_?.blank&&1===this._graphMetadata[_.id].parents.length&&(d.push(_),s=_,_=n.find(z=>z.id===s?.targets[0])))}while(_?.blank&&1===this._graphMetadata[_.id].parents.length);const J=this._graphMetadata[this._graphMetadata[t.id].parents[0]?.id]?.parallelStart,G=this._graphMetadata[t.targets[0]]?.parallelEnd;this._replaceTargets(t.id,J&&G||d.length>1?[]:s?.targets??[]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(z=>!d.includes(z))}_addParallelTargets(t,d){this._approvalProcess.nodes.forEach(n=>{(0,w.KY)(n,t)&&n.targets.push(d)})}_replaceTargets(t,d){this._approvalProcess.nodes.forEach(n=>{(0,w.KY)(n,t)&&(n.targets=n.targets.filter(s=>s!==t),n.targets.push(...d))})}_cacheCurrentApprovalProcess(){this._previousApprovalProcess=(0,_e.Z)(this._approvalProcess)}get _carouselStepSize(){return this._graphEl.nativeElement.scrollWidth/this._carouselStepsCount}get _scrollDiff(){return this._graphEl?this._graphEl.nativeElement.scrollWidth-this._graphEl.nativeElement.clientWidth:0}get _carouselStepsCount(){return this._graphEl.nativeElement.children.length}get _carouselStepsLeft(){return Math.ceil(this._graphContainerEl.nativeElement.scrollLeft/this._carouselStepSize)}get _carouselStepsRight(){return Math.ceil((this._scrollDiff-Math.round(this._graphContainerEl.nativeElement.scrollLeft))/this._carouselStepSize)}get _defaultDialogOptions(){return{teamDataSource:this.teamDataSource,userDataSource:this.userDataSource,userDetailsTemplate:this.userDetailsTemplate,rtl:this._rtl}}_findSerialNode(t,d){if(Number.isInteger(t)&&d?.some(_=>{const h=this._graphMetadata[_]?.nodeIndex;return Number.isInteger(h)&&h<=t-1}))return d??[];const s=this._approvalProcess.nodes.find(_=>_.id===d?.[0]);return this._findSerialNode(t,s?.targets)}_processAddingParallelNode(t,d,n=!1){if(t.targets=d.targets,this._addParallelTargets(d.id,t.id),n){let s=this._graphMetadata[d.id].nodeIndex,_=d.targets;if(0===s){const J=this._graph.columns?.[this._graphMetadata[d.id].columnIndex]?.nodes.find((G,ee)=>ee>0&&!G.space);return J?(s=this._graphMetadata[J.id].columnIndex,_=J.targets,void(t.targets=this._findSerialNode(s,_))):void(t.targets=d.targets)}t.targets=this._findSerialNode(s,_)}}_setupDataSourceSubscription(){const t=this._dataSourceChanged$.pipe((0,B.O)(null),(0,K.w)(()=>{const d=[this.teamDataSource,this.userDataSource,this.watcherDataSource].filter(Boolean).map(n=>(0,A.T)(n.onDataRequested().pipe((0,W.h)(!0)),n.onDataReceived().pipe((0,W.h)(!1))).pipe((0,B.O)(n.isDataLoading)));return(0,F.a)(d)}),(0,H.U)(d=>d.some(Boolean)),(0,L.x)()).subscribe(d=>{d?this.onDataRequested.emit():this.onDataReceived.emit()});this._subscriptions.add(t)}}return g.\u0275fac=function(t){return new(t||g)(e.Y36(v.xA),e.Y36(e.sBO),e.Y36(e.zs3),e.Y36(se.Or,8),e.Y36(D.qFd,8))},g.\u0275cmp=e.Xpm({type:g,selectors:[["fdp-approval-flow"]],viewQuery:function(t,d){if(1&t&&(e.Gf(pe,5),e.Gf(ie,5),e.Gf(ze,5),e.Gf(m.D,5)),2&t){let n;e.iGM(n=e.CRH())&&(d._graphContainerEl=n.first),e.iGM(n=e.CRH())&&(d._graphEl=n.first),e.iGM(n=e.CRH())&&(d._gridList=n.first),e.iGM(n=e.CRH())&&(d._nodeComponents=n)}},inputs:{title:"title",value:"value",userDataSource:"userDataSource",watcherDataSource:"watcherDataSource",teamDataSource:"teamDataSource",userDetailsTemplate:"userDetailsTemplate",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allowSendRemindersForStatuses:"allowSendRemindersForStatuses",isEditAvailable:"isEditAvailable",watchersLabel:"watchersLabel",allowAddParallelNodes:"allowAddParallelNodes",disableSaveButton:"disableSaveButton",disableExitButton:"disableExitButton",usersDataProviderEntityKey:"usersDataProviderEntityKey",teamsDataProviderEntityKey:"teamsDataProviderEntityKey",watchersDataProviderEntityKey:"watchersDataProviderEntityKey"},outputs:{nodeClick:"nodeClick",afterNodeAdd:"afterNodeAdd",afterNodeEdit:"afterNodeEdit",valueChange:"valueChange",sendReminders:"sendReminders",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},features:[e.TTD],decls:13,vars:10,consts:[["fdCompact",""],[3,"messages","undoLastActionAvailable","messagesChange","undoLastAction"],[1,"fdp-approval-flow__toolbar",3,"selectionMode","selectionChange"],["gridList",""],[3,"title"],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes",4,"ngIf"],["class","fdp-approval-flow__watchers",4,"ngIf"],[4,"ngIf"],["fd-bar","",4,"ngIf"],["emptyApprovalFlowGraph",""],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes"],[1,"fdp-approval-flow__watchers"],[1,"fdp-approval-flow__watchers-title"],["class","fdp-approval-flow__watchers-input-container",4,"ngIf"],["size","xs",3,"image","label","clickable","circle","avatarClicked",4,"ngFor","ngForOf","ngForTrackBy"],["size","xs",3,"image","label","clickable","circle","avatarClicked"],[1,"fdp-approval-flow__watchers-input-container"],[3,"dropdownValues","placeholder","displayFn","valueFn","showAllButton","ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],[1,"fdp-approval-flow__container"],["class","fdp-approval-flow-carousel-controls",3,"fdp-approval-flow-carousel-controls--edit-mode",4,"ngIf"],[1,"fdp-approval-flow__graph-container"],["graphContainerEl",""],[1,"fdp-approval-flow__graph"],["graphEl",""],["class","fdp-approval-flow__graph-column",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-carousel-controls"],["class","fdp-approval-flow-carousel-controls__button--prev-slide",3,"click",4,"ngIf"],["class","fdp-approval-flow-carousel-controls__button--next-slide",3,"click",4,"ngIf"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide",3,"click"],[3,"glyph"],[1,"fdp-approval-flow-carousel-controls__button--next-slide",3,"click"],[1,"fdp-approval-flow__graph-column"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved"],["approvalFlowNode",""],["type","active",1,"fdp-approval-flow__graph-node-inner",3,"value","selected","ariaLabelledBy","disableToolbarClick","press"],["fd-grid-list-item-image","","size","xs",3,"image","label","circle"],["fd-grid-list-item-body",""],[3,"ngTemplateOutlet"],["fd-bar",""],["fd-bar-right",""],["fd-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fdType","transparent",3,"label","disabled","click"],["fd-illustrated-message","","type","spot",3,"svgConfig"],["fd-illustrated-message-figcaption",""],["fd-illustrated-message-title",""],["fd-illustrated-message-text",""],[2,"display","none"],["xmlns","http://www.w3.org/2000/svg","width","128","height","128","viewBox","0 0 128 128","id","sapIllus-Spot-NoData"],["d","M41.6179,32.7174H84.6273a1,1,0,0,1,.723.3092l7.2445,7.5824,7.4817,7.8491a1,1,0,0,1,.2761.69l-.0046,55.6069a4.1038,4.1038,0,0,1-.8787,2.1212A4.0564,4.0564,0,0,1,98.1,107.9631l-56.3858.0313a2.6167,2.6167,0,0,1-3.0812-3.2309l-.0152-69.0594Z",1,"sapIllus_PatternShadow",2,"fill","var(--sapIllus_PatternShadow)"],["d","M35.7928,27.4987H78.8022a1,1,0,0,1,.723.3092L86.77,35.39l7.4816,7.8492a1,1,0,0,1,.2762.69l-.0046,55.6069a3,3,0,0,1-3,3H35.808a2.9946,2.9946,0,0,1-3-2.9913c-.01-12.0564-.0423-57.0116-.0152-69.0595A2.9943,2.9943,0,0,1,35.7928,27.4987Z",1,"sapIllus_ObjectFillColor",2,"fill","var(--sapIllus_ObjectFillColor)"],["d","M93.2978,44.5335H78.8208a.9925.9925,0,0,1-.974-1.01V28.5108a.97.97,0,0,1,1.6628-.7143L93.9865,42.8092A1.0151,1.0151,0,0,1,93.2978,44.5335Z",1,"sapIllus_BrandColorSecondary",2,"fill","var(--sapIllus_BrandColorSecondary)"],["d","M104.608,38.9485l5.9157-1.7721c1.32-.3954.7584-2.5258-.5689-2.1282L104.0392,36.82c-1.32.3953-.7584,2.5258.5688,2.1282Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M85.2973,21.2465l.9718-5.9331c.2154-1.3151-1.777-1.8807-1.9941-.5554l-.9718,5.9332c-.2155,1.3151,1.777,1.8807,1.9941.5553Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M95.3034,29.0015a1.01,1.01,0,0,1-.6837-.267,1.0783,1.0783,0,0,1-.0864-1.4932l5.9511-6.8857a1.01,1.01,0,0,1,1.4538-.0884,1.0785,1.0785,0,0,1,.0865,1.4932l-5.9511,6.8858A1.0164,1.0164,0,0,1,95.3034,29.0015Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M94.8747,42.8861,80.0855,27.4623a1.5152,1.5152,0,0,0-1.0885-.4636H35.807a3.509,3.509,0,0,0-3.5146,3.4836c-.0294,13.2857.0137,66.7559.0157,69.0257a3.5076,3.5076,0,0,0,3.5146,3.4894H91.7709a3.5106,3.5106,0,0,0,3.5146-3.4982l.005-55.5785A1.49,1.49,0,0,0,94.8747,42.8861Zm-16.21-14.8355a1.15,1.15,0,0,1,.2561-.0309,1.04,1.04,0,0,1,.51.2134l14.276,14.8837.0194.02a.5891.5891,0,0,1,.0968.6251c-.1016.1764-.4086.24-.69.24L78.8355,44a.6031.6031,0,0,1-.5472-.6131c-.0087-4.9588-.017-9.9015-.0035-14.8689A.5189.5189,0,0,1,78.6646,28.0506Zm13.1062,73.95H35.8188a2.5045,2.5045,0,0,1-2.5107-2.491c-.002-2.2694-.0451-55.74-.0157-69.0248a2.5054,2.5054,0,0,1,2.5107-2.4861H77.3684a1.49,1.49,0,0,0-.0976.5106V43.4934A1.5145,1.5145,0,0,0,78.7894,45H78.92L94.286,47.9749l-.0046,51.5269A2.5074,2.5074,0,0,1,91.7708,102.0006Z",1,"sapIllus_StrokeDetailColor",2,"fill","var(--sapIllus_StrokeDetailColor)"]],template:function(t,d){1&t&&(e.ynx(0,0),e.TgZ(1,"fdp-approval-flow-messages",1),e.NdJ("messagesChange",function(s){return d._messages=s})("undoLastAction",function(){return d._undoLastAction()}),e.qZA(),e.TgZ(2,"fd-grid-list",2,3),e.NdJ("selectionChange",function(s){return d._onNodeSelectionChange(s)}),e.TgZ(4,"fd-grid-list-title-bar",4),e.ALo(5,"fdTranslate"),e._UZ(6,"fd-grid-list-title-bar-spacer"),e.YNc(7,c,1,4,"fdp-approval-flow-toolbar-actions",5),e.qZA(),e.YNc(8,r,6,6,"div",6),e.YNc(9,je,2,2,"ng-container",7),e.qZA(),e.YNc(10,Ve,8,8,"div",8),e.YNc(11,$e,17,7,"ng-template",null,9,e.W1O),e.BQk()),2&t&&(e.xp6(1),e.Q6J("messages",d._messages)("undoLastActionAvailable",!!d._previousApprovalProcess),e.xp6(1),e.Q6J("selectionMode",d._isEditMode?"multiSelect":"none"),e.xp6(2),e.Q6J("title",d.title||e.lcZ(5,8,"platformApprovalFlow.defaultTitle")),e.xp6(3),e.Q6J("ngIf",d.isEditAvailable),e.xp6(1),e.Q6J("ngIf",(null==d._approvalProcess||null==d._approvalProcess.watchers?null:d._approvalProcess.watchers.length)||d._isEditMode),e.xp6(1),e.Q6J("ngIf",!d._graph.errors),e.xp6(1),e.Q6J("ngIf",d._isEditMode))},dependencies:[ge.sg,ge.O5,ge.tP,we.JJ,we.On,Ce.A,be.R,Te.M,xe.J,Ee.$,Me.r,Ne.o,De.o,Se.O,Fe.L,ye.a,Ie.n,Le.s,Pe.D,Oe.L,ke.Zt,Be.z,Ze.N,Ue.I,Re.C,m.D,Je.S,Qe.h,Ke.n],styles:["/*!\n * Fundamental Library Styles v0.28.3\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-scrollbar{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:auto;padding:0;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-scrollbar:after,.fd-scrollbar:before{box-sizing:inherit;font-size:inherit}.fd-scrollbar.is-focus,.fd-scrollbar:focus{outline:none;z-index:5}.fd-scrollbar::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-scrollbar::-webkit-scrollbar-corner,.fd-scrollbar::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-scrollbar::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-scrollbar::-webkit-scrollbar-thumb:active,.fd-scrollbar::-webkit-scrollbar-thumb:hover{box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-scrollbar--container::-webkit-scrollbar-corner,.fd-scrollbar--container::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color);border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-corner,.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-corner,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.fdp-approval-flow__watchers{margin-bottom:.5rem;padding-left:.5rem}.fdp-approval-flow__watchers-title{font-size:.875em;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin:1rem 0 .5rem}.fdp-approval-flow__watchers fd-avatar{margin-right:.5rem;cursor:pointer}.fdp-approval-flow__watchers fd-avatar:focus{outline-offset:.0625rem;outline-width:.0625rem;outline-style:dotted;outline-color:var(--sapContent_FocusColor, #0854a0)}.fdp-approval-flow__watchers .fdp-approval-flow__watchers-input-container{width:17.375rem}[dir=rtl] .fdp-approval-flow__watchers,.fdp-approval-flow__watchers[dir=rtl]{padding-right:.5rem}[dir=rtl] .fdp-approval-flow__watchers fd-avatar,.fdp-approval-flow__watchers[dir=rtl] fd-avatar{margin-left:.5rem;margin-right:0}.fdp-approval-flow__container{max-width:100%;position:relative;padding:0 .5rem}.fdp-approval-flow__container--extra-padding-start{padding-left:2rem}.fdp-approval-flow__container--extra-padding-end{padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start{padding-left:.5rem;padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-end{padding-right:.5rem;padding-left:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end{padding-right:2rem;padding-left:2rem}.fdp-approval-flow__graph-container{position:relative;overflow:auto;padding-top:.5rem;padding-bottom:2rem;padding-left:2rem}.fdp-approval-flow__graph-container--multiple-root-nodes{padding-left:4rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-root-nodes,.fdp-approval-flow__graph-container--multiple-root-nodes[dir=rtl]{padding-right:2rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-final-nodes,.fdp-approval-flow__graph-container--multiple-final-nodes[dir=rtl]{padding-left:0}.fdp-approval-flow-carousel-controls{position:absolute;display:flex;align-items:center;width:100%;height:6.375rem;padding-top:.5rem;left:0}.fdp-approval-flow-carousel-controls--edit-mode{height:8.375rem}.fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--next-slide{position:absolute;border:none;background:transparent;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);display:flex;justify-content:space-between;width:2rem;align-items:center;cursor:pointer}.fdp-approval-flow-carousel-controls__button--prev-slide fd-icon,.fdp-approval-flow-carousel-controls__button--next-slide fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;top:.0625rem}.fdp-approval-flow-carousel-controls__button--prev-slide{left:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--prev-slide[dir=rtl]{left:auto;right:0}.fdp-approval-flow-carousel-controls__button--next-slide{right:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--next-slide,.fdp-approval-flow-carousel-controls__button--next-slide[dir=rtl]{left:0;right:auto}.fdp-approval-flow__graph{display:flex;align-items:flex-start;position:relative;left:0;transition:left .3s}.fdp-approval-flow__graph-column{margin-right:4rem;position:relative}[dir=rtl] .fdp-approval-flow__graph-column:first-child,.fdp-approval-flow__graph-column[dir=rtl]:first-child{margin-right:2rem}.fdp-approval-flow__graph fdp-approval-flow-node+fdp-approval-flow-node:not(:last-child){margin-bottom:1rem}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner{padding:0}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content{margin-left:auto}[dir=rtl] .fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content,.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content[dir=rtl]{margin-left:0;margin-right:auto}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--actions{display:none}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner:not(.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner--edit) .fd-toolbar.fd-grid-list__item-toolbar{display:none}.cdk-overlay-container{z-index:1002!important}\n"],encapsulation:2,changeDetection:0}),g})()},84468:(X,k,a)=>{function e(L){return"approved"===L.status}function M(L){return"not started"!==L.status}function l(L){return L?.name}function N(L){return L?.name}function A(L){return L?.id}function o(L,D){return L.name.toLowerCase().indexOf(D.toLowerCase())>-1}function F(L,D){return D?.id??L}function R(L){return L.columns.reduce((D,O)=>D.concat(O.nodes),[])}function B(L,D){return D.filter(O=>H(O,L.id))}function K(){return{id:`blankId${(1e3*Math.random()).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",blank:!0}}function W(){return{id:`spaceId${(1e3*Math.random()).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",space:!0}}function H(L,D){return L.targets.includes(D)}a.d(k,{$Q:()=>R,Bw:()=>l,Hg:()=>F,Ju:()=>W,KY:()=>H,TV:()=>o,Tc:()=>A,Us:()=>N,_3:()=>M,aC:()=>e,dL:()=>K,u$:()=>B})},35424:(X,k,a)=>{a.d(k,{KF:()=>e.K,vU:()=>V});var e=a(9780),M=a(36895),l=a(90433),N=a(73555),A=a(34549),o=a(83528),F=a(30825),R=a(47041),B=a(70591),K=a(49218),W=a(90523),H=a(31962),L=a(80848),D=a(21780),O=a(21656),v=a(89282),T=a(21495),m=a(66118),u=a(59083),w=a(78793),U=a(49386),Q=a(64713),oe=a(90859),Y=a(53572),te=a(60676),j=a(94650);let V=(()=>{class de{}return de.\u0275fac=function(se){return new(se||de)},de.\u0275mod=j.oAB({type:de}),de.\u0275inj=j.cJS({providers:[Y.E],imports:[M.ez,l.u5,A.Fx,o.Fh,F.hJ,L.QX,H.Tw,K.Su,U.t,oe._d,oe.Ep,Q.K2,T.Qj,v.H,R.nD,te.LU,O.$9,u.An,B.I$,w.UH,W.ej,N._t,m.dU,D.bz]}),de})();a(53609),a(40871),a(62177),a(29394),a(99886),a(55034),a(87313),a(37362),a(6258)},53572:(X,k,a)=>{a.d(k,{E:()=>l,n:()=>M});var e=a(94650),M=(()=>{return(N=M||(M={})).SELECT_TEAM="SELECT_TEAM",N.SELECT_USER="SELECT_USER",N.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",N.USER_DETAILS="USER_DETAILS",M;var N})();let l=(()=>{class N{constructor(){this.onViewChange=new e.vpe}get isUserDetailsMode(){return this.currentView===M.USER_DETAILS}get isTeamMembersMode(){return this.currentView===M.VIEW_TEAM_MEMBERS}get isSelectUserMode(){return this.currentView===M.SELECT_USER}get isSelectTeamMode(){return this.currentView===M.SELECT_TEAM}get team(){return this.selectedTeam}setCurrentView(o){this.currentView=o,this.onViewChange.emit()}resetView(){this.currentView=void 0,this.onViewChange.emit()}selectTeam(o){this.selectedTeam=o}resetTeam(){this.selectedTeam=void 0}}return N.\u0275fac=function(o){return new(o||N)},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac}),N})()}}]);