$block: fdp-table;

$fd-table-border: 0.0625rem solid #e4e4e4;
$fd-table-border-var: var(--sapList_BorderWidth, 0.0625rem) solid var(--sapList_BorderColor, #e4e4e4);

$fd-table-header-color: #f2f2f2;
$fd-table-header-color-var: var(--sapList_HeaderBackground, #f2f2f2);

$fd-table-scrollbar-width: var(--fdScrollbar_Dimension);
$fd-table-scrollbar-width-with-border: calc(#{$fd-table-scrollbar-width} + var(--sapList_BorderWidth, 0.0625rem));

.#{$block} {
    @mixin fd-rtl {
        @at-root {
            [dir='rtl'] &,
            &[dir='rtl'] {
                @content;
            }
        }
    }

    @mixin fdp-table-hide-scrollbar {
        /* Hide scrollbar for Chrome, Safari and Opera */
        &::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    @mixin fdp-table-scrollbar-mock {
        position: absolute;
        top: 0;
        right: 0;
        width: $fd-table-scrollbar-width-with-border;
        height: 100%;
        box-sizing: border-box;
        border: $fd-table-border;
        border: $fd-table-border-var;
        background-color: $fd-table-header-color;
        background-color: $fd-table-header-color-var;

        @include fd-rtl() {
            left: 0;
            right: auto;
        }
    }

    /** Temporary until arrow keyboard navigation not implemented */
    .fd-table__body:focus {
        outline-offset: -0.1875rem;
        outline-width: 0.0625rem;
        outline-width: var(--sapContent_FocusWidth, 0.0625rem);
        outline-color: #000;
        outline-color: var(--sapContent_FocusColor, #000);
        outline-style: dotted;
        outline-style: var(--sapContent_FocusStyle, dotted);
    }

    /** Fixes due to the absolute positioning */
    &.fd-table--tree,
    &.fd-table--group {
        .fd-table__body .fd-table__row {
            &,
            .fd-replace-indicator {
                height: 2.75rem;
            }
        }

        &.fd-table--compact .fd-table__body .fd-table__row {
            &,
            .fd-replace-indicator {
                height: 2rem;
            }
        }

        &.fd-table--condensed .fd-table__body .fd-table__row {
            &,
            .fd-replace-indicator {
                height: 1.563rem;
            }
        }
    }

    /** Tree table Drag & Drop fixes due to the absolute positioning */
    &.fd-table--tree {
        .fd-table__body .fd-table__row {
            &:hover {
                cursor: grab;
            }

            &:active {
                cursor: grabbing;
            }

            &.fd-dnd-item {
                position: inherit;
            }

            &.fd-dnd-on-drag {
                &.fd-dnd-placeholder {
                    padding-left: 2.8rem;

                    @include fd-rtl() {
                        padding-left: 0.5rem;
                    }
                }

                &:not(.fd-dnd-placeholder) {
                    .fdp-table__cell--selection {
                        top: 0;
                        transform: translate(-100%, 0);

                        @include fd-rtl() {
                            transform: translate(100%, 0);
                        }
                    }
                }
            }

            .fd-replace-indicator {
                top: auto;
            }
        }

        &.fd-table--condensed,
        &.fd-table--compact {
            .fd-table__row.fd-dnd-on-drag.fd-dnd-placeholder {
                padding-left: 2rem;

                @include fd-rtl() {
                    padding-left: 0.5rem;
                }
            }
        }
    }

    // In fundamental-styles there's a fix for the table row height in condensed mode, that includes absolute positioning for the checkbox
    // it's not needed here
    &.fd-table--condensed .fd-table__body .fd-table__cell--checkbox .fd-checkbox__label {
        position: relative;
        margin-top: 0;
    }

    &__container {
        position: relative;
        overflow: hidden;
        outline: none;
    }

    .fd-table__header {
        .fd-table__cell {
            margin-top: 0;
            max-height: 100%;

            .fd-table__popover--custom {
                display: none;
            }

            .fdp-table__navigation-indicator {
                opacity: 0;
                visibility: hidden;
            }
        }
    }

    &__empty {
        &-table-message {
            padding: 1rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            align-content: center;
            width: 100%;
        }

        &:not(.fd-table__body--fixed-height) .fd-table__row:last-of-type .fd-table__cell {
            border-bottom: 0;
        }

        .fd-table__body--fixed-height {
            background-color: #fff;
            background-color: var(--sapList_Background, #fff);
        }
    }

    .fd-table__cell {
        /** Temporary until column width can fit content */
        .fdp-table__navigation-indicator {
            margin: auto;
        }
    }

    // TODO (d.stepanenko): styles below should be moved into fundamental-styles
    .fd-table__cell--fixed {
        position: sticky;
        display: table-cell;
    }

    .fd-table__cell--checkbox fd-checkbox {
        // positioning checkbox in the middle of the cell
        display: flex;
        height: 100%;

        .fd-checkbox__label {
            align-self: center;
            margin: 0;
        }
    }

    .fd-table__expand-wrapper {
        display: flex;
        align-items: center;
    }
    // END TODO

    &__column-resizer {
        bottom: $fd-table-scrollbar-width-with-border;
    }

    &__cell--navigation {
        width: 4rem;
        min-width: 4rem;
        max-width: 4rem;
    }
}
