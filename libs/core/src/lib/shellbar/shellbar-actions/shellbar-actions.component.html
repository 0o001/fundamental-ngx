<div
    *ngIf="_comboboxComponent"
    [class.fd-shellbar__action-combobox--mobile]="_fullWidthOnMobile"
    class="fd-shellbar__action fd-shellbar__action-fullwidth"
    [class.fd-shellbar__action--desktop]="!_enableComboboxForMobileMode"
    [style.margin]="_fullWidthOnMobile ? 0 : ''"
>
    <div class="fd-shellbar__action-searchbutton">
        <button
            #searchButton
            id="searchButton"
            *ngIf="!_showCombobox"
            fd-button
            fdType="transparent"
            class="fd-shellbar__button"
            [glyph]="'search'"
            (click)="_onSearchButtonClick()"
        ></button>
    </div>
    <div class="fd-shellbar__action-combobox" [style.padding]="_fullWidthOnMobile ? '0 1rem' : ''">
        <ng-content *ngIf="_showCombobox" select="fd-combobox"></ng-content>
        <button
            *ngIf="_showCombobox && _enableComboboxForMobileMode"
            style="padding: 0 1rem; margin-left: 0.25rem; height: 250px"
            fd-button
            fdType="transparent"
            class="fd-shellbar__button"
            (click)="_showFullWidthCombobox(false)"
        >
            Cancel
        </button>
    </div>
</div>

<div #shellBarSelect *ngIf="_selectComponent" class="fd-shellbar__action">
    <ng-content select="fd-select"></ng-content>
</div>

<div *ngIf="!_fullWidthOnMobile" class="fd-shellbar__action fd-shellbar__action--mobile">
    <fd-shellbar-actions-mobile
        [shellbarActions]="shellbarActions"
        [collapsedItemMenuLabel]="collapsedItemMenuLabel"
        [isComboboxExist]="_comboboxComponent !== undefined"
        (_showFullWidthCombobox)="_showFullWidthCombobox($event)"
    ></fd-shellbar-actions-mobile>
</div>

<div class="fd-shellbar__action fd-shellbar__action--desktop">
    <ng-content></ng-content>
</div>

<ng-content select="fd-shellbar-action"></ng-content>

<ng-container *ngIf="userItem && !_fullWidthOnMobile">
    <ng-container *ngIf="!userComponent">
        <fd-shellbar-user-menu
            placement="bottom-end"
            [user]="user"
            [userMenu]="userMenu"
            (itemClicked)="triggerItems()"
        ></fd-shellbar-user-menu>
    </ng-container>

    <ng-container *ngIf="userComponent && !_fullWidthOnMobile">
        <ng-content select="fd-shellbar-user-menu"></ng-content>
    </ng-container>
</ng-container>

<div *ngIf="_productSwitchComponent && !_fullWidthOnMobile" class="fd-shellbar__action">
    <ng-content select="fd-product-switch"></ng-content>
</div>
