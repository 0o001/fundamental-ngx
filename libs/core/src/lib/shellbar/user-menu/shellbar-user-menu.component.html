<div class="fd-shellbar__action fd-shellbar__action--show-always" *ngIf="user">
    <div class="fd-user-menu">
        <button
            class="fd-button fd-shellbar__button fd-shellbar__button--user-menu"
            [disabled]="disabled"
            [fdMenuTrigger]="menu"
            [attr.aria-label]="user.ariaLabel"
        >
            <fd-avatar
                size="xs"
                *ngIf="!user.image"
                colorAccent="{{ user.colorAccent }}"
                [circle]="true"
                label="{{ user.fullName }}"
                [attr.alt]="user.alt"
            >
            </fd-avatar>
            <fd-avatar
                colorAccent="{{ user.colorAccent }}"
                [circle]="true"
                size="xs"
                *ngIf="user.image"
                image="{{ user.image }}"
                [attr.alt]="user.alt"
            ></fd-avatar>
        </button>
        <fd-menu
            #menu
            [compact]="compact"
            [triggers]="triggers"
            [placement]="placement"
            [fillControlMode]="fillControlMode"
            [closeOnEscapeKey]="closeOnEscapeKey"
            [noArrow]="false"
            [closeOnOutsideClick]="closeOnOutsideClick"
            role="listbox"
        >
            <li fd-menu-item *ngFor="let item of userMenu" (click)="itemClick(item, $event)" role="listitem">
                <div fd-menu-interactive>
                    <span fd-menu-title>{{ item.text }}</span>
                </div>
            </li>
        </fd-menu>
    </div>
</div>
