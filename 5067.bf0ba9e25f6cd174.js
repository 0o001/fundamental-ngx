"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5067],{15067:(L,I,l)=>{l.d(I,{j:()=>h,Qj:()=>k});var M=l(69808),t=l(30801),g=l(52382),m=l(72232),i=l(6738),D=l(90685),T=l(10826),y=l(72738),P=l(41204),R=l(83537),O=l(6472),x=l(5e3);let k=(()=>{class f{}return f.\u0275fac=function(B){return new(B||f)},f.\u0275mod=x.oAB({type:f}),f.\u0275inj=x.cJS({imports:[M.ez,t.Wh,g.u5,g.UX,P.pV,m.UU,i.dr,D.ne,T.ej,y.nD,R.LO,i.WN,O.jO,O.jO]}),f})();l(94834),l(29072),l(78448),l(84260);let h=(()=>{class f extends O.TU{constructor(){super("fd-multi-input")}}return f.\u0275fac=function(B){return new(B||f)},f.\u0275dir=x.lG2({type:f,selectors:[["fd-multi-input","compact",""]],features:[x._Bn([{provide:O.SM,useExisting:(0,x.Gpc)(()=>f)}]),x.qOj]}),f})()},78448:(L,I,l)=>{l.d(I,{b:()=>G});var M=l(19977),t=l(82722),g=l(84260),m=l(78500),i=l(5e3),D=l(59942),T=l(33201),y=l(85728),P=l(93839),R=l(52985),O=l(85677),x=l(45277),k=l(43754),U=l(95002),w=l(17923),W=l(34531),F=l(69808);const h=["dialogTemplate"];function f(r,C){if(1&r&&(i.TgZ(0,"h1",8),i._uU(1),i.qZA()),2&r){const c=i.oxw(2);i.xp6(1),i.Oqu(null==c.mobileConfig?null:c.mobileConfig.title)}}function A(r,C){if(1&r){const c=i.EpF();i.TgZ(0,"button",9),i.NdJ("click",function(){i.CHM(c);const p=i.oxw(2);return i.KtG(p.handleDismiss())}),i.qZA()}2&r&&i.Q6J("mobile",!0)}function B(r,C){1&r&&i.GkF(0)}function S(r,C){if(1&r){const c=i.EpF();i.TgZ(0,"div",10)(1,"fd-bar-element",11),i.YNc(2,B,1,0,"ng-container",5),i.qZA(),i.TgZ(3,"fd-bar-element",12)(4,"button",13),i.NdJ("click",function(){i.CHM(c);const p=i.oxw(2);return i.KtG(p.selectAll(p.allItemsSelected))}),i.qZA()()()}if(2&r){const c=i.oxw(2);i.xp6(2),i.Q6J("ngTemplateOutlet",(null==c.childContent?null:c.childContent.controlTemplate)||null),i.xp6(2),i.Q6J("fdType",c.allItemsSelected?"emphasized":"transparent")}}function K(r,C){1&r&&i.GkF(0)}function J(r,C){if(1&r){const c=i.EpF();i.TgZ(0,"fd-button-bar",14),i.NdJ("click",function(){i.CHM(c);const p=i.oxw(2);return i.KtG(p.handleApprove())}),i.qZA()}if(2&r){const c=i.oxw(2);i.Q6J("label",c.mobileConfig.approveButtonText)}}function H(r,C){if(1&r){const c=i.EpF();i.TgZ(0,"fd-button-bar",15),i.NdJ("click",function(){i.CHM(c);const p=i.oxw(2);return i.KtG(p.handleDismiss())}),i.qZA()}if(2&r){const c=i.oxw(2);i.Q6J("label",c.mobileConfig.cancelButtonText)}}function N(r,C){if(1&r&&(i.TgZ(0,"fd-dialog",1)(1,"fd-dialog-header"),i.YNc(2,f,2,1,"h1",2),i.YNc(3,A,1,1,"button",3),i.YNc(4,S,5,2,"ng-template",4),i.qZA(),i.TgZ(5,"fd-dialog-body"),i.YNc(6,K,1,0,"ng-container",5),i.qZA(),i.TgZ(7,"fd-dialog-footer"),i.YNc(8,J,1,1,"fd-button-bar",6),i.YNc(9,H,1,1,"fd-button-bar",7),i.qZA()()),2&r){const c=C.$implicit,E=C.dialogConfig,p=i.oxw();i.Q6J("dialogConfig",E)("dialogRef",c),i.xp6(2),i.Q6J("ngIf",null==p.mobileConfig?null:p.mobileConfig.title),i.xp6(1),i.Q6J("ngIf",null==p.mobileConfig?null:p.mobileConfig.hasCloseButton),i.xp6(3),i.Q6J("ngTemplateOutlet",(null==p.childContent?null:p.childContent.listTemplate)||null),i.xp6(2),i.Q6J("ngIf",null==p.mobileConfig?null:p.mobileConfig.approveButtonText),i.xp6(1),i.Q6J("ngIf",null==p.mobileConfig?null:p.mobileConfig.cancelButtonText)}}let G=(()=>{class r extends m.aj{constructor(c,E,p,Z){super(c,E,p,m.oS.MULTI_INPUT,Z),this.childContent=null}ngOnInit(){this._listenOnMultiInputOpenChange()}ngAfterViewInit(){this._open(),this.dialogRef.hide(!0)}ngOnDestroy(){this.dialogRef.close(),super.onDestroy()}selectAll(c){this._component.selectAllItems(!c)}handleDismiss(){this.dialogRef.hide(!0),this._component.dialogDismiss(this._selectedBackup)}handleApprove(){this.dialogRef.hide(!0),this._component.dialogApprove()}_toggleDialog(c){c&&(this._selectedBackup=[...this._component.selected],this._dialogService.hasOpenDialogs()||this._open()),this.dialogRef.hide(!c)}_listenOnMultiInputOpenChange(){this._component.openChange.pipe((0,t.R)(this._onDestroy$)).subscribe(c=>this._toggleDialog(c)),this._component.allItemsSelectedChange.pipe((0,t.R)(this._onDestroy$)).subscribe(c=>this.allItemsSelected=c)}_open(){this.dialogRef=this._dialogService.open(this.dialogTemplate,Object.assign(Object.assign({mobile:!0,verticalPadding:!1},this.dialogConfig),{backdropClickCloseable:!1,escKeyCloseable:!1,container:this._elementRef.nativeElement}))}}return r.\u0275fac=function(c){return new(c||r)(i.Y36(i.SBq),i.Y36(M.xA),i.Y36(g.v),i.Y36(m.jq,8))},r.\u0275cmp=i.Xpm({type:r,selectors:[["fd-multi-input-mobile"]],viewQuery:function(c,E){if(1&c&&i.Gf(h,5),2&c){let p;i.iGM(p=i.CRH())&&(E.dialogTemplate=p.first)}},features:[i.qOj],decls:2,vars:0,consts:[["dialogTemplate",""],[3,"dialogConfig","dialogRef"],["fd-title","",4,"ngIf"],["fd-dialog-close-button","",3,"mobile","click",4,"ngIf"],["fdTemplate","subheader"],[4,"ngTemplateOutlet"],["fdType","emphasized",3,"label","click",4,"ngIf"],[3,"label","click",4,"ngIf"],["fd-title",""],["fd-dialog-close-button","",3,"mobile","click"],["fd-bar-middle",""],[1,"custom-multi-input-mobile-control-element"],[1,"custom-multi-input-select-all-bar-element"],["fd-button","","glyph","multiselect-all",3,"fdType","click"],["fdType","emphasized",3,"label","click"],[3,"label","click"]],template:function(c,E){1&c&&i.YNc(0,N,10,7,"ng-template",null,0,i.W1O)},dependencies:[D.s,T.J,y.N,P.a,R.H,O.g,x.A,k.D,U.r,w.S,W.r,F.O5,F.tP],styles:[".custom-multi-input-select-all-bar-element{min-width:2.25rem}.custom-multi-input-mobile-control-element{width:calc(100% - 2.25rem)}.custom-multi-input-mobile-control-element .fd-multi-input-input-group-custom{width:100%}\n"],encapsulation:2,changeDetection:0}),r})()},29072:(L,I,l)=>{l.d(I,{U:()=>D});var M=l(59052),t=l(14257),g=l(19977),m=l(69808),i=l(5e3);let D=(()=>{class T{}return T.\u0275fac=function(P){return new(P||T)},T.\u0275mod=i.oAB({type:T}),T.\u0275inj=i.cJS({imports:[M.Fh,g.Su,t.hJ,m.ez]}),T})()},94834:(L,I,l)=>{l.d(I,{L:()=>b});var M=l(70655),t=l(5e3),g=l(52382),m=l(91159),i=l(20449),D=l(61135),T=l(50727),y=l(39841),P=l(71884),R=l(54004),O=l(50590),x=l(68675),k=l(72232),U=l(44604),w=l(30801),W=l(10826),F=l(41204),h=l(6738),f=l(78448),A=l(29072),B=l(84260),S=l(6472),K=l(69808),J=l(83424),H=l(14385),N=l(22062),G=l(87792),r=l(3568),C=l(95010),c=l(78906),E=l(64381),p=l(64363),Z=l(91743),Q=l(43960),Y=l(19065),V=l(67909),j=l(94311),z=l(22517),$=l(57694);const X=["control"],q=["list"],tt=["searchInputElement"];function et(_,e){if(1&_&&t.GkF(0,8),2&_){t.oxw();const n=t.MAs(6);t.Q6J("ngTemplateOutlet",n)}}function nt(_,e){1&_&&t.GkF(0)}function ot(_,e){1&_&&t.GkF(0)}const it=function(){return[]};function lt(_,e){if(1&_){const n=t.EpF();t.TgZ(0,"fd-popover",9),t.NdJ("isOpenChange",function(s){t.CHM(n);const a=t.oxw(2);return t.KtG(a.openChangeHandle(s))})("input",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(!s.open&&s.openChangeHandle(!0))}),t.TgZ(1,"fd-popover-control")(2,"form",10),t.NdJ("submit",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s._onSubmit())}),t.YNc(3,nt,1,0,"ng-container",11),t.qZA()(),t.TgZ(4,"fd-popover-body"),t.YNc(5,ot,1,0,"ng-container",11),t.Hsn(6),t.qZA()()}if(2&_){const n=t.oxw().ngIf,o=t.MAs(6),s=t.MAs(8),a=t.oxw();t.Q6J("isOpen",a.open)("triggers",t.DdM(11,it))("maxWidth",a.bodyMaxWidth)("focusTrapped",!0)("disabled",a.disabled)("fillControlMode",a.fillControlMode),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(1),t.ekj("fd-popover__body--hidden",!n.displayedOptions.length),t.uIk("aria-hidden",!a.open),t.xp6(1),t.Q6J("ngTemplateOutlet",s)}}function st(_,e){if(1&_){const n=t.EpF();t.TgZ(0,"fd-token",17),t.NdJ("onCloseClick",function(s){const u=t.CHM(n).$implicit,d=t.oxw(3);return t.KtG(d._onTokenClick(u.value,!1,s))})("onRemove",function(){const a=t.CHM(n).$implicit,u=t.oxw(3);return t.KtG(u._onTokenClick(a.value,!1))}),t._UZ(1,"span",18),t.qZA()}if(2&_){const n=e.$implicit,o=t.oxw(3);t.Q6J("disabled",o.disabled),t.xp6(1),t.Q6J("innerHtml",n.label,t.oJD)}}function _t(_,e){if(1&_){const n=t.EpF();t.TgZ(0,"fd-input-group",12),t.NdJ("addOnButtonClicked",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s._addOnButtonClicked())}),t.TgZ(1,"fd-tokenizer",13),t.NdJ("moreClickedEvent",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s._moreClicked())}),t.ALo(2,"async"),t.YNc(3,st,2,2,"fd-token",14),t.TgZ(4,"input",15,16),t.NdJ("onComplete",function(s){t.CHM(n);const a=t.oxw(2);return t.KtG(a._handleComplete(s))})("keydown",function(s){t.CHM(n);const a=t.oxw(2);return t.KtG(a._handleInputKeydown(s))}),t.qZA()()()}if(2&_){const n=t.oxw().ngIf,o=t.oxw();t.Q6J("state",o.state)("buttonFocusable",o.buttonFocusable)("button",o.displayAddonButton)("disabled",o.disabled)("isExpanded",o.open&&!o.mobile&&n.displayedOptions.length>0)("isControl",!0)("glyph",o.displayAddonButton?o.glyph:"")("iconTitle",o.title),t.xp6(1),t.ekj("fd-multi-input-tokenizer-custom--compact",t.lcZ(2,25,o._contentDensityObserver.isCompact$)),t.Q6J("compactCollapse",o.compactCollapse)("open",o.open)("tokenizerFocusable",!1),t.xp6(2),t.Q6J("ngForOf",n.selectedOptions)("ngForTrackBy",o.valueFn),t.xp6(1),t.Q6J("displayFn",o.displayFn)("inputText",o._searchTermCtrl.value||"")("options",o.dropdownValues)("enable",o.autoComplete&&!o.mobile)("placeholder",o.placeholder)("formControl",o._searchTermCtrl),t.uIk("aria-required",o.required)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("id",o.inputId)}}const at=function(_){return{option:_}};function ct(_,e){if(1&_){const n=t.EpF();t.TgZ(0,"li",23),t.NdJ("click",function(s){const a=t.CHM(n),u=a.$implicit,d=a.index,v=t.oxw(4);return t.KtG(v._onCheckboxClick(u.value,s,d,!0))})("keyup",function(s){const a=t.CHM(n),u=a.$implicit,d=a.index,v=t.oxw(4);return t.KtG(v._onCheckboxKeyup(u.value,s,d))}),t.TgZ(1,"fd-checkbox",24),t.NdJ("click",function(s){const a=t.CHM(n),u=a.$implicit,d=a.index,v=t.oxw(4);return t.KtG(v._onCheckboxClick(u.value,s,d))}),t.qZA(),t.GkF(2,25),t.qZA()}if(2&_){const n=e.$implicit;t.oxw(3);const o=t.MAs(10);t.Q6J("selected",n.isSelected),t.uIk("aria-label",n.label),t.xp6(1),t.Q6J("value",n.isSelected),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(5,at,n))}}function rt(_,e){if(1&_){const n=t.EpF();t.TgZ(0,"li",26),t.NdJ("keyDown",function(s){t.CHM(n);const a=t.oxw(4);return t.KtG(a._showAllKeyDown(s))})("click",function(s){t.CHM(n);const a=t.oxw(4);return t.KtG(a._showAllClicked(s))}),t.TgZ(1,"a",27),t._uU(2),t.qZA()()}if(2&_){const n=t.oxw(4);t.xp6(2),t.hij("Show All (",n.dropdownValues.length,")")}}function pt(_,e){if(1&_){const n=t.EpF();t.TgZ(0,"ul",20),t.NdJ("focusEscapeList",function(s){t.CHM(n);const a=t.oxw(3);return t.KtG(a.handleListFocusEscape(s))}),t.YNc(1,ct,3,7,"li",21),t.YNc(2,rt,3,1,"li",22),t.qZA()}if(2&_){const n=t.oxw(2).ngIf,o=t.oxw();t.Udp("max-height",o.mobile?"auto":o.maxHeight)("min-width","100%"),t.Q6J("selection",!0)("mobileMode",o.mobile),t.xp6(1),t.Q6J("ngForOf",n.displayedOptions)("ngForTrackBy",o.valueFn),t.xp6(1),t.Q6J("ngIf",o.showAllButton&&n.displayedOptions.length<o.dropdownValues.length)}}function ut(_,e){if(1&_&&t.YNc(0,pt,3,9,"ul",19),2&_){const n=t.oxw().ngIf;t.Q6J("ngIf",n.displayedOptions.length)}}function dt(_,e){if(1&_&&(t._UZ(0,"span",29),t.ALo(1,"highlight")),2&_){const n=t.oxw().option,o=t.oxw(2);t.Q6J("innerHtml",t.Dn7(1,1,n.label,o._searchTermCtrl.value||"",o.highlight),t.oJD)}}const mt=function(_){return{$implicit:_}};function ht(_,e){if(1&_&&(t.ynx(0),t.GkF(1,25),t.BQk()),2&_){const n=t.oxw().option,o=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",t.VKq(2,mt,n.item))}}function ft(_,e){if(1&_&&(t.YNc(0,dt,2,5,"span",28),t.YNc(1,ht,2,4,"ng-container",0)),2&_){const n=t.oxw(2);t.Q6J("ngIf",!n.itemTemplate),t.xp6(1),t.Q6J("ngIf",n.itemTemplate)}}function gt(_,e){if(1&_&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,et,1,1,"ng-container",3),t.YNc(4,lt,7,12,"fd-popover",4),t.qZA()(),t.YNc(5,_t,6,27,"ng-template",null,5,t.W1O),t.YNc(7,ut,1,1,"ng-template",null,6,t.W1O),t.YNc(9,ft,2,2,"ng-template",null,7,t.W1O),t.BQk()),2&_){const n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.mobile),t.xp6(1),t.Q6J("ngIf",!n.mobile)}}class b{constructor(e,n,o,s,a,u,d,v){this._contentDensityObserver=e,this._elementRef=n,this._changeDetRef=o,this._dynamicComponentService=s,this._injector=a,this._viewContainerRef=u,this._rtlService=d,this._focusTrapService=v,this.placeholder="",this.disabled=!1,this.required=!1,this.compactCollapse=!1,this.maxHeight="300px",this.glyph="value-help",this.dropdownValues=[],this.inputId="",this.highlight=!0,this.filterFn=this._defaultFilter,this.valueFn=this._defaultValueFn,this.displayFn=this._defaultDisplay,this.newTokenParseFn=this._defaultParse,this.newTokenValidateFn=this._defaultTokenValidate,this.fillControlMode="at-least",this.buttonFocusable=!0,this.allowNewTokens=!1,this.mobile=!1,this.showAllButton=!0,this.mobileConfig={hasCloseButton:!0,approveButtonText:"Select"},this.includes=!1,this.autoComplete=!0,this.searchTermChange=new t.vpe,this.selectedChange=new t.vpe,this.open=!1,this.displayAddonButton=!0,this.openChange=new t.vpe,this.allItemsSelectedChange=new t.vpe,this.optionItems$=new D.X([]),this._searchTermCtrl=new g.NI(""),this._selectionModel=new i.Ov(!0),this._viewModel$=this._getViewModel(),this._subscriptions=new T.w0,this._rangeSelector=new h.Wh,this.onChange=()=>{},this.onTouched=()=>{}}set searchTerm(e){this._searchTermCtrl.setValue(e)}get searchTerm(){var e;return null!==(e=this._searchTermCtrl.value)&&void 0!==e?e:""}set selected(e){this._selectionModel.clear(),null==e||e.forEach(n=>this._selectionModel.select(n))}get selected(){return this._selectionModel.selected}ngOnInit(){var e;this.buildComponentCssClass(),this._subscriptions.add(null===(e=this._rtlService)||void 0===e?void 0:e.rtl.subscribe(n=>{this._dir=n?"rtl":"ltr",this.buildComponentCssClass()})),this.inputId||(this.inputId=(0,h.k$)()),this._subscriptions.add(this._searchTermCtrl.valueChanges.pipe((0,P.x)()).subscribe(n=>{this.searchTermChange.emit(null!=n?n:""),this._rangeSelector.reset()})),this._subscriptions.add(this._getViewModel().pipe((0,R.U)(n=>!n.displayedOptions.some(o=>!o.isSelected))).subscribe(n=>this.allItemsSelectedChange.emit(n)))}ngOnChanges(e){var n;if(this.buildComponentCssClass(),e.dropdownValues||e.searchTerm||e.valueFn||e.displayFn){const o=(null!==(n=this.dropdownValues)&&void 0!==n?n:[]).map(s=>this._getOptionItem(s));this.optionItems$.next(o),this._changeDetRef.markForCheck()}e.disabled&&(this.disabled?this._searchTermCtrl.disable():this._searchTermCtrl.enable())}ngAfterViewInit(){this.mobile&&this._setUpMobileMode(),this.tokenizer._showOverflowPopover=!1}ngOnDestroy(){this._subscriptions.unsubscribe()}buildComponentCssClass(){if("value-help"===this.glyph&&"rtl"===this._dir){const e=this.elementRef().nativeElement.querySelector(".sap-icon--value-help");e&&(e.style.transform="scaleX(-1)")}return["fd-multi-input","fd-multi-input-custom",this.class]}elementRef(){return this._elementRef}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._elementRef.nativeElement.style.pointerEvents=e?"none":"auto",this._changeDetRef.detectChanges()}writeValue(e){this.selected=e,this._changeDetRef.markForCheck()}handleListFocusEscape(e){"up"===e&&!this.mobile&&this.searchInputElement.nativeElement.focus()}openChangeHandle(e){var n;this.disabled||(!e&&this.open&&!this.mobile&&this.searchInputElement.nativeElement.focus(),this.open!==e&&this.openChange.emit(e),this.open=e,this.mobile||this._popoverOpenHandle(e),this.open?(this.disableParentFocusTrap(),this.listComponent&&0===(null===(n=this._searchTermCtrl.value)||void 0===n?void 0:n.length)&&this.listComponent.setItemActive(0)):(this._resetSearchTerm(),this.enableParentFocusTrap()),this.tokenizer.removeSelectedTokens(),this.tokenizer.tokenizerInnerEl.nativeElement.scrollLeft=this.tokenizer.tokenizerInnerEl.nativeElement.scrollWidth,this._changeDetRef.detectChanges())}selectAllItems(e){this.selected=e?this.optionItems$.getValue().map(n=>n.value):[],this._propagateChange()}_onCheckboxKeyup(e,n,o){h.yS.isKeyCode(n,[m.L_,m.K5])&&this._onCheckboxClick(e,n,o)}_onCheckboxClick(e,n,o,s=!1){return(0,M.mG)(this,void 0,void 0,function*(){const a=!this._selectionModel.isSelected(e);this._rangeSelector.onRangeElementToggled(o,n);const u=this._viewModel$.pipe((0,O.P)()).subscribe(d=>{this._rangeSelector.applyValueToEachInRange(v=>this._handleSelect(a,d.displayedOptions[v].value,!1))});this._subscriptions.add(u),s?this.openChangeHandle(!1):n.stopPropagation()})}_onTokenClick(e,n,o){null==o||o.preventDefault(),this._handleSelect(!1,e,n)}_handleSelect(e,n,o=!0){const s=this._selectionModel.selected.length;e?this._selectionModel.select(n):this._selectionModel.deselect(n),this._shouldPopoverBeUpdated(s,this._selectionModel.selected.length)&&this.popoverRef.refreshPosition(),o&&(this._resetSearchTerm(),this.searchInputElement.nativeElement.focus()),0===this._selectionModel.selected.length&&(this.searchInputElement.nativeElement.focus(),this._changeDetRef.detectChanges()),this._propagateChange()}_handleInputKeydown(e){h.yS.isKeyCode(e,m.JH)&&!this.mobile?(e.altKey&&this.openChangeHandle(!0),this.listComponent&&(this.listComponent.setItemActive(0),e.preventDefault())):h.yS.isKeyCode(e,[m.JH,m.LH,m.K5])?this.openChangeHandle(!0):h.yS.isKeyCode(e,m.hY)?this.openChangeHandle(!1):h.yS.isKeyCode(e,m.Mf)&&this.open?this.listComponent&&(this.listComponent.setItemActive(0),e.preventDefault()):(h.yS.isKeyType(e,"alphabetical")||h.yS.isKeyType(e,"numeric"))&&(this.open||(this.openChangeHandle(!0),this.searchInputElement.nativeElement.focus()))}_showAllClicked(e){e.preventDefault(),e.stopPropagation(),this._searchTermCtrl.setValue(""),this.searchInputElement.nativeElement.focus()}_showAllKeyDown(e){h.yS.isKeyCode(e,[m.L_,m.K5])&&this._showAllClicked(e)}_onSubmit(){var e,n;const o=this.searchTerm;if(""!==o&&!this._selectFirstFiltered(o)&&this.allowNewTokens&&this.newTokenValidateFn(null!==(e=this._searchTermCtrl.value)&&void 0!==e?e:"")){const a=this.newTokenParseFn(null!==(n=this._searchTermCtrl.value)&&void 0!==n?n:"");this._addNewTokenToDropDownValues(a),this._handleSelect(!0,a),this._searchTermCtrl.setValue(""),this.open=!1}}_handleComplete({term:e}){this.searchTerm=e}dialogDismiss(e){this.openChangeHandle(!1),this._resetSearchTerm(),this.selected=e}dialogApprove(){this._propagateChange(!0),this.openChangeHandle(!1),this._resetSearchTerm()}_moreClicked(){this.openChangeHandle(!0)}_addOnButtonClicked(){this.openChangeHandle(!this.open)}disableParentFocusTrap(){var e;null===(e=this._focusTrapService)||void 0===e||e.pauseCurrentFocusTrap()}enableParentFocusTrap(){var e;null===(e=this._focusTrapService)||void 0===e||e.unpauseCurrentFocusTrap()}_addNewTokenToDropDownValues(e){this.dropdownValues.push(e);const n=this._getOptionItem(e);this.optionItems$.next([...this.optionItems$.value,n])}_selectFirstFiltered(e){const n=this.filterFn(this.dropdownValues,e);if(Array.isArray(n)&&n.length>0&&this.autoComplete){const o=this._getOptionItem(n[0]);return this._handleSelect(!0,o.value),this._searchTermCtrl.setValue(""),this.open=!1,!0}return!1}_defaultFilter(e,n=""){const o=n.toLocaleLowerCase();return e.filter(s=>{if(s){const a=this.displayFn(s),u="string"==typeof a?a.toLocaleLowerCase():"";return this.includes?u.includes(o):u.startsWith(o)}})}_defaultValueFn(e){return e}_defaultDisplay(e){return e}_defaultParse(e){return e}_defaultTokenValidate(e){return!!e}_popoverOpenHandle(e){this.open=e}_propagateChange(e){if(!this.mobile||e){const n=[...this._selectionModel.selected];this.onChange(n),this.selectedChange.emit(n)}}_shouldPopoverBeUpdated(e,n){return!!this.popoverRef&&(0===e&&1===n||1===e&&0===n)}_setUpMobileMode(){return(0,M.mG)(this,void 0,void 0,function*(){const e=t.zs3.create({providers:[{provide:B.v,useValue:this}],parent:this._injector});yield this._dynamicComponentService.createDynamicModule({listTemplate:this.listTemplate,controlTemplate:this.controlTemplate},A.U,f.b,this._viewContainerRef,e)})}_resetSearchTerm(){this._searchTermCtrl.setValue(""),this._changeDetRef.detectChanges()}_getOptionItem(e){const{label:n,value:o}=this._getValueAndLabel(e);return{item:e,label:n,value:o,isSelected:!1}}_getValueAndLabel(e,n=[]){var o,s,a,u;n.length>0&&(e=null!==(s=null===(o=n.find(Mt=>Mt.value===e))||void 0===o?void 0:o.item)&&void 0!==s?s:e);const d="object"==typeof e?e[Object.keys(e)[0]]:e,v=null!==(a=this.valueFn(e))&&void 0!==a?a:d;return{label:null!==(u=this.displayFn(e))&&void 0!==u?u:d,value:v}}_getViewModel(){return(0,y.a)([this._searchTermCtrl.valueChanges.pipe((0,x.O)(this._searchTermCtrl.value)),this._selectionModel.changed.pipe((0,x.O)(null)),this.optionItems$]).pipe((0,R.U)(([,,e])=>{var n;const o=this.selected.map(d=>this._getValueAndLabel(d,e)),s=null!==(n=this._searchTermCtrl.value)&&void 0!==n?n:"",a=this.filterFn(e.map(d=>d.item),s),u=(Array.isArray(a)?a:[]).map(d=>this._getOptionItem(d));return u.forEach(d=>d.isSelected=o.findIndex(v=>v.value===d.value)>-1),{selectedOptions:o,displayedOptions:u}}))}_focusOut(e){this._elementRef.nativeElement.contains(e.relatedTarget)||this.onTouched()}}b.\u0275fac=function(e){return new(e||b)(t.Y36(S.c7),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(h.av),t.Y36(t.zs3),t.Y36(t.s_b),t.Y36(h.qF,8),t.Y36(h.X$,8))},b.\u0275cmp=t.Xpm({type:b,selectors:[["fd-multi-input"]],viewQuery:function(e,n){if(1&e&&(t.Gf(k.U$,5),t.Gf(X,5,t.Rgc),t.Gf(q,5,t.Rgc),t.Gf(F.ns,5),t.Gf(tt,5,t.SBq),t.Gf(w.OZ,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.popoverRef=o.first),t.iGM(o=t.CRH())&&(n.controlTemplate=o.first),t.iGM(o=t.CRH())&&(n.listTemplate=o.first),t.iGM(o=t.CRH())&&(n.listComponent=o.first),t.iGM(o=t.CRH())&&(n.searchInputElement=o.first),t.iGM(o=t.CRH())&&(n.tokenizer=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("focusout",function(s){return n._focusOut(s)})},inputs:{placeholder:"placeholder",disabled:"disabled",required:"required",compactCollapse:"compactCollapse",maxHeight:"maxHeight",glyph:"glyph",dropdownValues:"dropdownValues",searchTerm:"searchTerm",inputId:"inputId",highlight:"highlight",selected:"selected",class:"class",filterFn:"filterFn",valueFn:"valueFn",displayFn:"displayFn",newTokenParseFn:"newTokenParseFn",newTokenValidateFn:"newTokenValidateFn",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",fillControlMode:"fillControlMode",state:"state",buttonFocusable:"buttonFocusable",allowNewTokens:"allowNewTokens",mobile:"mobile",showAllButton:"showAllButton",bodyMaxWidth:"bodyMaxWidth",mobileConfig:"mobileConfig",includes:"includes",itemTemplate:"itemTemplate",title:"title",autoComplete:"autoComplete",open:"open",displayAddonButton:"displayAddonButton"},outputs:{searchTermChange:"searchTermChange",selectedChange:"selectedChange",openChange:"openChange",allItemsSelectedChange:"allItemsSelectedChange"},features:[t._Bn([{provide:g.JU,useExisting:(0,t.Gpc)(()=>b),multi:!0},U.ub,(0,W.YO)(b),(0,S.EQ)()]),t.TTD],ngContentSelectors:["*"],decls:2,vars:3,consts:[[4,"ngIf"],[1,"fd-multi-input","fd-multi-input-custom"],[1,"fd-multi-input-field"],[3,"ngTemplateOutlet",4,"ngIf"],["additionalBodyClass","fd-popover-custom-list","class","fd-multi-input-popover-custom",3,"isOpen","triggers","maxWidth","focusTrapped","disabled","fillControlMode","isOpenChange","input",4,"ngIf"],["control",""],["list",""],["itemSource",""],[3,"ngTemplateOutlet"],["additionalBodyClass","fd-popover-custom-list",1,"fd-multi-input-popover-custom",3,"isOpen","triggers","maxWidth","focusTrapped","disabled","fillControlMode","isOpenChange","input"],[3,"submit"],[4,"ngTemplateOutlet"],[1,"fd-multi-input-input-group-custom",3,"state","buttonFocusable","button","disabled","isExpanded","isControl","glyph","iconTitle","addOnButtonClicked"],["tabindex","-1",1,"fd-multi-input-tokenizer-custom",3,"compactCollapse","open","tokenizerFocusable","moreClickedEvent"],[3,"disabled","onCloseClick","onRemove",4,"ngFor","ngForOf","ngForTrackBy"],["type","text","autocomplete","off","fd-form-control","","fd-input-group-input","","fd-auto-complete","",1,"fd-input","fd-tokenizer__input","fd-multi-input-tokenizer-input",3,"displayFn","inputText","options","enable","placeholder","formControl","onComplete","keydown"],["searchInputElement",""],[3,"disabled","onCloseClick","onRemove"],[3,"innerHtml"],["fd-list","","class","fd-multi-input-menu-overflow",3,"selection","mobileMode","maxHeight","minWidth","focusEscapeList",4,"ngIf"],["fd-list","",1,"fd-multi-input-menu-overflow",3,"selection","mobileMode","focusEscapeList"],["fd-list-item","",3,"selected","click","keyup",4,"ngFor","ngForOf","ngForTrackBy"],["fd-list-item","","class","fd-multi-input-show-all",3,"keyDown","click",4,"ngIf"],["fd-list-item","",3,"selected","click","keyup"],[3,"value","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-list-item","",1,"fd-multi-input-show-all",3,"keyDown","click"],["fd-link","","tabindex","0"],["fd-list-title","",3,"innerHtml",4,"ngIf"],["fd-list-title","",3,"innerHtml"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,gt,11,2,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n._viewModel$))},dependencies:[K.sg,K.O5,K.tP,J.q,H.O,g._Y,g.Fj,g.JJ,g.JL,g.F,g.oH,N.n,G.G,r.X,C.f,c.x,E.U,p.g,Z.cS,Q.A,Y.T,V.b,j.N,z.E,K.Ov,$.W],styles:[".fd-multi-input-tokenizer-custom{width:calc(100% - 2.25rem)}.fd-multi-input-tokenizer-custom--compact{width:calc(100% - 2rem)}.fd-multi-input-input-group-custom{max-width:100%}.fd-multi-input-custom{display:block}.fd-multi-input-item{cursor:pointer;padding:0}.fd-multi-input-popover-size{overflow:auto;display:block}.fd-multi-input-popover-custom.fd-popover-custom{max-width:100%;display:block}.fd-multi-input-menu-overflow{max-width:37.5rem;overflow:auto}.fd-input.fd-multi-input-tokenizer-input{margin-top:0;margin-bottom:0;padding-left:0;background-color:transparent}.fd-multi-input-show-all{width:100%;display:flex;justify-content:flex-end;background-color:transparent}.fd-multi-input-show-all .fd-link:active{color:inherit}.fd-multi-input-checkbox{width:100%;cursor:pointer}.fd-multi-input-checkbox .fd-checkbox__label{color:inherit}.fd-list--multi-input{max-width:100%}.fd-popover__body--hidden{display:none}\n"],encapsulation:2,changeDetection:0}),(0,M.gn)([h.Mk,(0,M.w6)("design:type",Function),(0,M.w6)("design:paramtypes",[]),(0,M.w6)("design:returntype",Array)],b.prototype,"buildComponentCssClass",null)},84260:(L,I,l)=>{l.d(I,{v:()=>t});const t=new(l(5e3).OlP)("MultiInputComponent")}}]);