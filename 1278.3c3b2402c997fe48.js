"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1278],{81278:(fe,b,d)=>{d.r(b),d.d(b,{PlatformUploadCollectionDocsModule:()=>h});var v=d(64575),m=d(61e3),B=d(86418),c=d(370),e=d(94650),J=d(7754),D=d(82861),j=d(5592),$=d(49505),g=d(91005),f=d(39646),H=d(56451),M=d(77579),U=d(18505),I=d(54004),N=d(82722),u=d(60505);const A=["Liam","Noah","Oliver","William","Elijah","James","Benjamin","Lucas","Mason","Ethan","Alexander","Henry","Jacob","Michael","Daniel","Logan","Jackson","Sebastian","Jack","Aiden"],R=[".jpg",".png",".pdf",".xls"];function L(){const i="abcdefghijklmnopqrstuvwxyz";return i[Math.floor(Math.random()*i.length)].toUpperCase()}function w(i,o){return new Date(+i+Math.random()*(o.getTime()-i.getTime()))}function X(i,o){return i=Math.ceil(i),o=Math.floor(o),Math.floor(Math.random()*(o-i+1))+i}function z(i){const o=[];for(let l=0;l<i;l++){const n=A[Math.floor(Math.random()*A.length)],t=X(1,5242880),a=R[Math.floor(Math.random()*R.length)];let s;switch(a){case".jpg":case".png":s="https://picsum.photos/200";break;case".pdf":s="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf";break;case".xls":s="https://file-examples-com.github.io/uploads/2017/02/file_example_XLS_10.xls"}s&&o.push({documentId:(0,u.k$y)(),type:"file",name:`File-${l+1}${a}`,uploadedBy:{id:(0,u.k$y)(),name:`${n} ${L()}.`},url:s,uploadedOn:w(new Date(2018,0,1),new Date),fileSize:t,version:Math.floor(10*Math.random())||1})}return o}function O(i,o=3,l=0){const n=[];for(let t=0;t<i;t++){const a=A[Math.floor(Math.random()*A.length)],s=z(Math.floor(10*Math.random()));o!==l&&s.push(...O(Math.floor(10*Math.random()),o,l+1)),n.push({documentId:(0,u.k$y)(),type:"folder",name:`Folder-${t+1}`,uploadedBy:{id:(0,u.k$y)(),name:`${a} ${L()}.`},uploadedOn:w(new Date(2018,0,1),new Date),files:s})}return n}var r=(()=>{return(i=r||(r={}))[i.UPDATE=0]="UPDATE",i[i.NEW_FOLDER=1]="NEW_FOLDER",i[i.UPDATE_VERSION=2]="UPDATE_VERSION",r;var i})();class S extends m.lR{constructor(o){super(),this._http=o,this.items=function Y(i,o,l){return[...z(i),...O(o,l-1)]}(50,4,2),this._cancelUploadNewFileIds=[],this._activeRequest=null}upload({parentFolderId:o,items:l}){return console.log("upload",o,l),this._activeRequest=r.UPDATE,(0,f.of)(this.items).pipe((0,g.g)(5e3),(0,U.b)(()=>{const n=l.map(t=>(delete t.file,t.status=m.c4.SUCCESSFUL,{temporaryDocumentId:t.documentId,item:t}));this._findParentFolderAndAddNewFiles(o,n),this._activeRequest=null}))}download(o){console.log("download",o);const l=o.items.map(n=>this._http.get(n.url,{responseType:"blob"}).pipe((0,I.U)(t=>({blob:t,file:n}))));return(0,H.T)(...l).pipe((0,I.U)(({file:n,blob:t})=>{const a=document.createElement("a"),s=URL.createObjectURL(t);a.href=s,a.download=n.name,a.click(),URL.revokeObjectURL(s)}))}moveTo({from:o,to:l,items:n,newFolder:t}){console.log("moveTo",o,l,n,t);const a=n.map(s=>s.documentId);if(this._findParentFolderAndRemoveItemsByIds(o?o.documentId:null,a),t){const s=this._generateNewFolder(t.folderName);this._findParentFolderAndAddFiles(t.parentFolderId,[s]),this._findParentFolderAndAddFiles(s.documentId,n)}else this._findParentFolderAndAddFiles(l?l.documentId:null,n);return(0,f.of)(this.items)}delete({parentFolderId:o,items:l}){console.log("delete",o,l);const n=l.map(t=>t.documentId);return this._findParentFolderAndRemoveItemsByIds(o,n),(0,f.of)(this.items)}fileRenamed({parentFolderId:o,item:l,fileName:n}){console.log("fileRenamed",o,l,n);const t={...l,name:n};return this._findParentFolderAndUpdateItem(o,t),(0,f.of)(this.items).pipe((0,g.g)(5e3))}newFolder({parentFolderId:o,folder:l}){console.log("newFolder",l,o),this._activeRequest=r.NEW_FOLDER;const n=new M.x;return(0,f.of)(this.items).pipe((0,g.g)(5e3),(0,U.b)(()=>{const t=l.documentId;this._cancelUploadNewFileIds.includes(t)&&(this._cancelUploadNewFileIds=this._cancelUploadNewFileIds.filter(s=>s!==t),this._activeRequest=null,n.next())}),(0,N.R)(n),(0,U.b)(()=>{const t={temporaryDocumentId:l.documentId,item:{...l,status:m.c4.SUCCESSFUL}};this._findParentFolderAndAddNewFiles(o,[t]),this._activeRequest=null}))}updateVersion({parentFolderId:o,item:l,newItem:n}){console.log("updateVersion",o,l),this._activeRequest=r.UPDATE_VERSION;const t=new M.x;return(0,f.of)(this.items).pipe((0,g.g)(5e3),(0,U.b)(()=>{const a=l.documentId;this._cancelUploadNewFileIds.includes(a)&&(this._cancelUploadNewFileIds=this._cancelUploadNewFileIds.filter(p=>p!==a),this._activeRequest=null,t.next(!0))}),(0,U.b)(()=>{const a={...l,status:m.c4.SUCCESSFUL,uploadedOn:new Date,uploadedBy:{id:Date.now(),name:"You"},version:+l.version,name:n.name,fileSize:n.size};this._findParentFolderAndUpdateItem(o,a),this._activeRequest=null}),(0,N.R)(t))}runAfterFail({parentFolderId:o,items:l}){console.log("runAfterFail",o,l);const n=l[0];return this._findParentFolderAndAddNewFiles(o,[{temporaryDocumentId:n.documentId,item:{...n,status:m.c4.SUCCESSFUL}}]),(0,f.of)(this.items)}cancelUploadNewFile({parentFolderId:o,item:l}){console.log("cancelUploadNewFile",o,l);const n=l.documentId;return this._cancelUploadNewFileIds.push(n),this._activeRequest===r.NEW_FOLDER&&this._findParentFolderAndRemoveItemsByIds(o,[n]),this._activeRequest===r.UPDATE&&this._findParentFolderAndRemoveItemsByIds(o,[n]),this._activeRequest===r.UPDATE_VERSION&&(delete l.status,this._findParentFolderAndUpdateItem(o,l)),(0,f.of)([])}_findParentFolderAndUpdateItem(o,l,n=this.items){if(o)for(let t=0;t<n.length;t++){const a=n[t];if("folder"===a.type)if(a.documentId===o){if(-1!==a.files.findIndex(p=>p.documentId===l.documentId)){a.files[t]=l;break}}else this._findParentFolderAndUpdateItem(o,l,a.files)}else{const t=n.findIndex(a=>a.documentId===l.documentId);-1!==t&&(n[t]=l)}}_findParentFolderAndAddNewFiles(o,l,n=this.items){if(0!==l.length){if(!o){const t=l.pop(),a=n.findIndex(s=>s.documentId===t.temporaryDocumentId);return-1!==a&&(n[a]=t.item),void(l.length>0&&this._findParentFolderAndAddNewFiles(o,l))}for(let t=0;t<n.length;t++){const a=n[t];if("folder"===a.type){if(a.documentId===o){const s=l.reduce((p,q)=>(p[q.temporaryDocumentId]=q.item,p),{});a.files=a.files.map(p=>p.documentId&&s[p.documentId]?s[p.documentId]:p);break}this._findParentFolderAndAddNewFiles(o,l,a.files)}}}}_findParentFolderAndAddFiles(o,l,n=this.items){if(0!==l.length){if(!o)return void n.push(...l);for(let t=0;t<n.length;t++){const a=n[t];if("folder"===a.type){if(a.documentId===o){a.files.push(...l);break}this._findParentFolderAndAddFiles(o,l,a.files)}}}}_findParentFolderAndRemoveItemsByIds(o,l,n=this.items){if(0!==l.length){if(!o){const t=l.pop(),a=n.findIndex(s=>s.documentId===t);return void(-1!==a&&(n.splice(a,1),this._findParentFolderAndRemoveItemsByIds(o,l)))}for(let t=0;t<n.length;t++){const a=n[t];if("folder"===a.type){if(a.documentId===o){a.files=a.files.filter(s=>!l.some(p=>p===s.documentId));break}this._findParentFolderAndRemoveItemsByIds(o,l,a.files)}}}}_generateNewFolder(o){return{documentId:(0,u.k$y)(),type:"folder",name:o,uploadedBy:{id:(0,u.k$y)(),name:"You"},uploadedOn:new Date,files:[],status:m.c4.SUCCESSFUL}}}var _=d(80529),W=d(30514),Z=d(4537);class y{constructor(o){this._http=o,this.itemsPerPage=[{label:5,default:!1},{label:10,default:!0},{label:15,default:!1},{label:20,default:!1}],this.mimeTypes=["image/png","image/jpeg"],this.fileTypes=["jpg","png","bmp"],this.dataSource=new m.mq(new V(o))}typeMismatch({source:o,payload:l}){console.log("typeMismatch",o,l)}filenameLengthExceed({source:o,payload:l}){console.log("filenameLengthExceed",o,l)}fileSizeExceed({source:o,payload:l}){console.log("fileSizeExceed",o,l)}}y.\u0275fac=function(o){return new(o||y)(e.Y36(_.eN))},y.\u0275cmp=e.Xpm({type:y,selectors:[["fdp-upload-collection-example"]],decls:1,vars:5,consts:[["fdCompact","","maxFileSize","1mb",3,"dataSource","maxFilenameLength","mimeTypes","fileTypes","itemsPerPage","typeMismatch","filenameLengthExceed","fileSizeExceed"]],template:function(o,l){1&o&&(e.TgZ(0,"fdp-upload-collection",0),e.NdJ("typeMismatch",function(t){return l.typeMismatch(t)})("filenameLengthExceed",function(t){return l.filenameLengthExceed(t)})("fileSizeExceed",function(t){return l.fileSizeExceed(t)}),e.qZA()),2&o&&e.Q6J("dataSource",l.dataSource)("maxFilenameLength",20)("mimeTypes",l.mimeTypes)("fileTypes",l.fileTypes)("itemsPerPage",l.itemsPerPage)},dependencies:[W.$,Z.T],encapsulation:2});class V extends S{fetch(o){return super.fetch(o).pipe((0,g.g)(300))}}class x{constructor(o){this._http=o,this.itemsPerPage=[{label:5,default:!1},{label:10,default:!0},{label:15,default:!1},{label:20,default:!1}],this.mimeTypes=["image/png","image/jpeg"],this.fileTypes=["jpg","png","bmp"],this.dataSource=new m.mq(new S(o))}typeMismatch({source:o,payload:l}){console.log("typeMismatch",o,l)}filenameLengthExceed({source:o,payload:l}){console.log("filenameLengthExceed",o,l)}fileSizeExceed({source:o,payload:l}){console.log("fileSizeExceed",o,l)}}x.\u0275fac=function(o){return new(o||x)(e.Y36(_.eN))},x.\u0275cmp=e.Xpm({type:x,selectors:[["fdp-upload-collection-disabled-example"]],decls:1,vars:6,consts:[["maxFileSize","1mb",3,"dataSource","maxFilenameLength","disabled","mimeTypes","fileTypes","itemsPerPage","typeMismatch","filenameLengthExceed","fileSizeExceed"]],template:function(o,l){1&o&&(e.TgZ(0,"fdp-upload-collection",0),e.NdJ("typeMismatch",function(t){return l.typeMismatch(t)})("filenameLengthExceed",function(t){return l.filenameLengthExceed(t)})("fileSizeExceed",function(t){return l.fileSizeExceed(t)}),e.qZA()),2&o&&e.Q6J("dataSource",l.dataSource)("maxFilenameLength",20)("disabled",!0)("mimeTypes",l.mimeTypes)("fileTypes",l.fileTypes)("itemsPerPage",l.itemsPerPage)},dependencies:[Z.T],encapsulation:2});class C{constructor(o){this._http=o,this.itemsPerPage=[{label:5,default:!1},{label:10,default:!0},{label:15,default:!1},{label:20,default:!1}],this.mimeTypes=["image/png","image/jpeg"],this.fileTypes=["jpg","png","bmp"],this.dataSource=new m.mq(new S(o))}typeMismatch({source:o,payload:l}){console.log("typeMismatch",o,l)}filenameLengthExceed({source:o,payload:l}){console.log("filenameLengthExceed",o,l)}fileSizeExceed({source:o,payload:l}){console.log("fileSizeExceed",o,l)}}C.\u0275fac=function(o){return new(o||C)(e.Y36(_.eN))},C.\u0275cmp=e.Xpm({type:C,selectors:[["fdp-upload-collection-readonly-example"]],decls:1,vars:6,consts:[["maxFileSize","1mb",3,"dataSource","maxFilenameLength","readonly","mimeTypes","fileTypes","itemsPerPage","typeMismatch","filenameLengthExceed","fileSizeExceed"]],template:function(o,l){1&o&&(e.TgZ(0,"fdp-upload-collection",0),e.NdJ("typeMismatch",function(t){return l.typeMismatch(t)})("filenameLengthExceed",function(t){return l.filenameLengthExceed(t)})("fileSizeExceed",function(t){return l.fileSizeExceed(t)}),e.qZA()),2&o&&e.Q6J("dataSource",l.dataSource)("maxFilenameLength",20)("readonly",!0)("mimeTypes",l.mimeTypes)("fileTypes",l.fileTypes)("itemsPerPage",l.itemsPerPage)},dependencies:[Z.T],encapsulation:2});class T{constructor(o){this._http=o,this.itemsPerPage=[{label:5,default:!1},{label:10,default:!0},{label:15,default:!1},{label:20,default:!1}],this.mimeTypes=["image/png","image/jpeg"],this.fileTypes=["jpg","png","bmp"],this.dataSource=new m.mq(new S(o))}typeMismatch({source:o,payload:l}){console.log("typeMismatch",o,l)}filenameLengthExceed({source:o,payload:l}){console.log("filenameLengthExceed",o,l)}fileSizeExceed({source:o,payload:l}){console.log("fileSizeExceed",o,l)}}T.\u0275fac=function(o){return new(o||T)(e.Y36(_.eN))},T.\u0275cmp=e.Xpm({type:T,selectors:[["fdp-upload-collection-turn-off-example"]],decls:1,vars:7,consts:[["maxFileSize","1mb",3,"dataSource","maxFilenameLength","showSearch","enablePagination","mimeTypes","fileTypes","itemsPerPage","typeMismatch","filenameLengthExceed","fileSizeExceed"]],template:function(o,l){1&o&&(e.TgZ(0,"fdp-upload-collection",0),e.NdJ("typeMismatch",function(t){return l.typeMismatch(t)})("filenameLengthExceed",function(t){return l.filenameLengthExceed(t)})("fileSizeExceed",function(t){return l.fileSizeExceed(t)}),e.qZA()),2&o&&e.Q6J("dataSource",l.dataSource)("maxFilenameLength",20)("showSearch",!1)("enablePagination",!1)("mimeTypes",l.mimeTypes)("fileTypes",l.fileTypes)("itemsPerPage",l.itemsPerPage)},dependencies:[Z.T],encapsulation:2});const F="platform-upload-collection-base-data-provider.ts";class P{constructor(){this.uploadCollection=[{language:"html",code:(0,c.getAssetFromModuleAssets)("platform-upload-collection-example.component.html"),fileName:"upload-collection-example",name:"Html"},{language:"typescript",code:(0,c.getAssetFromModuleAssets)("platform-upload-collection-example.component.ts"),fileName:"upload-collection-example",component:"UploadCollectionExampleComponent",name:"Component"},{language:"typescript",code:(0,c.getAssetFromModuleAssets)(F),fileName:"upload-collection-base",component:"UploadCollectionBaseService",name:"DataProvider"}],this.uploadCollectionReadOnly=[{language:"html",code:(0,c.getAssetFromModuleAssets)("platform-upload-collection-readonly-example.component.html"),fileName:"upload-collection-example",name:"Html"},{language:"typescript",code:(0,c.getAssetFromModuleAssets)("platform-upload-collection-readonly-example.component.ts"),fileName:"upload-collection-example",component:"UploadCollectionExampleComponent",name:"Component"},{language:"typescript",code:(0,c.getAssetFromModuleAssets)(F),fileName:"upload-collection-base",component:"UploadCollectionBaseService",name:"DataProvider"}],this.uploadCollectionDisabled=[{language:"html",code:(0,c.getAssetFromModuleAssets)("platform-upload-collection-disabled-example.component.html"),fileName:"upload-collection-disabled-example",name:"Html"},{language:"typescript",code:(0,c.getAssetFromModuleAssets)("platform-upload-collection-disabled-example.component.ts"),fileName:"upload-collection-disabled-example",component:"UploadCollectionExampleComponent",name:"Component"},{language:"typescript",code:(0,c.getAssetFromModuleAssets)(F),fileName:"upload-collection-base",component:"UploadCollectionBaseService",name:"DataProvider"}],this.uploadCollectionTurnOff=[{language:"html",code:(0,c.getAssetFromModuleAssets)("platform-upload-collection-turn-off-example.component.html"),fileName:"upload-collection-disabled-example",name:"Html"},{language:"typescript",code:(0,c.getAssetFromModuleAssets)("platform-upload-collection-turn-off-example.component.ts"),fileName:"upload-collection-disabled-example",component:"UploadCollectionExampleComponent",name:"Component"},{language:"typescript",code:(0,c.getAssetFromModuleAssets)(F),fileName:"upload-collection-base",component:"UploadCollectionBaseService",name:"DataProvider"}]}}P.\u0275fac=function(o){return new(o||P)},P.\u0275cmp=e.Xpm({type:P,selectors:[["app-platform-upload-collection"]],decls:47,vars:4,consts:[["id","default","componentName","upload-collection"],[3,"exampleFiles"],["id","disabled","componentName","upload-collection"],[1,"code-snippet"],["id","readonly","componentName","upload-collection"],["id","without-pagination-and-search","componentName","upload-collection"]],template:function(o,l){1&o&&(e.TgZ(0,"fd-docs-section-title",0),e._uU(1," Default "),e.qZA(),e._UZ(2,"description"),e.TgZ(3,"component-example"),e._UZ(4,"fdp-upload-collection-example"),e.qZA(),e._UZ(5,"code-example",1),e.TgZ(6,"fd-docs-section-title",2),e._uU(7," Disabled State "),e.qZA(),e.TgZ(8,"description"),e._uU(9,"Use "),e.TgZ(10,"code",3),e._uU(11,'[disable]="true"'),e.qZA(),e._uU(12," to disable all CRUD buttons."),e.qZA(),e.TgZ(13,"component-example"),e._UZ(14,"fdp-upload-collection-disabled-example"),e.qZA(),e._UZ(15,"code-example",1),e.TgZ(16,"fd-docs-section-title",4),e._uU(17," Readonly State "),e.qZA(),e.TgZ(18,"description"),e._uU(19,"Use "),e.TgZ(20,"code",3),e._uU(21,'[readonly]="true"'),e.qZA(),e._uU(22," to hide all CRUD buttons."),e.qZA(),e.TgZ(23,"component-example"),e._UZ(24,"fdp-upload-collection-readonly-example"),e.qZA(),e._UZ(25,"code-example",1),e.TgZ(26,"fd-docs-section-title",5),e._uU(27," Without Pagination and Search\n"),e.qZA(),e.TgZ(28,"description"),e._uU(29," Use "),e.TgZ(30,"code",3),e._uU(31,'[showSearch]="false"'),e.qZA(),e._uU(32," to hide search input, by default "),e.TgZ(33,"code",3),e._uU(34,'[showSearch]="true"'),e.qZA(),e._uU(35,". "),e._UZ(36,"br"),e._uU(37," Use "),e.TgZ(38,"code",3),e._uU(39,'[enablePagination]="false"'),e.qZA(),e._uU(40," to hide pagination, by default "),e.TgZ(41,"code",3),e._uU(42,'[enablePagination]="true"'),e.qZA(),e._uU(43,".\n"),e.qZA(),e.TgZ(44,"component-example"),e._UZ(45,"fdp-upload-collection-turn-off-example"),e.qZA(),e._UZ(46,"code-example",1)),2&o&&(e.xp6(5),e.Q6J("exampleFiles",l.uploadCollection),e.xp6(10),e.Q6J("exampleFiles",l.uploadCollectionDisabled),e.xp6(10),e.Q6J("exampleFiles",l.uploadCollectionReadOnly),e.xp6(21),e.Q6J("exampleFiles",l.uploadCollectionTurnOff))},dependencies:[J.E,D.w,j.k,$.O,y,x,C,T],encapsulation:2});var ae=d(10728),ie=d(38631),de=d(48208),se=d(67604),ce=d(19086),pe=d(62448);class E{}E.\u0275fac=function(o){return new(o||E)},E.\u0275cmp=e.Xpm({type:E,selectors:[["fd-upload-collection-header"]],decls:33,vars:2,consts:[["type","warning",3,"dismissible"],["label","SAP Ariba Component","title","SAP Ariba Component","color","8"],[1,"code-snippet"],["module","PlatformUploadCollectionModule","subPackage","upload-collection"],[3,"hasI18n"]],template:function(o,l){1&o&&(e.TgZ(0,"fd-doc-page")(1,"header"),e._uU(2,"Upload Collection"),e.qZA(),e.TgZ(3,"fd-message-strip",0),e._uU(4," DEPRECATED. The component is not a standard SAP Design System component. "),e.qZA(),e._UZ(5,"fd-info-label",1),e.TgZ(6,"description")(7,"p"),e._uU(8,"The upload collection allows users to upload one or more files from different devices."),e.qZA(),e.TgZ(9,"h3"),e._uU(10,"Usage"),e.qZA(),e.TgZ(11,"p"),e._uU(12,"Use the upload collection if:"),e.qZA(),e.TgZ(13,"ul")(14,"li"),e._uU(15,"You want to show a list of uploaded files that can be modified."),e.qZA(),e.TgZ(16,"li"),e._uU(17,"You want to allow users to add or remove files, and to change the file names."),e.qZA()(),e.TgZ(18,"p"),e._uU(19,"Don't use the upload collection if:"),e.qZA(),e.TgZ(20,"ul")(21,"li"),e._uU(22,"The user can upload only one file to the app. In this case, use the FileUploader control instead."),e.qZA()(),e.TgZ(23,"h3"),e._uU(24,"Required"),e.qZA(),e.TgZ(25,"ul")(26,"li"),e._uU(27," To use all CRUD operations need to describe "),e.TgZ(28,"code",2),e._uU(29,"UploadCollectionService"),e.qZA(),e._uU(30," (look at examples) "),e.qZA()()(),e._UZ(31,"import",3)(32,"fd-header-tabs",4),e.qZA()),2&o&&(e.xp6(3),e.Q6J("dismissible",!1),e.xp6(29),e.Q6J("hasI18n",!0))},dependencies:[ae.k,ie.G,de.c,D.w,se.h,ce.e,pe.i],encapsulation:2});var me=d(91591);const re=[{path:"",component:E,children:[{path:"",component:P},{path:"api",component:c.ApiComponent,data:{content:B.X.uploadCollection}},{path:"i18n",component:c.I18nDocsComponent,data:(0,c.getI18nKey)("platformUploadCollection")}]}];class h{}h.\u0275fac=function(o){return new(o||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({providers:[(0,me.PP)("fdp-upload-collection"),(0,c.currentComponentProvider)("upload-collection")],imports:[v.Bz.forChild(re),c.SharedDocumentationPageModule,m.HD,v.Bz]})}}]);