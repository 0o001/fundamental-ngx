"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4048],{34048:(ue,v,r)=>{r.r(v),r.d(v,{PlatformApprovalFlowDocsModule:()=>ce});var A=r(7912),M=r(79963),F=r(13154),I=r(10735),b=r(86168),D=r(53126),S=r(69979),P=r(58027),T=r(67949),e=r(70074),y=r(11825),x=r(92178),U=r(80320),E=r(38276),Z=r(29785),j=r(10990);let J=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["fd-approval-flow-header"]],decls:17,vars:1,consts:[["label","SAP Ariba Component","title","SAP Ariba Component","color","8"],["module","PlatformApprovalFlowModule","subPackage","approval-flow"],[3,"hasI18n"]],template:function(a,n){1&a&&(e.TgZ(0,"fd-doc-page")(1,"header"),e._uU(2,"Approval Flow"),e.qZA(),e._UZ(3,"fd-info-label",0),e.TgZ(4,"description"),e._uU(5," The Approval Flow component is a complex component which tracks and manages the approval process for a business object. From the Approval Flow component a user is able to: "),e.TgZ(6,"ul")(7,"li"),e._uU(8,"See the progress of the approval process"),e.qZA(),e.TgZ(9,"li"),e._uU(10,"Add, edit, move (drag and drop) and delete approvers"),e.qZA(),e.TgZ(11,"li"),e._uU(12,"Add and remove watchers"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"Send reminder notifications to approvers"),e.qZA()()(),e._UZ(15,"import",1)(16,"fd-header-tabs",2),e.qZA()),2&a&&(e.xp6(16),e.Q6J("hasI18n",!0))},dependencies:[y.k,x.G,U.c,E.w,Z.e,j.i]}),o})();var R=r(41767),O=r(8317),L=r(80528),q=r(40024),u=r(9237),w=r(86667),c=r(99916),m=r(11866),g=r(85756),f=r(10210),Q=r(96919),G=r(47618),$=r(23502);const H=["reminderTemplate"];function W(o,l){if(1&o&&(e.TgZ(0,"p",27)(1,"span"),e._uU(2,"Mobile"),e.qZA(),e.TgZ(3,"a",28),e._uU(4),e.qZA()()),2&o){const a=e.oxw().data;e.xp6(3),e.Q6J("href","tel:"+a.phone,e.LSH),e.xp6(1),e.Oqu(a.phone)}}function Y(o,l){if(1&o&&(e.TgZ(0,"p",27)(1,"span"),e._uU(2,"Phone"),e.qZA(),e.TgZ(3,"a",28),e._uU(4),e.qZA()()),2&o){const a=e.oxw().data;e.xp6(3),e.Q6J("href","tel:"+a.phone,e.LSH),e.xp6(1),e.Oqu(a.phone)}}function V(o,l){if(1&o&&(e.TgZ(0,"p",27)(1,"span"),e._uU(2,"E-mail"),e.qZA(),e.TgZ(3,"a",28),e._uU(4),e.qZA()()),2&o){const a=e.oxw().data;e.xp6(3),e.Q6J("href","mailto:"+a.email,e.LSH),e.xp6(1),e.Oqu(a.email)}}function X(o,l){if(1&o&&(e.TgZ(0,"h4",24),e._uU(1,"Contact info"),e.qZA(),e.YNc(2,W,5,2,"p",25),e.YNc(3,Y,5,2,"p",25),e.YNc(4,V,5,2,"p",25),e.TgZ(5,"h4",26),e._uU(6,"Company"),e.qZA(),e.TgZ(7,"p",27)(8,"span"),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"p",27)(13,"span"),e._uU(14,"Address"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"481 West Street, Anytown OH, 83749, USA"),e.qZA()()),2&o){const a=l.data;e.xp6(2),e.Q6J("ngIf",null==a?null:a.phone),e.xp6(1),e.Q6J("ngIf",null==a?null:a.phone),e.xp6(1),e.Q6J("ngIf",null==a?null:a.email),e.xp6(7),e.hij("Company A",null==a?null:a.email,"")}}function z(o,l){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const a=e.oxw().$implicit;e.xp6(1),e.hij(" Reminder has been sent to ",a.data.targets[0].name," ")}}function K(o,l){if(1&o&&e._uU(0),2&o){const a=e.oxw().$implicit;e.AsE(" Reminder has been sent to ",a.data.targets.length," members of ",a.data.node.description," ")}}function ee(o,l){if(1&o&&(e.YNc(0,z,2,1,"ng-container",29),e.YNc(1,K,1,2,"ng-template",null,30,e.W1O)),2&o){const a=l.$implicit,n=e.MAs(2);e.Q6J("ngIf",1===a.data.targets.length)("ngIfElse",n)}}function ne(o,l){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&o){const a=l.$implicit;e.Q6J("value",a),e.xp6(1),e.Oqu(e.lcZ(2,2,a))}}let ae=(()=>{class o{constructor(a){this._messageToastService=a,this.graphs=le(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new c._1(new C),this.watcherDataSource=new c._1(new C),this.teamDataSource=new c.L8(new pe),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected"],this.sendReminderStatuses=["in progress","not started"],this.disableSaveButton=!1,this.disableExitButton=!1,this._subscriptions=new q.w0,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(a){console.log("valueChanged",a)}sendReminders(a){this._messageToastService.open(this._reminderTemplate,{data:{targets:a.users,node:a.node},duration:5e3})}changeExampleData(){this.approvalProcess=(0,m.Z)(this.graphs[this.selectedExample])}toggleNodeActions(a){const d=(0,m.Z)(this._approvalFlow.approvalProcess);d.nodes.forEach(t=>{t.disableActions=a}),this.approvalProcess=d}toggleSpecificNodeAction(a,n){const t=(0,m.Z)(this._approvalFlow.approvalProcess);t.nodes.forEach(p=>{p.actionsConfig=Object.assign(Object.assign({},p.actionsConfig),{[a]:n})}),this.approvalProcess=t}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(n=>{if(this.newNodes.has(n.id)){const d=this._approvalFlow.getNodeMetadataByNodeId(n.id);d.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,d.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,d.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(a){console.log("Node click handler",a)}afterNodeAdd(a){console.log("After node add handler",a),this.newNodes.set(a.id,a),this.newNodeSettingsChange()}afterNodeEdit(a){console.log("After node edit handler",a),this.newNodeSettingsChange()}setNotStarted(){const a=this._approvalFlow.approvalProcess,n=new Map(this.graphs[this.selectedExample].nodes.map(t=>[t.id,t])),d=(0,m.Z)(a);d.nodes=d.nodes.map(t=>{const p=this.setNotStartedStatuses||!n.has(t.id)?"not started":n.get(t.id).status;return Object.assign(Object.assign({},t),{status:p})}),this.approvalProcess=d}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(D.H2))},o.\u0275cmp=e.Xpm({type:o,selectors:[["fdp-platform-approval-flow-example"]],viewQuery:function(a,n){if(1&a&&(e.Gf(b.KF,5),e.Gf(H,5)),2&a){let d;e.iGM(d=e.CRH())&&(n._approvalFlow=d.first),e.iGM(d=e.CRH())&&(n._reminderTemplate=d.first)}},decls:68,vars:36,consts:[["title","Basic Approval Flow Demo",3,"value","userDetailsTemplate","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton","nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders"],["userDetailsTemplate",""],["reminderTemplate",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange"],["id","disableAddingNodeBefore","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableRemovingNode"],[2,"display","flex","align-items","center","flex-wrap","wrap"],["fdCompact","",2,"margin-left","0.5rem",3,"dropdownValues","ngModel","ngModelChange"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallelForNewNodes"],[2,"margin-bottom","1rem"],["style","display: flex; flex-direction: column",4,"ngIf"],[2,"margin-top","1.5rem","margin-bottom","1rem"],[2,"display","flex","flex-direction","column"],[3,"href"],[4,"ngIf","ngIfElse"],["multipleReceivers",""],[3,"value"]],template:function(a,n){if(1&a&&(e.TgZ(0,"fdp-approval-flow",0),e.NdJ("nodeClick",function(t){return n.nodeClick(t)})("afterNodeAdd",function(t){return n.afterNodeAdd(t)})("afterNodeEdit",function(t){return n.afterNodeEdit(t)})("valueChange",function(t){return n.valueChanged(t)})("sendReminders",function(t){return n.sendReminders(t)}),e.qZA(),e.YNc(1,X,17,4,"ng-template",null,1,e.W1O),e.YNc(3,ee,3,2,"ng-template",null,2,e.W1O),e.TgZ(5,"p"),e._uU(6," Selected example: "),e.TgZ(7,"select",3),e.NdJ("ngModelChange",function(t){return n.selectedExample=t})("ngModelChange",function(){return n.changeExampleData()}),e.YNc(8,ne,3,4,"option",4),e.qZA()(),e.TgZ(9,"p"),e._uU(10,'Enable "Edit mode": '),e.TgZ(11,"input",5),e.NdJ("ngModelChange",function(t){return n.editModeEnabled=t}),e.qZA()(),e.TgZ(12,"p"),e._uU(13,"Enable due date warnings: "),e.TgZ(14,"input",5),e.NdJ("ngModelChange",function(t){return n.checkDueDate=t}),e.qZA()(),e.TgZ(15,"p"),e._uU(16,' Set all statuses to "Not Started": '),e.TgZ(17,"input",5),e.NdJ("ngModelChange",function(t){return n.setNotStartedStatuses=t})("ngModelChange",function(){return n.setNotStarted()}),e.qZA()(),e.TgZ(18,"p"),e._uU(19," Disable all node actions: "),e.TgZ(20,"input",5),e.NdJ("ngModelChange",function(t){return n.nodeActionsDisabled=t})("ngModelChange",function(t){return n.toggleNodeActions(t)}),e.qZA()(),e.TgZ(21,"p"),e._uU(22,"Disable certain node actions:"),e.qZA(),e.TgZ(23,"div")(24,"p")(25,"input",6),e.NdJ("ngModelChange",function(t){return n.nodeActionsConfig.disableAddBefore=t})("ngModelChange",function(t){return n.toggleSpecificNodeAction("disableAddBefore",t)}),e.qZA(),e.TgZ(26,"label",7),e._uU(27,"Disable adding before"),e.qZA()(),e.TgZ(28,"p")(29,"input",8),e.NdJ("ngModelChange",function(t){return n.nodeActionsConfig.disableAddAfter=t})("ngModelChange",function(t){return n.toggleSpecificNodeAction("disableAddAfter",t)}),e.qZA(),e.TgZ(30,"label",9),e._uU(31,"Disable adding after"),e.qZA()(),e.TgZ(32,"p")(33,"input",10),e.NdJ("ngModelChange",function(t){return n.nodeActionsConfig.disableAddParallel=t})("ngModelChange",function(t){return n.toggleSpecificNodeAction("disableAddParallel",t)}),e.qZA(),e.TgZ(34,"label",11),e._uU(35,"Disable adding parallel"),e.qZA()(),e.TgZ(36,"p")(37,"input",12),e.NdJ("ngModelChange",function(t){return n.nodeActionsConfig.disableEdit=t})("ngModelChange",function(t){return n.toggleSpecificNodeAction("disableEdit",t)}),e.qZA(),e.TgZ(38,"label",13),e._uU(39,"Disable editing"),e.qZA()(),e.TgZ(40,"p")(41,"input",14),e.NdJ("ngModelChange",function(t){return n.nodeActionsConfig.disableRemove=t})("ngModelChange",function(t){return n.toggleSpecificNodeAction("disableRemove",t)}),e.qZA(),e.TgZ(42,"label",15),e._uU(43,"Disable removing"),e.qZA()()(),e.TgZ(44,"p",16),e._uU(45," Allow sending reminders to approvers with statuses: "),e.TgZ(46,"fd-multi-input",17),e.NdJ("ngModelChange",function(t){return n.sendReminderStatuses=t}),e.qZA()(),e.TgZ(47,"p"),e._uU(48,"Disable certain node actions for newly added nodes:"),e.qZA(),e.TgZ(49,"div")(50,"p")(51,"input",18),e.NdJ("ngModelChange",function(t){return n.nodeActionsConfigForNewNodes.disableAddBefore=t})("ngModelChange",function(){return n.newNodeSettingsChange()}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"Disable adding before"),e.qZA()(),e.TgZ(54,"p")(55,"input",20),e.NdJ("ngModelChange",function(t){return n.nodeActionsConfigForNewNodes.disableAddAfter=t})("ngModelChange",function(){return n.newNodeSettingsChange()}),e.qZA(),e.TgZ(56,"label",21),e._uU(57,"Disable adding after"),e.qZA()(),e.TgZ(58,"p")(59,"input",22),e.NdJ("ngModelChange",function(t){return n.nodeActionsConfigForNewNodes.disableAddParallel=t})("ngModelChange",function(){return n.newNodeSettingsChange()}),e.qZA(),e.TgZ(60,"label",23),e._uU(61,"Disable adding parallel"),e.qZA()()(),e.TgZ(62,"p"),e._uU(63,'Disable "Save" button: '),e.TgZ(64,"input",5),e.NdJ("ngModelChange",function(t){return n.disableSaveButton=t}),e.qZA()(),e.TgZ(65,"p"),e._uU(66,'Disable "Exit" button: '),e.TgZ(67,"input",5),e.NdJ("ngModelChange",function(t){return n.disableExitButton=t}),e.qZA()()),2&a){const d=e.MAs(2);e.Q6J("value",n.approvalProcess)("userDetailsTemplate",d)("userDataSource",n.userDataSource)("watcherDataSource",n.watcherDataSource)("teamDataSource",n.teamDataSource)("checkDueDate",n.checkDueDate)("allowSendRemindersForStatuses",n.sendReminderStatuses)("isEditAvailable",n.editModeEnabled)("disableSaveButton",n.disableSaveButton)("disableExitButton",n.disableExitButton),e.xp6(7),e.Q6J("ngModel",n.selectedExample),e.xp6(1),e.Q6J("ngForOf",n.examples),e.xp6(3),e.Q6J("ngModel",n.editModeEnabled),e.xp6(3),e.Q6J("ngModel",n.checkDueDate),e.xp6(3),e.Q6J("ngModel",n.setNotStartedStatuses),e.xp6(3),e.Q6J("ngModel",n.nodeActionsDisabled),e.xp6(5),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableAddBefore),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableAddAfter),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableAddParallel),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableEdit),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfig.disableRemove),e.xp6(5),e.Q6J("dropdownValues",n.allStatuses)("ngModel",n.sendReminderStatuses),e.xp6(5),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfigForNewNodes.disableAddBefore),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfigForNewNodes.disableAddAfter),e.xp6(4),e.Q6J("disabled",n.nodeActionsDisabled)("ngModel",n.nodeActionsConfigForNewNodes.disableAddParallel),e.xp6(5),e.Q6J("ngModel",n.disableSaveButton),e.xp6(3),e.Q6J("ngModel",n.disableExitButton)}},dependencies:[g.YN,g.Kr,g.Wl,g.EJ,g.JJ,g.On,f.sg,f.O5,Q.$,G.K,$.L,f.rS],encapsulation:2}),o})();const N={};[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}].forEach(o=>N[o.id]=o);const le=()=>({empty:{watchers:[i("uid66161")],nodes:[]},simple:{watchers:[i("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[i("uid81955")],status:"approved",targets:["ID2"],dueDate:s(30),createDate:s(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[i("uid66171")],status:"in progress",targets:["ID3"],dueDate:s(10),createDate:s(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[i("uid81355")],status:"not started",targets:[],dueDate:s(10),createDate:s(-30)}]},medium:{watchers:[i("uid66151"),i("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[i("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:s(30),createDate:s(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[i("uid66171")],status:"in progress",targets:["ID3"],dueDate:s(30),createDate:s(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[i("uid77135")],status:"approved",targets:["ID3"],dueDate:s(30),createDate:s(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[i("uid77111"),i("uid09641"),i("uid09141"),i("uid37866"),i("uid99641"),i("uid38141")],status:"not started",targets:["ID3"],dueDate:s(5),createDate:s(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[i("uid81355")],status:"not started",targets:["ID4"],dueDate:s(30),createDate:s(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[i("uid99651")],status:"not started",targets:[],dueDate:s(30),createDate:s(-30)}]},complex:{watchers:[i("uid66151"),i("uid66141"),i("uid99651"),i("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[i("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:s(30),createDate:s(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[i("uid66171")],status:"in progress",targets:["ID3"],dueDate:s(30),createDate:s(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[i("uid28141")],status:"approved",targets:["ID220"],dueDate:s(30),createDate:s(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[i("uid77111"),i("uid09641")],status:"in progress",targets:["ID2220"],dueDate:s(3),createDate:s(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[i("uid08141")],status:"rejected",targets:["ID3"],dueDate:s(30),createDate:s(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[i("uid81353")],status:"not started",targets:["ID3"],dueDate:s(30),createDate:s(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[i("uid81355")],status:"not started",targets:["ID4"],dueDate:s(30),createDate:s(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[i("uid99651")],status:"not started",targets:[],dueDate:s(30),createDate:s(-30)}]}});function i(o){return N[o]}function s(o){return new Date(Date.now()+864e5*o)}class C extends c.FW{fetch(l){var a;let n=[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}];const d=null===(a=l.get("query"))||void 0===a?void 0:a.toLowerCase();return d&&(n=n.filter(t=>{var p;return null===(p=t.name)||void 0===p?void 0:p.toLowerCase().startsWith(d)})),(0,u.of)((0,m.Z)(n)).pipe((0,w.g)(500))}getOne(l){const a=l.get("id"),n=[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}].find(d=>d.id===a);return(0,u.of)(Object.assign(Object.assign({},n),{phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${n.name.toLowerCase().split(" ").join(".")}@company.com`}))}}class pe extends c.FW{fetch(l){var a;let n=[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(o=>i(o))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(o=>i(o))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(o=>i(o))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(o=>i(o))}];const d=null===(a=l.get("query"))||void 0===a?void 0:a.toLowerCase();return d&&(n=n.filter(t=>{var p;return null===(p=t.name)||void 0===p?void 0:p.toLowerCase().startsWith(d)})),(0,u.of)((0,m.Z)(n)).pipe((0,w.g)(500))}}let me=(()=>{class o{constructor(){this.basic=[{language:"html",code:'<fdp-approval-flow\n    title="Basic Approval Flow Demo"\n    [value]="approvalProcess"\n    [userDetailsTemplate]="userDetailsTemplate"\n    [userDataSource]="userDataSource"\n    [watcherDataSource]="watcherDataSource"\n    [teamDataSource]="teamDataSource"\n    [checkDueDate]="checkDueDate"\n    [allowSendRemindersForStatuses]="sendReminderStatuses"\n    [isEditAvailable]="editModeEnabled"\n    [disableSaveButton]="disableSaveButton"\n    [disableExitButton]="disableExitButton"\n    (nodeClick)="nodeClick($event)"\n    (afterNodeAdd)="afterNodeAdd($event)"\n    (afterNodeEdit)="afterNodeEdit($event)"\n    (valueChange)="valueChanged($event)"\n    (sendReminders)="sendReminders($event)"\n>\n</fdp-approval-flow>\n\n<ng-template #userDetailsTemplate let-data="data">\n    <h4 style="margin-bottom: 1rem">Contact info</h4>\n\n    <p style="display: flex; flex-direction: column" *ngIf="data?.phone">\n        <span>Mobile</span>\n        <a [href]="\'tel:\' + data.phone">{{ data.phone }}</a>\n    </p>\n\n    <p style="display: flex; flex-direction: column" *ngIf="data?.phone">\n        <span>Phone</span>\n        <a [href]="\'tel:\' + data.phone">{{ data.phone }}</a>\n    </p>\n\n    <p style="display: flex; flex-direction: column" *ngIf="data?.email">\n        <span>E-mail</span>\n        <a [href]="\'mailto:\' + data.email">{{ data.email }}</a>\n    </p>\n\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem">Company</h4>\n\n    <p style="display: flex; flex-direction: column">\n        <span>Name</span>\n        <span>Company A{{ data?.email }}</span>\n    </p>\n\n    <p style="display: flex; flex-direction: column">\n        <span>Address</span>\n        <span>481 West Street, Anytown OH, 83749, USA</span>\n    </p>\n</ng-template>\n\n<ng-template let-messageToast #reminderTemplate>\n    <ng-container *ngIf="messageToast.data.targets.length === 1; else multipleReceivers">\n        Reminder has been sent to {{ messageToast.data.targets[0].name }}\n    </ng-container>\n\n    <ng-template #multipleReceivers>\n        Reminder has been sent to {{ messageToast.data.targets.length }} members of\n        {{ messageToast.data.node.description }}\n    </ng-template>\n</ng-template>\n\n\x3c!-- Playground code below, not related to the component itself --\x3e\n\n<p>\n    Selected example:\n    <select [(ngModel)]="selectedExample" (ngModelChange)="changeExampleData()">\n        <option *ngFor="let example of examples" [value]="example">{{ example | titlecase }}</option>\n    </select>\n</p>\n<p>Enable "Edit mode": <input type="checkbox" [(ngModel)]="editModeEnabled" /></p>\n<p>Enable due date warnings: <input type="checkbox" [(ngModel)]="checkDueDate" /></p>\n<p>\n    Set all statuses to "Not Started":\n    <input type="checkbox" [(ngModel)]="setNotStartedStatuses" (ngModelChange)="setNotStarted()" />\n</p>\n<p>\n    Disable all node actions:\n    <input type="checkbox" [(ngModel)]="nodeActionsDisabled" (ngModelChange)="toggleNodeActions($event)" />\n</p>\n<p>Disable certain node actions:</p>\n<div>\n    <p>\n        <input\n            id="disableAddingNodeBefore"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableAddBefore"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableAddBefore\', $event)"\n        />\n        <label for="disableAddingNodeBefore">Disable adding before</label>\n    </p>\n\n    <p>\n        <input\n            id="disableAddingNodeAfter"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableAddAfter"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableAddAfter\', $event)"\n        />\n        <label for="disableAddingNodeAfter">Disable adding after</label>\n    </p>\n\n    <p>\n        <input\n            id="disableAddingNodeParallel"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableAddParallel"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableAddParallel\', $event)"\n        />\n        <label for="disableAddingNodeParallel">Disable adding parallel</label>\n    </p>\n\n    <p>\n        <input\n            id="disableEditingNode"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableEdit"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableEdit\', $event)"\n        />\n        <label for="disableEditingNode">Disable editing</label>\n    </p>\n\n    <p>\n        <input\n            id="disableRemovingNode"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfig.disableRemove"\n            (ngModelChange)="toggleSpecificNodeAction(\'disableRemove\', $event)"\n        />\n        <label for="disableRemovingNode">Disable removing</label>\n    </p>\n</div>\n<p style="display: flex; align-items: center; flex-wrap: wrap">\n    Allow sending reminders to approvers with statuses:\n    <fd-multi-input\n        style="margin-left: 0.5rem"\n        fdCompact\n        [dropdownValues]="allStatuses"\n        [(ngModel)]="sendReminderStatuses"\n    ></fd-multi-input>\n</p>\n<p>Disable certain node actions for newly added nodes:</p>\n<div>\n    <p>\n        <input\n            id="disableAddingNodeBeforeForNewNodes"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfigForNewNodes.disableAddBefore"\n            (ngModelChange)="newNodeSettingsChange()"\n        />\n        <label for="disableAddingNodeBeforeForNewNodes">Disable adding before</label>\n    </p>\n\n    <p>\n        <input\n            id="disableAddingNodeAfterForNewNodes"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfigForNewNodes.disableAddAfter"\n            (ngModelChange)="newNodeSettingsChange()"\n        />\n        <label for="disableAddingNodeAfterForNewNodes">Disable adding after</label>\n    </p>\n\n    <p>\n        <input\n            id="disableAddingNodeParallelForNewNodes"\n            [disabled]="nodeActionsDisabled"\n            type="checkbox"\n            [(ngModel)]="nodeActionsConfigForNewNodes.disableAddParallel"\n            (ngModelChange)="newNodeSettingsChange()"\n        />\n        <label for="disableAddingNodeParallelForNewNodes">Disable adding parallel</label>\n    </p>\n</div>\n<p>Disable "Save" button: <input type="checkbox" [(ngModel)]="disableSaveButton" /></p>\n<p>Disable "Exit" button: <input type="checkbox" [(ngModel)]="disableExitButton" /></p>\n',fileName:"platform-approval-flow-example",name:"approval-flow-example.component.html"},{language:"typescript",code:"import { Component, OnDestroy, TemplateRef, ViewChild } from '@angular/core';\nimport { Subscription, of, Observable } from 'rxjs';\nimport { delay } from 'rxjs/operators';\n\nimport {\n    ApprovalFlowComponent,\n    ApprovalNode,\n    ApprovalNodeActionsConfig,\n    ApprovalProcess,\n    ApprovalStatus,\n    ApprovalTeam,\n    ApprovalUser,\n    SendRemindersData\n} from '@fundamental-ngx/platform/approval-flow';\nimport {\n    DataProvider,\n    ProviderParams,\n    ApprovalFlowUserDataSource,\n    ApprovalFlowTeamDataSource\n} from '@fundamental-ngx/platform/shared';\nimport { cloneDeep } from 'lodash-es';\nimport { MessageToastService } from '@fundamental-ngx/core/message-toast';\n\n@Component({\n    selector: 'fdp-platform-approval-flow-example',\n    templateUrl: './platform-approval-flow-example.component.html'\n})\nexport class PlatformApprovalFlowExampleComponent implements OnDestroy {\n    private graphs = getGraphs();\n\n    /** @hidden */\n    @ViewChild(ApprovalFlowComponent)\n    _approvalFlow: ApprovalFlowComponent;\n\n    @ViewChild('reminderTemplate') _reminderTemplate: TemplateRef<any>;\n\n    examples: GraphTypes[] = ['empty', 'simple', 'medium', 'complex'];\n    selectedExample: GraphTypes = 'complex';\n    approvalProcess: ApprovalProcess = this.graphs[this.selectedExample];\n\n    userDataSource = new ApprovalFlowUserDataSource(new UserDataProvider());\n    watcherDataSource = new ApprovalFlowUserDataSource(new UserDataProvider());\n    teamDataSource = new ApprovalFlowTeamDataSource(new TeamDataProvider());\n\n    checkDueDate = false;\n    setNotStartedStatuses = false;\n    editModeEnabled = true;\n    nodeActionsDisabled = false;\n    nodeActionsConfig: ApprovalNodeActionsConfig = {\n        disableAddBefore: false,\n        disableAddAfter: false,\n        disableAddParallel: false,\n        disableEdit: false,\n        disableRemove: false\n    };\n    nodeActionsConfigForNewNodes: ApprovalNodeActionsConfig = {\n        disableAddBefore: false,\n        disableAddAfter: false,\n        disableAddParallel: false\n    };\n    allStatuses = ['in progress', 'not started', 'approved', 'rejected'];\n    sendReminderStatuses: ApprovalStatus[] = ['in progress', 'not started'];\n\n    /** @hidden */\n    disableSaveButton = false;\n\n    /** @hidden */\n    disableExitButton = false;\n\n    private _subscriptions = new Subscription();\n\n    /** @hidden */\n    private newNodes = new Map<ApprovalNode['id'], ApprovalNode>();\n\n    constructor(private readonly _messageToastService: MessageToastService) {}\n\n    ngOnDestroy(): void {\n        this._subscriptions.unsubscribe();\n    }\n\n    valueChanged(updatedApprovalProcess: ApprovalProcess): void {\n        console.log('valueChanged', updatedApprovalProcess);\n    }\n\n    sendReminders(data: SendRemindersData): void {\n        this._messageToastService.open(this._reminderTemplate, {\n            data: {\n                targets: data.users,\n                node: data.node\n            },\n            duration: 5000\n        });\n    }\n\n    changeExampleData(): void {\n        this.approvalProcess = cloneDeep(this.graphs[this.selectedExample]);\n    }\n\n    toggleNodeActions(state: boolean): void {\n        const approvalProcess = this._approvalFlow.approvalProcess;\n        const updatedState = cloneDeep(approvalProcess);\n        updatedState.nodes.forEach((node) => {\n            node.disableActions = state;\n        });\n        this.approvalProcess = updatedState;\n    }\n\n    toggleSpecificNodeAction(field: keyof ApprovalNodeActionsConfig, state: boolean): void {\n        const approvalProcess = this._approvalFlow.approvalProcess;\n        const updatedState = cloneDeep(approvalProcess);\n        updatedState.nodes.forEach((node) => {\n            node.actionsConfig = {\n                ...node.actionsConfig,\n                [field]: state\n            };\n        });\n        this.approvalProcess = updatedState;\n    }\n\n    newNodeSettingsChange(): void {\n        const approvalProcess = this._approvalFlow.approvalProcess;\n\n        approvalProcess.nodes.forEach((node) => {\n            if (this.newNodes.has(node.id)) {\n                const meta = this._approvalFlow.getNodeMetadataByNodeId(node.id);\n\n                meta.canAddNodeAfter = !this.nodeActionsConfigForNewNodes.disableAddAfter;\n                meta.canAddNodeBefore = !this.nodeActionsConfigForNewNodes.disableAddBefore;\n                meta.canAddParallel = !this.nodeActionsConfigForNewNodes.disableAddParallel;\n            }\n        });\n    }\n\n    nodeClick(node: ApprovalNode): void {\n        console.log('Node click handler', node);\n    }\n\n    /** Event listener for afterNodeAdd event */\n    afterNodeAdd(node: ApprovalNode): void {\n        console.log('After node add handler', node);\n        this.newNodes.set(node.id, node);\n\n        this.newNodeSettingsChange();\n    }\n\n    /** Event listener for afterNodeEdit event */\n    afterNodeEdit(node: ApprovalNode): void {\n        console.log('After node edit handler', node);\n        this.newNodeSettingsChange();\n    }\n\n    setNotStarted(): void {\n        const approvalProcess = this._approvalFlow.approvalProcess;\n        const initialNodeMap = new Map(\n            (this.graphs[this.selectedExample] as ApprovalProcess).nodes.map((n) => [n.id, n])\n        );\n        const updatedState = cloneDeep(approvalProcess);\n        updatedState.nodes = updatedState.nodes.map((n) => {\n            const status =\n                this.setNotStartedStatuses || !initialNodeMap.has(n.id)\n                    ? 'not started'\n                    : (initialNodeMap.get(n.id) as ApprovalNode).status;\n            return {\n                ...n,\n                status\n            };\n        });\n\n        this.approvalProcess = updatedState;\n    }\n}\n\n/** For all code below\n * TODO #5351: Split into separate file after \"pure\" files will be allowed by the StackBlitz service\n */\n\nconst DAY_IN_MILLISECONDS = 1000 * 60 * 60 * 24;\n\nconst users: () => ApprovalUser[] = () => [\n    {\n        id: 'uid28141',\n        teamId: 'teamId3',\n        name: 'Luis Franklin',\n        description: 'Legal team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/91.jpg'\n    },\n    {\n        id: 'uid08141',\n        teamId: 'teamId3',\n        name: 'Renee Miles',\n        description: 'Legal team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/11.jpg'\n    },\n    {\n        id: 'uid99641',\n        teamId: 'teamId3',\n        name: 'Elaine Myers',\n        description: 'Legal team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/75.jpg'\n    },\n    {\n        id: 'uid38141',\n        teamId: 'teamId4',\n        name: 'Emma Cole',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/91.jpg'\n    },\n    {\n        id: 'uid37866',\n        teamId: 'teamId4',\n        name: 'Daniel Sullivan',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/9.jpg'\n    },\n    {\n        id: 'uid09141',\n        teamId: 'teamId4',\n        name: 'Salvador Duncan',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/14.jpg'\n    },\n    {\n        id: 'uid09641',\n        teamId: 'teamId4',\n        name: 'Caleb Taylor',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/17.jpg'\n    },\n    {\n        id: 'uid99651',\n        teamId: 'teamId4',\n        name: 'Julie Peters',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/77.jpg'\n    },\n    {\n        id: 'uid99655',\n        teamId: 'teamId4',\n        name: 'Fred Gibson',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/45.jpg'\n    },\n    {\n        id: 'uid81355',\n        teamId: 'teamId4',\n        name: 'George Carter',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/85.jpg'\n    },\n    {\n        id: 'uid81353',\n        teamId: 'teamId4',\n        name: 'Lillian Walker',\n        description: 'Marketing team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/25.jpg'\n    },\n    {\n        id: 'uid81955',\n        teamId: 'teamId2',\n        name: 'Josephine Carlson',\n        description: 'Sales team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/88.jpg'\n    },\n    {\n        id: 'uid77135',\n        teamId: 'teamId2',\n        name: 'Tristan Sutton',\n        description: 'Sales team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/5.jpg'\n    },\n    {\n        id: 'uid77115',\n        teamId: 'teamId2',\n        name: 'Alvin Stephens',\n        description: 'Sales team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/78.jpg'\n    },\n    {\n        id: 'uid77111',\n        teamId: 'teamId2',\n        name: 'Logan Herrera',\n        description: 'Sales team',\n        imgUrl: 'https://randomuser.me/api/portraits/men/53.jpg'\n    },\n    {\n        id: 'uid66141',\n        teamId: 'teamId1',\n        name: 'Melissa Martin',\n        description: 'Accounting team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/87.jpg'\n    },\n    {\n        id: 'uid66151',\n        teamId: 'teamId1',\n        name: 'Sofia Hanson',\n        description: 'Accounting team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/24.jpg'\n    },\n    {\n        id: 'uid66161',\n        teamId: 'teamId1',\n        name: 'Jill Fuller',\n        description: 'Accounting team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/64.jpg'\n    },\n    {\n        id: 'uid66171',\n        teamId: 'teamId1',\n        name: 'Ella Franklin',\n        description: 'Accounting team',\n        imgUrl: 'https://randomuser.me/api/portraits/women/55.jpg'\n    }\n];\n\nconst usersMap = {};\nusers().forEach((u) => (usersMap[u.id] = u));\n\nconst teams: () => ApprovalTeam[] = () => [\n    {\n        id: 'teamId1',\n        name: 'Accounting team',\n        description: '',\n        members: ['uid66171', 'uid66161', 'uid66151', 'uid66141'].map((id) => getUser(id))\n    },\n    {\n        id: 'teamId2',\n        name: 'Sales team',\n        description: '',\n        members: ['uid77111', 'uid77115', 'uid77135', 'uid81955'].map((id) => getUser(id))\n    },\n    {\n        id: 'teamId3',\n        name: 'Legal team',\n        description: '',\n        members: ['uid28141', 'uid08141', 'uid99641'].map((id) => getUser(id))\n    },\n    {\n        id: 'teamId4',\n        name: 'Marketing team',\n        description: '',\n        members: ['uid38141', 'uid37866', 'uid09141', 'uid81353', 'uid81355', 'uid99655', 'uid09641', 'uid99651'].map(\n            (id) => getUser(id)\n        )\n    }\n];\n\nconst emptyGraph: () => ApprovalProcess = () => ({\n    watchers: [getUser('uid66161')],\n    nodes: []\n});\n\nconst simpleGraph: () => ApprovalProcess = () => ({\n    watchers: [getUser('uid66161')],\n    nodes: [\n        {\n            id: 'ID1',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81955')],\n            status: 'approved',\n            targets: ['ID2'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID2',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid66171')],\n            status: 'in progress',\n            targets: ['ID3'],\n            dueDate: daysFromNow(10),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID3',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81355')],\n            status: 'not started',\n            targets: [],\n            dueDate: daysFromNow(10),\n            createDate: daysFromNow(-30)\n        }\n    ]\n});\n\nconst mediumGraph: () => ApprovalProcess = () => ({\n    watchers: [getUser('uid66151'), getUser('uid77115')],\n    nodes: [\n        {\n            id: 'ID1',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81955')],\n            status: 'approved',\n            targets: ['ID2', 'ID22', 'ID222'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID2',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid66171')],\n            status: 'in progress',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID22',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid77135')],\n            status: 'approved',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID222',\n            name: 'node name',\n            description: 'Marketing team',\n            approvers: [\n                getUser('uid77111'),\n                getUser('uid09641'),\n                getUser('uid09141'),\n                getUser('uid37866'),\n                getUser('uid99641'),\n                getUser('uid38141')\n            ],\n            status: 'not started',\n            targets: ['ID3'],\n            dueDate: daysFromNow(5),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID3',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81355')],\n            status: 'not started',\n            targets: ['ID4'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID4',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid99651')],\n            status: 'not started',\n            targets: [],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        }\n    ]\n});\n\nconst complexGraph: () => ApprovalProcess = () => ({\n    watchers: [getUser('uid66151'), getUser('uid66141'), getUser('uid99651'), getUser('uid99655')],\n    nodes: [\n        {\n            id: 'ID1',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81955')],\n            status: 'approved',\n            targets: ['ID2', 'ID22', 'ID222'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID2',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid66171')],\n            status: 'in progress',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID22',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid28141')],\n            status: 'approved',\n            targets: ['ID220'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID222',\n            name: 'node name',\n            description: 'Marketing team',\n            approvers: [getUser('uid77111'), getUser('uid09641')],\n            status: 'in progress',\n            targets: ['ID2220'],\n            dueDate: daysFromNow(3),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID220',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid08141')],\n            status: 'rejected',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID2220',\n            name: 'node name',\n            description: 'Marketing',\n            approvers: [getUser('uid81353')],\n            status: 'not started',\n            targets: ['ID3'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID3',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid81355')],\n            status: 'not started',\n            targets: ['ID4'],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        },\n        {\n            id: 'ID4',\n            name: 'node name',\n            description: 'node description',\n            approvers: [getUser('uid99651')],\n            status: 'not started',\n            targets: [],\n            dueDate: daysFromNow(30),\n            createDate: daysFromNow(-30)\n        }\n    ]\n});\n\nconst getGraphs: () => Record<GraphTypes, ApprovalProcess> = () => ({\n    empty: emptyGraph(),\n    simple: simpleGraph(),\n    medium: mediumGraph(),\n    complex: complexGraph()\n});\n\nfunction getUser(id: string): ApprovalUser {\n    return usersMap[id];\n}\n\nfunction daysFromNow(days: number): Date {\n    return new Date(Date.now() + DAY_IN_MILLISECONDS * days);\n}\n\ntype GraphTypes = 'empty' | 'simple' | 'medium' | 'complex';\n\nclass UserDataProvider extends DataProvider<ApprovalUser> {\n    fetch(params: ProviderParams): Observable<ApprovalUser[]> {\n        let result = users();\n        const query = params.get('query')?.toLowerCase();\n        if (query) {\n            result = result.filter((u) => u.name?.toLowerCase().startsWith(query));\n        }\n        return of(cloneDeep(result)).pipe(delay(500));\n    }\n\n    getOne(params: ProviderParams): Observable<ApprovalUser & { phone: string; email: string }> {\n        const id = params.get('id');\n        const found = users().find((user) => user.id === id) as ApprovalUser;\n        return of({\n            ...found,\n            phone: Math.random().toFixed(13).toString().replace('0.', ''),\n            email: `${found.name.toLowerCase().split(' ').join('.')}@company.com`\n        });\n    }\n}\n\nclass TeamDataProvider extends DataProvider<ApprovalTeam> {\n    fetch(params: ProviderParams): Observable<ApprovalTeam[]> {\n        let result = teams();\n        const query = params.get('query')?.toLowerCase();\n        if (query) {\n            result = result.filter((u) => u.name?.toLowerCase().startsWith(query));\n        }\n        return of(cloneDeep(result)).pipe(delay(500));\n    }\n}\n",fileName:"platform-approval-flow-example",component:"PlatformApprovalFlowExampleComponent",name:"approval-flow-example.component.ts"}]}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-approval-flow"]],decls:5,vars:1,consts:[["id","approval-flow","componentName","approval-flow"],[3,"exampleFiles"]],template:function(a,n){1&a&&(e.TgZ(0,"fd-docs-section-title",0),e._uU(1," Approval flow "),e.qZA(),e.TgZ(2,"component-example"),e._UZ(3,"fdp-platform-approval-flow-example"),e.qZA(),e._UZ(4,"code-example",1)),2&a&&(e.xp6(4),e.Q6J("exampleFiles",n.basic))},dependencies:[R.E,O.k,L.O,ae],encapsulation:2}),o})();var _=r(61830);const ge=[{path:"",component:J,children:[{path:"",component:me},{path:"api",component:S.h,data:{content:P.X.approvalFlow}},{path:"i18n",component:_.P,data:(0,_.G)("platformApprovalFlow")}]}];let ce=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[I.qF],imports:[A.Bz.forChild(ge),T.g,b.vU,M.Yp,F.Qj,D.GC,A.Bz]}),o})()}}]);